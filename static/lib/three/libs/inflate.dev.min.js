/** @license zlib.js 2012 - imaya [ https://github.com/imaya/zlib.js ] The MIT License */(function() {'use strict';function m(a){throw a;}var q=void 0,aa=this;function s(a,c){var d=a.split("."),b=aa;!(d[0]in b)&&b.execScript&&b.execScript("var "+d[0]);for(var e;d.length&&(e=d.shift());)!d.length&&c!==q?b[e]=c:b=b[e]?b[e]:b[e]={}};var u="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Uint32Array&&"undefined"!==typeof DataView;function x(a){var c=a.length,d=0,b=Number.POSITIVE_INFINITY,e,g,f,l,h,k,n,p,t,y;for(p=0;p<c;++p)a[p]>d&&(d=a[p]),a[p]<b&&(b=a[p]);e=1<<d;g=new (u?Uint32Array:Array)(e);f=1;l=0;for(h=2;f<=d;){for(p=0;p<c;++p)if(a[p]===f){k=0;n=l;for(t=0;t<f;++t)k=k<<1|n&1,n>>=1;y=f<<16|p;for(t=k;t<e;t+=h)g[t]=y;++l}++f;l<<=1;h<<=1}return[g,d,b]};function ba(a,c){this.g=[];this.h=32768;this.d=this.f=this.a=this.j=0;this.input=u?new Uint8Array(a):a;this.k=!1;this.e=z;this.o=!1;if(c||!(c={}))c.index&&(this.a=c.index),c.bufferSize&&(this.h=c.bufferSize),c.bufferType&&(this.e=c.bufferType),c.resize&&(this.o=c.resize);switch(this.e){case A:this.b=32768;this.c=new (u?Uint8Array:Array)(32768+this.h+258);break;case z:this.b=0;this.c=new (u?Uint8Array:Array)(this.h);break;default:m(Error("invalid inflate mode"))}}var A=0,z=1,ca={q:A,p:z};
ba.prototype.i=function(){for(;!this.k;){var a=B(this,3);a&1&&(this.k=!0);a>>>=1;switch(a){case 0:var c=this.input,d=this.a,b=this.c,e=this.b,g=c.length,f=q,l=q,h=b.length,k=q;this.d=this.f=0;d+1>=g&&m(Error("invalid uncompressed block header: LEN"));f=c[d++]|c[d++]<<8;d+1>=g&&m(Error("invalid uncompressed block header: NLEN"));l=c[d++]|c[d++]<<8;f===~l&&m(Error("invalid uncompressed block header: length verify"));d+f>c.length&&m(Error("input buffer is broken"));switch(this.e){case A:for(;e+f>b.length;){k=
h-e;f-=k;if(u)b.set(c.subarray(d,d+k),e),e+=k,d+=k;else for(;k--;)b[e++]=c[d++];this.b=e;b=D(this);e=this.b}break;case z:for(;e+f>b.length;)b=E(this,{m:2});break;default:m(Error("invalid inflate mode"))}if(u)b.set(c.subarray(d,d+f),e),e+=f,d+=f;else for(;f--;)b[e++]=c[d++];this.a=d;this.b=e;this.c=b;break;case 1:switch(this.e){case z:da(this,ea,fa);break;case A:ga(this,ea,fa);break;default:m(Error("invalid inflate mode"))}break;case 2:for(var n=B(this,5)+257,p=B(this,5)+1,t=B(this,4)+4,y=new (u?Uint8Array:
Array)(H.length),ja=q,T=q,U=q,v=q,V=q,J=q,C=q,r=q,ka=q,r=0;r<t;++r)y[H[r]]=B(this,3);if(!u){r=t;for(t=y.length;r<t;++r)y[H[r]]=0}ja=x(y);v=new (u?Uint8Array:Array)(n+p);r=0;for(ka=n+p;r<ka;)switch(V=I(this,ja),V){case 16:for(C=3+B(this,2);C--;)v[r++]=J;break;case 17:for(C=3+B(this,3);C--;)v[r++]=0;J=0;break;case 18:for(C=11+B(this,7);C--;)v[r++]=0;J=0;break;default:J=v[r++]=V}T=u?x(v.subarray(0,n)):x(v.slice(0,n));U=u?x(v.subarray(n)):x(v.slice(n));switch(this.e){case z:da(this,T,U);break;case A:ga(this,
T,U);break;default:m(Error("invalid inflate mode"))}break;default:m(Error("unknown BTYPE: "+a))}}switch(this.e){case A:var W;var la=0,za=this.c,X=this.g,Y,Z=new (u?Uint8Array:Array)(this.j+(this.b-32768)),w,K,L,ma;if(0===X.length)W=u?this.c.subarray(32768,this.b):this.c.slice(32768,this.b);else{w=0;for(K=X.length;w<K;++w){Y=X[w];L=0;for(ma=Y.length;L<ma;++L)Z[la++]=Y[L]}w=32768;for(K=this.b;w<K;++w)Z[la++]=za[w];this.g=[];W=this.buffer=Z}return W;case z:var F,G=this.b;u?this.o?(F=new Uint8Array(G),
F.set(this.c.subarray(0,G))):F=this.c.subarray(0,G):(this.c.length>G&&(this.c.length=G),F=this.c);return this.buffer=F;default:m(Error("invalid inflate mode"))}};
var ha=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],H=u?new Uint16Array(ha):ha,ia=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],na=u?new Uint16Array(ia):ia,oa=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],M=u?new Uint8Array(oa):oa,pa=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],qa=u?new Uint16Array(pa):pa,ra=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,
11,11,12,12,13,13],N=u?new Uint8Array(ra):ra,O=new (u?Uint8Array:Array)(288),P,sa;P=0;for(sa=O.length;P<sa;++P)O[P]=143>=P?8:255>=P?9:279>=P?7:8;var ea=x(O),ta=new (u?Uint8Array:Array)(30),Q,ua;Q=0;for(ua=ta.length;Q<ua;++Q)ta[Q]=5;var fa=x(ta);function B(a,c){var d=a.f,b=a.d,e=a.input,g=a.a,f;g+(c-b+7>>3)>=e.length&&m(Error("input buffer is broken"));for(;b<c;)d|=e[g++]<<b,b+=8;f=d&(1<<c)-1;a.f=d>>>c;a.d=b-c;a.a=g;return f}
function I(a,c){for(var d=a.f,b=a.d,e=a.input,g=a.a,f=e.length,l=c[0],h=c[1],k,n;b<h&&!(g>=f);)d|=e[g++]<<b,b+=8;k=l[d&(1<<h)-1];n=k>>>16;n>b&&m(Error("invalid code length: "+n));a.f=d>>n;a.d=b-n;a.a=g;return k&65535}
function ga(a,c,d){var b=a.c,e=a.b;a.l=c;for(var g=b.length-258,f,l,h,k;256!==(f=I(a,c));)if(256>f)e>=g&&(a.b=e,b=D(a),e=a.b),b[e++]=f;else{l=f-257;k=na[l];0<M[l]&&(k+=B(a,M[l]));f=I(a,d);h=qa[f];0<N[f]&&(h+=B(a,N[f]));e>=g&&(a.b=e,b=D(a),e=a.b);for(;k--;)b[e]=b[e++-h]}for(;8<=a.d;)a.d-=8,a.a--;a.b=e}
function da(a,c,d){var b=a.c,e=a.b;a.l=c;for(var g=b.length,f,l,h,k;256!==(f=I(a,c));)if(256>f)e>=g&&(b=E(a),g=b.length),b[e++]=f;else{l=f-257;k=na[l];0<M[l]&&(k+=B(a,M[l]));f=I(a,d);h=qa[f];0<N[f]&&(h+=B(a,N[f]));e+k>g&&(b=E(a),g=b.length);for(;k--;)b[e]=b[e++-h]}for(;8<=a.d;)a.d-=8,a.a--;a.b=e}
function D(a){var c=new (u?Uint8Array:Array)(a.b-32768),d=a.b-32768,b,e,g=a.c;if(u)c.set(g.subarray(32768,c.length));else{b=0;for(e=c.length;b<e;++b)c[b]=g[b+32768]}a.g.push(c);a.j+=c.length;if(u)g.set(g.subarray(d,d+32768));else for(b=0;32768>b;++b)g[b]=g[d+b];a.b=32768;return g}
function E(a,c){var d,b=a.input.length/a.a+1|0,e,g,f,l=a.input,h=a.c;c&&("number"===typeof c.m&&(b=c.m),"number"===typeof c.r&&(b+=c.r));2>b?(e=(l.length-a.a)/a.l[2],f=258*(e/2)|0,g=f<h.length?h.length+f:h.length<<1):g=h.length*b;u?(d=new Uint8Array(g),d.set(h)):d=h;a.c=d;return a.c};function va(a,c){var d,b;this.input=a;this.a=0;if(c||!(c={}))c.index&&(this.a=c.index),c.verify&&(this.s=c.verify);d=a[this.a++];b=a[this.a++];switch(d&15){case wa:this.method=wa;break;default:m(Error("unsupported compression method"))}0!==((d<<8)+b)%31&&m(Error("invalid fcheck flag:"+((d<<8)+b)%31));b&32&&m(Error("fdict flag is not supported"));this.n=new ba(a,{index:this.a,bufferSize:c.bufferSize,bufferType:c.bufferType,resize:c.resize})}
va.prototype.i=function(){var a=this.input,c,d;c=this.n.i();this.a=this.n.a;if(this.s){d=(a[this.a++]<<24|a[this.a++]<<16|a[this.a++]<<8|a[this.a++])>>>0;var b=c;if("string"===typeof b){var e=b.split(""),g,f;g=0;for(f=e.length;g<f;g++)e[g]=(e[g].charCodeAt(0)&255)>>>0;b=e}for(var l=1,h=0,k=b.length,n,p=0;0<k;){n=1024<k?1024:k;k-=n;do l+=b[p++],h+=l;while(--n);l%=65521;h%=65521}d!==(h<<16|l)>>>0&&m(Error("invalid adler-32 checksum"))}return c};var wa=8;s("Zlib.Inflate",va);s("Zlib.Inflate.prototype.decompress",va.prototype.i);var xa={ADAPTIVE:ca.p,BLOCK:ca.q},R,S,$,ya;if(Object.keys)R=Object.keys(xa);else for(S in R=[],$=0,xa)R[$++]=S;$=0;for(ya=R.length;$<ya;++$)S=R[$],s("Zlib.Inflate.BufferType."+S,xa[S]);}).call(this);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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XFx0eXBlZGFycmF5XFxoeWJyaWQuanMiLCJzcmNcXGh1ZmZtYW4uanMiLCJzcmNcXHJhd2luZmxhdGUuanMiLCJzcmNcXGluZmxhdGUuanMiLCJzcmNcXGFkbGVyMzIuanMiLCJzcmNcXHV0aWwuanMiLCJzcmNcXHpsaWIuanMiLCJleHBvcnRcXGluZmxhdGUuanMiLCJzcmNcXGV4cG9ydF9vYmplY3QuanMiXSwibmFtZXMiOlsiZ29vZy5nbG9iYWwiLCJnb29nLmV4cG9ydFBhdGhfIiwibmFtZSIsIm9wdF9vYmplY3QiLCJwYXJ0cyIsInNwbGl0IiwiY3VyIiwiZXhlY1NjcmlwdCIsInBhcnQiLCJsZW5ndGgiLCJzaGlmdCIsIkpTQ29tcGlsZXJfYWxpYXNfVk9JRCIsIlVTRV9UWVBFREFSUkFZIiwiVWludDhBcnJheSIsIlVpbnQxNkFycmF5IiwiVWludDMyQXJyYXkiLCJEYXRhVmlldyIsIlpsaWIuSHVmZm1hbi5idWlsZEh1ZmZtYW5UYWJsZSIsImxlbmd0aHMiLCJsaXN0U2l6ZSIsIm1heENvZGVMZW5ndGgiLCJtaW5Db2RlTGVuZ3RoIiwiTnVtYmVyIiwiUE9TSVRJVkVfSU5GSU5JVFkiLCJzaXplIiwidGFibGUiLCJiaXRMZW5ndGgiLCJjb2RlIiwic2tpcCIsInJldmVyc2VkIiwicnRlbXAiLCJpIiwiaiIsInZhbHVlIiwiQXJyYXkiLCJabGliLlJhd0luZmxhdGUiLCJpbnB1dCIsIm9wdF9wYXJhbXMiLCJibG9ja3MiLCJidWZmZXJTaXplIiwiWkxJQl9SQVdfSU5GTEFURV9CVUZGRVJfU0laRSIsImJpdHNidWZsZW4iLCJiaXRzYnVmIiwiaXAiLCJ0b3RhbHBvcyIsImJmaW5hbCIsImJ1ZmZlclR5cGUiLCJabGliLlJhd0luZmxhdGUuQnVmZmVyVHlwZS5BREFQVElWRSIsInJlc2l6ZSIsIlpsaWIuUmF3SW5mbGF0ZS5CdWZmZXJUeXBlLkJMT0NLIiwib3AiLCJabGliLlJhd0luZmxhdGUuTWF4QmFja3dhcmRMZW5ndGgiLCJvdXRwdXQiLCJabGliLlJhd0luZmxhdGUuTWF4Q29weUxlbmd0aCIsIkpTQ29tcGlsZXJfYWxpYXNfVEhST1ciLCJFcnJvciIsIkJMT0NLIiwiQURBUFRJVkUiLCJabGliLlJhd0luZmxhdGUuQnVmZmVyVHlwZSIsInByb3RvdHlwZSIsImRlY29tcHJlc3MiLCJabGliLlJhd0luZmxhdGUucHJvdG90eXBlLmRlY29tcHJlc3MiLCJoZHIiLCJyZWFkQml0cyIsInBhcnNlQmxvY2siLCJpbnB1dExlbmd0aCIsImxlbiIsIm5sZW4iLCJvbGVuZ3RoIiwicHJlQ29weSIsInNldCIsInN1YmFycmF5IiwiZXhwYW5kQnVmZmVyQmxvY2siLCJleHBhbmRCdWZmZXJBZGFwdGl2ZSIsImRlY29kZUh1ZmZtYW5BZGFwdGl2ZSIsIlpsaWIuUmF3SW5mbGF0ZS5GaXhlZExpdGVyYWxMZW5ndGhUYWJsZSIsIlpsaWIuUmF3SW5mbGF0ZS5GaXhlZERpc3RhbmNlVGFibGUiLCJkZWNvZGVIdWZmbWFuQmxvY2siLCJobGl0IiwiaGRpc3QiLCJoY2xlbiIsImNvZGVMZW5ndGhzIiwiWmxpYi5SYXdJbmZsYXRlLk9yZGVyLmxlbmd0aCIsImNvZGVMZW5ndGhzVGFibGUiLCJsaXRsZW5UYWJsZSIsImRpc3RUYWJsZSIsImxlbmd0aFRhYmxlIiwicHJldiIsInJlcGVhdCIsImlsIiwiWmxpYi5SYXdJbmZsYXRlLk9yZGVyIiwicmVhZENvZGVCeVRhYmxlIiwic2xpY2UiLCJwb3MiLCJjb25jYXRCdWZmZXJCbG9jayIsImJsb2NrIiwiYnVmZmVyIiwiamwiLCJjb25jYXRCdWZmZXJEeW5hbWljIiwiWmxpYi5SYXdJbmZsYXRlLkxlbmd0aENvZGVUYWJsZSIsIlpsaWIuUmF3SW5mbGF0ZS5MZW5ndGhFeHRyYVRhYmxlIiwiWmxpYi5SYXdJbmZsYXRlLkRpc3RDb2RlVGFibGUiLCJabGliLlJhd0luZmxhdGUuRGlzdEV4dHJhVGFibGUiLCJabGliLlJhd0luZmxhdGUucHJvdG90eXBlLnJlYWRCaXRzIiwib2N0ZXQiLCJabGliLlJhd0luZmxhdGUucHJvdG90eXBlLnJlYWRDb2RlQnlUYWJsZSIsImNvZGVUYWJsZSIsImNvZGVXaXRoTGVuZ3RoIiwiY29kZUxlbmd0aCIsIlpsaWIuUmF3SW5mbGF0ZS5wcm90b3R5cGUuZGVjb2RlSHVmZm1hbkJsb2NrIiwibGl0bGVuIiwiZGlzdCIsImN1cnJlbnRMaXRsZW5UYWJsZSIsInRpIiwiY29kZURpc3QiLCJabGliLlJhd0luZmxhdGUucHJvdG90eXBlLmRlY29kZUh1ZmZtYW5BZGFwdGl2ZSIsIlpsaWIuUmF3SW5mbGF0ZS5wcm90b3R5cGUuZXhwYW5kQnVmZmVyQmxvY2siLCJiYWNrd2FyZCIsInB1c2giLCJabGliLlJhd0luZmxhdGUucHJvdG90eXBlLmV4cGFuZEJ1ZmZlckFkYXB0aXZlIiwib3B0X3BhcmFtIiwicmF0aW8iLCJtYXhIdWZmQ29kZSIsIm5ld1NpemUiLCJtYXhJbmZsYXRlU2l6ZSIsImZpeFJhdGlvIiwiYWRkUmF0aW8iLCJabGliLkluZmxhdGUiLCJjbWYiLCJmbGciLCJ2ZXJpZnkiLCJabGliLkNvbXByZXNzaW9uTWV0aG9kLkRFRkxBVEUiLCJtZXRob2QiLCJyYXdpbmZsYXRlIiwiWmxpYi5JbmZsYXRlLnByb3RvdHlwZS5kZWNvbXByZXNzIiwiYWRsZXIzMiIsImFycmF5IiwidG1wIiwiY2hhckNvZGVBdCIsInMxIiwiczIiLCJ0bGVuIiwiWmxpYi5BZGxlcjMyLk9wdGltaXphdGlvblBhcmFtZXRlciIsIkRFRkxBVEUiLCJwdWJsaWNQYXRoIiwia2V5cyIsImtleSIsIk9iamVjdCIsImV4cG9ydEtleVZhbHVlIiwib2JqZWN0Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDA2IFRoZSBDbG9zdXJlIExpYnJhcnkgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cclxuLy9cclxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuLy9cclxuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuLy9cclxuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXHJcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG5cclxuLyoqXHJcbiAqIEBmaWxlb3ZlcnZpZXcgQm9vdHN0cmFwIGZvciB0aGUgR29vZ2xlIEpTIExpYnJhcnkgKENsb3N1cmUpLlxyXG4gKlxyXG4gKiBJbiB1bmNvbXBpbGVkIG1vZGUgYmFzZS5qcyB3aWxsIHdyaXRlIG91dCBDbG9zdXJlJ3MgZGVwcyBmaWxlLCB1bmxlc3MgdGhlXHJcbiAqIGdsb2JhbCA8Y29kZT5DTE9TVVJFX05PX0RFUFM8L2NvZGU+IGlzIHNldCB0byB0cnVlLiAgVGhpcyBhbGxvd3MgcHJvamVjdHMgdG9cclxuICogaW5jbHVkZSB0aGVpciBvd24gZGVwcyBmaWxlKHMpIGZyb20gZGlmZmVyZW50IGxvY2F0aW9ucy5cclxuICpcclxuICovXHJcblxyXG5cclxuLyoqXHJcbiAqIEBkZWZpbmUge2Jvb2xlYW59IE92ZXJyaWRkZW4gdG8gdHJ1ZSBieSB0aGUgY29tcGlsZXIgd2hlbiAtLWNsb3N1cmVfcGFzc1xyXG4gKiAgICAgb3IgLS1tYXJrX2FzX2NvbXBpbGVkIGlzIHNwZWNpZmllZC5cclxuICovXHJcbnZhciBDT01QSUxFRCA9IGZhbHNlO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBCYXNlIG5hbWVzcGFjZSBmb3IgdGhlIENsb3N1cmUgbGlicmFyeS4gIENoZWNrcyB0byBzZWUgZ29vZyBpc1xyXG4gKiBhbHJlYWR5IGRlZmluZWQgaW4gdGhlIGN1cnJlbnQgc2NvcGUgYmVmb3JlIGFzc2lnbmluZyB0byBwcmV2ZW50XHJcbiAqIGNsb2JiZXJpbmcgaWYgYmFzZS5qcyBpcyBsb2FkZWQgbW9yZSB0aGFuIG9uY2UuXHJcbiAqXHJcbiAqIEBjb25zdFxyXG4gKi9cclxudmFyIGdvb2cgPSBnb29nIHx8IHt9OyAvLyBJZGVudGlmaWVzIHRoaXMgZmlsZSBhcyB0aGUgQ2xvc3VyZSBiYXNlLlxyXG5cclxuXHJcbi8qKlxyXG4gKiBSZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBjb250ZXh0LiAgSW4gbW9zdCBjYXNlcyB0aGlzIHdpbGwgYmUgJ3dpbmRvdycuXHJcbiAqL1xyXG5nb29nLmdsb2JhbCA9IHRoaXM7XHJcblxyXG5cclxuLyoqXHJcbiAqIEBkZWZpbmUge2Jvb2xlYW59IERFQlVHIGlzIHByb3ZpZGVkIGFzIGEgY29udmVuaWVuY2Ugc28gdGhhdCBkZWJ1Z2dpbmcgY29kZVxyXG4gKiB0aGF0IHNob3VsZCBub3QgYmUgaW5jbHVkZWQgaW4gYSBwcm9kdWN0aW9uIGpzX2JpbmFyeSBjYW4gYmUgZWFzaWx5IHN0cmlwcGVkXHJcbiAqIGJ5IHNwZWNpZnlpbmcgLS1kZWZpbmUgZ29vZy5ERUJVRz1mYWxzZSB0byB0aGUgSlNDb21waWxlci4gRm9yIGV4YW1wbGUsIG1vc3RcclxuICogdG9TdHJpbmcoKSBtZXRob2RzIHNob3VsZCBiZSBkZWNsYXJlZCBpbnNpZGUgYW4gXCJpZiAoZ29vZy5ERUJVRylcIiBjb25kaXRpb25hbFxyXG4gKiBiZWNhdXNlIHRoZXkgYXJlIGdlbmVyYWxseSB1c2VkIGZvciBkZWJ1Z2dpbmcgcHVycG9zZXMgYW5kIGl0IGlzIGRpZmZpY3VsdFxyXG4gKiBmb3IgdGhlIEpTQ29tcGlsZXIgdG8gc3RhdGljYWxseSBkZXRlcm1pbmUgd2hldGhlciB0aGV5IGFyZSB1c2VkLlxyXG4gKi9cclxuZ29vZy5ERUJVRyA9IHRydWU7XHJcblxyXG5cclxuLyoqXHJcbiAqIEBkZWZpbmUge3N0cmluZ30gTE9DQUxFIGRlZmluZXMgdGhlIGxvY2FsZSBiZWluZyB1c2VkIGZvciBjb21waWxhdGlvbi4gSXQgaXNcclxuICogdXNlZCB0byBzZWxlY3QgbG9jYWxlIHNwZWNpZmljIGRhdGEgdG8gYmUgY29tcGlsZWQgaW4ganMgYmluYXJ5LiBCVUlMRCBydWxlXHJcbiAqIGNhbiBzcGVjaWZ5IHRoaXMgdmFsdWUgYnkgXCItLWRlZmluZSBnb29nLkxPQ0FMRT08bG9jYWxlX25hbWU+XCIgYXMgSlNDb21waWxlclxyXG4gKiBvcHRpb24uXHJcbiAqXHJcbiAqIFRha2UgaW50byBhY2NvdW50IHRoYXQgdGhlIGxvY2FsZSBjb2RlIGZvcm1hdCBpcyBpbXBvcnRhbnQuIFlvdSBzaG91bGQgdXNlXHJcbiAqIHRoZSBjYW5vbmljYWwgVW5pY29kZSBmb3JtYXQgd2l0aCBoeXBoZW4gYXMgYSBkZWxpbWl0ZXIuIExhbmd1YWdlIG11c3QgYmVcclxuICogbG93ZXJjYXNlLCBMYW5ndWFnZSBTY3JpcHQgLSBDYXBpdGFsaXplZCwgUmVnaW9uIC0gVVBQRVJDQVNFLlxyXG4gKiBUaGVyZSBhcmUgZmV3IGV4YW1wbGVzOiBwdC1CUiwgZW4sIGVuLVVTLCBzci1MYXRpbi1CTywgemgtSGFucy1DTi5cclxuICpcclxuICogU2VlIG1vcmUgaW5mbyBhYm91dCBsb2NhbGUgY29kZXMgaGVyZTpcclxuICogaHR0cDovL3d3dy51bmljb2RlLm9yZy9yZXBvcnRzL3RyMzUvI1VuaWNvZGVfTGFuZ3VhZ2VfYW5kX0xvY2FsZV9JZGVudGlmaWVyc1xyXG4gKlxyXG4gKiBGb3IgbGFuZ3VhZ2UgY29kZXMgeW91IHNob3VsZCB1c2UgdmFsdWVzIGRlZmluZWQgYnkgSVNPIDY5My0xLiBTZWUgaXQgaGVyZVxyXG4gKiBodHRwOi8vd3d3LnczLm9yZy9XQUkvRVIvSUcvZXJ0L2lzbzYzOS5odG0uIFRoZXJlIGlzIG9ubHkgb25lIGV4Y2VwdGlvbiBmcm9tXHJcbiAqIHRoaXMgcnVsZTogdGhlIEhlYnJldyBsYW5ndWFnZS4gRm9yIGxlZ2FjeSByZWFzb25zIHRoZSBvbGQgY29kZSAoaXcpIHNob3VsZFxyXG4gKiBiZSB1c2VkIGluc3RlYWQgb2YgdGhlIG5ldyBjb2RlIChoZSksIHNlZSBodHRwOi8vd2lraS9NYWluL0lJSVN5bm9ueW1zLlxyXG4gKi9cclxuZ29vZy5MT0NBTEUgPSAnZW4nOyAgLy8gZGVmYXVsdCB0byBlblxyXG5cclxuXHJcbi8qKlxyXG4gKiBDcmVhdGVzIG9iamVjdCBzdHVicyBmb3IgYSBuYW1lc3BhY2UuICBUaGUgcHJlc2VuY2Ugb2Ygb25lIG9yIG1vcmVcclxuICogZ29vZy5wcm92aWRlKCkgY2FsbHMgaW5kaWNhdGUgdGhhdCB0aGUgZmlsZSBkZWZpbmVzIHRoZSBnaXZlblxyXG4gKiBvYmplY3RzL25hbWVzcGFjZXMuICBCdWlsZCB0b29scyBhbHNvIHNjYW4gZm9yIHByb3ZpZGUvcmVxdWlyZSBzdGF0ZW1lbnRzXHJcbiAqIHRvIGRpc2Nlcm4gZGVwZW5kZW5jaWVzLCBidWlsZCBkZXBlbmRlbmN5IGZpbGVzIChzZWUgZGVwcy5qcyksIGV0Yy5cclxuICogQHNlZSBnb29nLnJlcXVpcmVcclxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgTmFtZXNwYWNlIHByb3ZpZGVkIGJ5IHRoaXMgZmlsZSBpbiB0aGUgZm9ybVxyXG4gKiAgICAgXCJnb29nLnBhY2thZ2UucGFydFwiLlxyXG4gKi9cclxuZ29vZy5wcm92aWRlID0gZnVuY3Rpb24obmFtZSkge1xyXG4gIGlmICghQ09NUElMRUQpIHtcclxuICAgIC8vIEVuc3VyZSB0aGF0IHRoZSBzYW1lIG5hbWVzcGFjZSBpc24ndCBwcm92aWRlZCB0d2ljZS4gVGhpcyBpcyBpbnRlbmRlZFxyXG4gICAgLy8gdG8gdGVhY2ggbmV3IGRldmVsb3BlcnMgdGhhdCAnZ29vZy5wcm92aWRlJyBpcyBlZmZlY3RpdmVseSBhIHZhcmlhYmxlXHJcbiAgICAvLyBkZWNsYXJhdGlvbi4gQW5kIHdoZW4gSlNDb21waWxlciB0cmFuc2Zvcm1zIGdvb2cucHJvdmlkZSBpbnRvIGEgcmVhbFxyXG4gICAgLy8gdmFyaWFibGUgZGVjbGFyYXRpb24sIHRoZSBjb21waWxlZCBKUyBzaG91bGQgd29yayB0aGUgc2FtZSBhcyB0aGUgcmF3XHJcbiAgICAvLyBKUy0tZXZlbiB3aGVuIHRoZSByYXcgSlMgdXNlcyBnb29nLnByb3ZpZGUgaW5jb3JyZWN0bHkuXHJcbiAgICBpZiAoZ29vZy5pc1Byb3ZpZGVkXyhuYW1lKSkge1xyXG4gICAgICB0aHJvdyBFcnJvcignTmFtZXNwYWNlIFwiJyArIG5hbWUgKyAnXCIgYWxyZWFkeSBkZWNsYXJlZC4nKTtcclxuICAgIH1cclxuICAgIGRlbGV0ZSBnb29nLmltcGxpY2l0TmFtZXNwYWNlc19bbmFtZV07XHJcblxyXG4gICAgdmFyIG5hbWVzcGFjZSA9IG5hbWU7XHJcbiAgICB3aGlsZSAoKG5hbWVzcGFjZSA9IG5hbWVzcGFjZS5zdWJzdHJpbmcoMCwgbmFtZXNwYWNlLmxhc3RJbmRleE9mKCcuJykpKSkge1xyXG4gICAgICBpZiAoZ29vZy5nZXRPYmplY3RCeU5hbWUobmFtZXNwYWNlKSkge1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIGdvb2cuaW1wbGljaXROYW1lc3BhY2VzX1tuYW1lc3BhY2VdID0gdHJ1ZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdvb2cuZXhwb3J0UGF0aF8obmFtZSk7XHJcbn07XHJcblxyXG5cclxuLyoqXHJcbiAqIE1hcmtzIHRoYXQgdGhlIGN1cnJlbnQgZmlsZSBzaG91bGQgb25seSBiZSB1c2VkIGZvciB0ZXN0aW5nLCBhbmQgbmV2ZXIgZm9yXHJcbiAqIGxpdmUgY29kZSBpbiBwcm9kdWN0aW9uLlxyXG4gKiBAcGFyYW0ge3N0cmluZz19IG9wdF9tZXNzYWdlIE9wdGlvbmFsIG1lc3NhZ2UgdG8gYWRkIHRvIHRoZSBlcnJvciB0aGF0J3NcclxuICogICAgIHJhaXNlZCB3aGVuIHVzZWQgaW4gcHJvZHVjdGlvbiBjb2RlLlxyXG4gKi9cclxuZ29vZy5zZXRUZXN0T25seSA9IGZ1bmN0aW9uKG9wdF9tZXNzYWdlKSB7XHJcbiAgaWYgKENPTVBJTEVEICYmICFnb29nLkRFQlVHKSB7XHJcbiAgICBvcHRfbWVzc2FnZSA9IG9wdF9tZXNzYWdlIHx8ICcnO1xyXG4gICAgdGhyb3cgRXJyb3IoJ0ltcG9ydGluZyB0ZXN0LW9ubHkgY29kZSBpbnRvIG5vbi1kZWJ1ZyBlbnZpcm9ubWVudCcgK1xyXG4gICAgICAgICAgICAgICAgb3B0X21lc3NhZ2UgPyAnOiAnICsgb3B0X21lc3NhZ2UgOiAnLicpO1xyXG4gIH1cclxufTtcclxuXHJcblxyXG5pZiAoIUNPTVBJTEVEKSB7XHJcblxyXG4gIC8qKlxyXG4gICAqIENoZWNrIGlmIHRoZSBnaXZlbiBuYW1lIGhhcyBiZWVuIGdvb2cucHJvdmlkZWQuIFRoaXMgd2lsbCByZXR1cm4gZmFsc2UgZm9yXHJcbiAgICogbmFtZXMgdGhhdCBhcmUgYXZhaWxhYmxlIG9ubHkgYXMgaW1wbGljaXQgbmFtZXNwYWNlcy5cclxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBuYW1lIG9mIHRoZSBvYmplY3QgdG8gbG9vayBmb3IuXHJcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgbmFtZSBoYXMgYmVlbiBwcm92aWRlZC5cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIGdvb2cuaXNQcm92aWRlZF8gPSBmdW5jdGlvbihuYW1lKSB7XHJcbiAgICByZXR1cm4gIWdvb2cuaW1wbGljaXROYW1lc3BhY2VzX1tuYW1lXSAmJiAhIWdvb2cuZ2V0T2JqZWN0QnlOYW1lKG5hbWUpO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIE5hbWVzcGFjZXMgaW1wbGljaXRseSBkZWZpbmVkIGJ5IGdvb2cucHJvdmlkZS4gRm9yIGV4YW1wbGUsXHJcbiAgICogZ29vZy5wcm92aWRlKCdnb29nLmV2ZW50cy5FdmVudCcpIGltcGxpY2l0bHkgZGVjbGFyZXNcclxuICAgKiB0aGF0ICdnb29nJyBhbmQgJ2dvb2cuZXZlbnRzJyBtdXN0IGJlIG5hbWVzcGFjZXMuXHJcbiAgICpcclxuICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgZ29vZy5pbXBsaWNpdE5hbWVzcGFjZXNfID0ge307XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogQnVpbGRzIGFuIG9iamVjdCBzdHJ1Y3R1cmUgZm9yIHRoZSBwcm92aWRlZCBuYW1lc3BhY2UgcGF0aCxcclxuICogZW5zdXJpbmcgdGhhdCBuYW1lcyB0aGF0IGFscmVhZHkgZXhpc3QgYXJlIG5vdCBvdmVyd3JpdHRlbi4gRm9yXHJcbiAqIGV4YW1wbGU6XHJcbiAqIFwiYS5iLmNcIiAtPiBhID0ge307YS5iPXt9O2EuYi5jPXt9O1xyXG4gKiBVc2VkIGJ5IGdvb2cucHJvdmlkZSBhbmQgZ29vZy5leHBvcnRTeW1ib2wuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIG5hbWUgb2YgdGhlIG9iamVjdCB0aGF0IHRoaXMgZmlsZSBkZWZpbmVzLlxyXG4gKiBAcGFyYW0geyo9fSBvcHRfb2JqZWN0IHRoZSBvYmplY3QgdG8gZXhwb3NlIGF0IHRoZSBlbmQgb2YgdGhlIHBhdGguXHJcbiAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0X29iamVjdFRvRXhwb3J0VG8gVGhlIG9iamVjdCB0byBhZGQgdGhlIHBhdGggdG87IGRlZmF1bHRcclxuICogICAgIGlzIHxnb29nLmdsb2JhbHwuXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5nb29nLmV4cG9ydFBhdGhfID0gZnVuY3Rpb24obmFtZSwgb3B0X29iamVjdCwgb3B0X29iamVjdFRvRXhwb3J0VG8pIHtcclxuICB2YXIgcGFydHMgPSBuYW1lLnNwbGl0KCcuJyk7XHJcbiAgdmFyIGN1ciA9IG9wdF9vYmplY3RUb0V4cG9ydFRvIHx8IGdvb2cuZ2xvYmFsO1xyXG5cclxuICAvLyBJbnRlcm5ldCBFeHBsb3JlciBleGhpYml0cyBzdHJhbmdlIGJlaGF2aW9yIHdoZW4gdGhyb3dpbmcgZXJyb3JzIGZyb21cclxuICAvLyBtZXRob2RzIGV4dGVybmVkIGluIHRoaXMgbWFubmVyLiAgU2VlIHRoZSB0ZXN0RXhwb3J0U3ltYm9sRXhjZXB0aW9ucyBpblxyXG4gIC8vIGJhc2VfdGVzdC5odG1sIGZvciBhbiBleGFtcGxlLlxyXG4gIGlmICghKHBhcnRzWzBdIGluIGN1cikgJiYgY3VyLmV4ZWNTY3JpcHQpIHtcclxuICAgIGN1ci5leGVjU2NyaXB0KCd2YXIgJyArIHBhcnRzWzBdKTtcclxuICB9XHJcblxyXG4gIC8vIENlcnRhaW4gYnJvd3NlcnMgY2Fubm90IHBhcnNlIGNvZGUgaW4gdGhlIGZvcm0gZm9yKChhIGluIGIpOyBjOyk7XHJcbiAgLy8gVGhpcyBwYXR0ZXJuIGlzIHByb2R1Y2VkIGJ5IHRoZSBKU0NvbXBpbGVyIHdoZW4gaXQgY29sbGFwc2VzIHRoZVxyXG4gIC8vIHN0YXRlbWVudCBhYm92ZSBpbnRvIHRoZSBjb25kaXRpb25hbCBsb29wIGJlbG93LiBUbyBwcmV2ZW50IHRoaXMgZnJvbVxyXG4gIC8vIGhhcHBlbmluZywgdXNlIGEgZm9yLWxvb3AgYW5kIHJlc2VydmUgdGhlIGluaXQgbG9naWMgYXMgYmVsb3cuXHJcblxyXG4gIC8vIFBhcmVudGhlc2VzIGFkZGVkIHRvIGVsaW1pbmF0ZSBzdHJpY3QgSlMgd2FybmluZyBpbiBGaXJlZm94LlxyXG4gIGZvciAodmFyIHBhcnQ7IHBhcnRzLmxlbmd0aCAmJiAocGFydCA9IHBhcnRzLnNoaWZ0KCkpOykge1xyXG4gICAgaWYgKCFwYXJ0cy5sZW5ndGggJiYgZ29vZy5pc0RlZihvcHRfb2JqZWN0KSkge1xyXG4gICAgICAvLyBsYXN0IHBhcnQgYW5kIHdlIGhhdmUgYW4gb2JqZWN0OyB1c2UgaXRcclxuICAgICAgY3VyW3BhcnRdID0gb3B0X29iamVjdDtcclxuICAgIH0gZWxzZSBpZiAoY3VyW3BhcnRdKSB7XHJcbiAgICAgIGN1ciA9IGN1cltwYXJ0XTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGN1ciA9IGN1cltwYXJ0XSA9IHt9O1xyXG4gICAgfVxyXG4gIH1cclxufTtcclxuXHJcblxyXG4vKipcclxuICogUmV0dXJucyBhbiBvYmplY3QgYmFzZWQgb24gaXRzIGZ1bGx5IHF1YWxpZmllZCBleHRlcm5hbCBuYW1lLiAgSWYgeW91IGFyZVxyXG4gKiB1c2luZyBhIGNvbXBpbGF0aW9uIHBhc3MgdGhhdCByZW5hbWVzIHByb3BlcnR5IG5hbWVzIGJld2FyZSB0aGF0IHVzaW5nIHRoaXNcclxuICogZnVuY3Rpb24gd2lsbCBub3QgZmluZCByZW5hbWVkIHByb3BlcnRpZXMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBmdWxseSBxdWFsaWZpZWQgbmFtZS5cclxuICogQHBhcmFtIHtPYmplY3Q9fSBvcHRfb2JqIFRoZSBvYmplY3Qgd2l0aGluIHdoaWNoIHRvIGxvb2s7IGRlZmF1bHQgaXNcclxuICogICAgIHxnb29nLmdsb2JhbHwuXHJcbiAqIEByZXR1cm4gez99IFRoZSB2YWx1ZSAob2JqZWN0IG9yIHByaW1pdGl2ZSkgb3IsIGlmIG5vdCBmb3VuZCwgbnVsbC5cclxuICovXHJcbmdvb2cuZ2V0T2JqZWN0QnlOYW1lID0gZnVuY3Rpb24obmFtZSwgb3B0X29iaikge1xyXG4gIHZhciBwYXJ0cyA9IG5hbWUuc3BsaXQoJy4nKTtcclxuICB2YXIgY3VyID0gb3B0X29iaiB8fCBnb29nLmdsb2JhbDtcclxuICBmb3IgKHZhciBwYXJ0OyBwYXJ0ID0gcGFydHMuc2hpZnQoKTsgKSB7XHJcbiAgICBpZiAoZ29vZy5pc0RlZkFuZE5vdE51bGwoY3VyW3BhcnRdKSkge1xyXG4gICAgICBjdXIgPSBjdXJbcGFydF07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIGN1cjtcclxufTtcclxuXHJcblxyXG4vKipcclxuICogR2xvYmFsaXplcyBhIHdob2xlIG5hbWVzcGFjZSwgc3VjaCBhcyBnb29nIG9yIGdvb2cubGFuZy5cclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IG9iaiBUaGUgbmFtZXNwYWNlIHRvIGdsb2JhbGl6ZS5cclxuICogQHBhcmFtIHtPYmplY3Q9fSBvcHRfZ2xvYmFsIFRoZSBvYmplY3QgdG8gYWRkIHRoZSBwcm9wZXJ0aWVzIHRvLlxyXG4gKiBAZGVwcmVjYXRlZCBQcm9wZXJ0aWVzIG1heSBiZSBleHBsaWNpdGx5IGV4cG9ydGVkIHRvIHRoZSBnbG9iYWwgc2NvcGUsIGJ1dFxyXG4gKiAgICAgdGhpcyBzaG91bGQgbm8gbG9uZ2VyIGJlIGRvbmUgaW4gYnVsay5cclxuICovXHJcbmdvb2cuZ2xvYmFsaXplID0gZnVuY3Rpb24ob2JqLCBvcHRfZ2xvYmFsKSB7XHJcbiAgdmFyIGdsb2JhbCA9IG9wdF9nbG9iYWwgfHwgZ29vZy5nbG9iYWw7XHJcbiAgZm9yICh2YXIgeCBpbiBvYmopIHtcclxuICAgIGdsb2JhbFt4XSA9IG9ialt4XTtcclxuICB9XHJcbn07XHJcblxyXG5cclxuLyoqXHJcbiAqIEFkZHMgYSBkZXBlbmRlbmN5IGZyb20gYSBmaWxlIHRvIHRoZSBmaWxlcyBpdCByZXF1aXJlcy5cclxuICogQHBhcmFtIHtzdHJpbmd9IHJlbFBhdGggVGhlIHBhdGggdG8gdGhlIGpzIGZpbGUuXHJcbiAqIEBwYXJhbSB7QXJyYXl9IHByb3ZpZGVzIEFuIGFycmF5IG9mIHN0cmluZ3Mgd2l0aCB0aGUgbmFtZXMgb2YgdGhlIG9iamVjdHNcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgdGhpcyBmaWxlIHByb3ZpZGVzLlxyXG4gKiBAcGFyYW0ge0FycmF5fSByZXF1aXJlcyBBbiBhcnJheSBvZiBzdHJpbmdzIHdpdGggdGhlIG5hbWVzIG9mIHRoZSBvYmplY3RzXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMgZmlsZSByZXF1aXJlcy5cclxuICovXHJcbmdvb2cuYWRkRGVwZW5kZW5jeSA9IGZ1bmN0aW9uKHJlbFBhdGgsIHByb3ZpZGVzLCByZXF1aXJlcykge1xyXG4gIGlmICghQ09NUElMRUQpIHtcclxuICAgIHZhciBwcm92aWRlLCByZXF1aXJlO1xyXG4gICAgdmFyIHBhdGggPSByZWxQYXRoLnJlcGxhY2UoL1xcXFwvZywgJy8nKTtcclxuICAgIHZhciBkZXBzID0gZ29vZy5kZXBlbmRlbmNpZXNfO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IHByb3ZpZGUgPSBwcm92aWRlc1tpXTsgaSsrKSB7XHJcbiAgICAgIGRlcHMubmFtZVRvUGF0aFtwcm92aWRlXSA9IHBhdGg7XHJcbiAgICAgIGlmICghKHBhdGggaW4gZGVwcy5wYXRoVG9OYW1lcykpIHtcclxuICAgICAgICBkZXBzLnBhdGhUb05hbWVzW3BhdGhdID0ge307XHJcbiAgICAgIH1cclxuICAgICAgZGVwcy5wYXRoVG9OYW1lc1twYXRoXVtwcm92aWRlXSA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBmb3IgKHZhciBqID0gMDsgcmVxdWlyZSA9IHJlcXVpcmVzW2pdOyBqKyspIHtcclxuICAgICAgaWYgKCEocGF0aCBpbiBkZXBzLnJlcXVpcmVzKSkge1xyXG4gICAgICAgIGRlcHMucmVxdWlyZXNbcGF0aF0gPSB7fTtcclxuICAgICAgfVxyXG4gICAgICBkZXBzLnJlcXVpcmVzW3BhdGhdW3JlcXVpcmVdID0gdHJ1ZTtcclxuICAgIH1cclxuICB9XHJcbn07XHJcblxyXG5cclxuXHJcblxyXG4vLyBOT1RFKG5uYXplKTogVGhlIGRlYnVnIERPTSBsb2FkZXIgd2FzIGluY2x1ZGVkIGluIGJhc2UuanMgYXMgYW4gb3JpZ25hbFxyXG4vLyB3YXkgdG8gZG8gXCJkZWJ1Zy1tb2RlXCIgZGV2ZWxvcG1lbnQuICBUaGUgZGVwZW5kZW5jeSBzeXN0ZW0gY2FuIHNvbWV0aW1lc1xyXG4vLyBiZSBjb25mdXNpbmcsIGFzIGNhbiB0aGUgZGVidWcgRE9NIGxvYWRlcidzIGFzeW5jcm9ub3VzIG5hdHVyZS5cclxuLy9cclxuLy8gV2l0aCB0aGUgRE9NIGxvYWRlciwgYSBjYWxsIHRvIGdvb2cucmVxdWlyZSgpIGlzIG5vdCBibG9ja2luZyAtLSB0aGVcclxuLy8gc2NyaXB0IHdpbGwgbm90IGxvYWQgdW50aWwgc29tZSBwb2ludCBhZnRlciB0aGUgY3VycmVudCBzY3JpcHQuICBJZiBhXHJcbi8vIG5hbWVzcGFjZSBpcyBuZWVkZWQgYXQgcnVudGltZSwgaXQgbmVlZHMgdG8gYmUgZGVmaW5lZCBpbiBhIHByZXZpb3VzXHJcbi8vIHNjcmlwdCwgb3IgbG9hZGVkIHZpYSByZXF1aXJlKCkgd2l0aCBpdHMgcmVnaXN0ZXJlZCBkZXBlbmRlbmNpZXMuXHJcbi8vIFVzZXItZGVmaW5lZCBuYW1lc3BhY2VzIG1heSBuZWVkIHRoZWlyIG93biBkZXBzIGZpbGUuICBTZWUgaHR0cDovL2dvL2pzX2RlcHMsXHJcbi8vIGh0dHA6Ly9nby9nZW5qc2RlcHMsIG9yLCBleHRlcm5hbGx5LCBEZXBzV3JpdGVyLlxyXG4vLyBodHRwOi8vY29kZS5nb29nbGUuY29tL2Nsb3N1cmUvbGlicmFyeS9kb2NzL2RlcHN3cml0ZXIuaHRtbFxyXG4vL1xyXG4vLyBCZWNhdXNlIG9mIGxlZ2FjeSBjbGllbnRzLCB0aGUgRE9NIGxvYWRlciBjYW4ndCBiZSBlYXNpbHkgcmVtb3ZlZCBmcm9tXHJcbi8vIGJhc2UuanMuICBXb3JrIGlzIGJlaW5nIGRvbmUgdG8gbWFrZSBpdCBkaXNhYmxlYWJsZSBvciByZXBsYWNlYWJsZSBmb3JcclxuLy8gZGlmZmVyZW50IGVudmlyb25tZW50cyAoRE9NLWxlc3MgSmF2YVNjcmlwdCBpbnRlcnByZXRlcnMgbGlrZSBSaGlubyBvciBWOCxcclxuLy8gZm9yIGV4YW1wbGUpLiBTZWUgYm9vdHN0cmFwLyBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cclxuXHJcblxyXG4vKipcclxuICogQGRlZmluZSB7Ym9vbGVhbn0gV2hldGhlciB0byBlbmFibGUgdGhlIGRlYnVnIGxvYWRlci5cclxuICpcclxuICogSWYgZW5hYmxlZCwgYSBjYWxsIHRvIGdvb2cucmVxdWlyZSgpIHdpbGwgYXR0ZW1wdCB0byBsb2FkIHRoZSBuYW1lc3BhY2UgYnlcclxuICogYXBwZW5kaW5nIGEgc2NyaXB0IHRhZyB0byB0aGUgRE9NIChpZiB0aGUgbmFtZXNwYWNlIGhhcyBiZWVuIHJlZ2lzdGVyZWQpLlxyXG4gKlxyXG4gKiBJZiBkaXNhYmxlZCwgZ29vZy5yZXF1aXJlKCkgd2lsbCBzaW1wbHkgYXNzZXJ0IHRoYXQgdGhlIG5hbWVzcGFjZSBoYXMgYmVlblxyXG4gKiBwcm92aWRlZCAoYW5kIGRlcGVuZCBvbiB0aGUgZmFjdCB0aGF0IHNvbWUgb3V0c2lkZSB0b29sIGNvcnJlY3RseSBvcmRlcmVkXHJcbiAqIHRoZSBzY3JpcHQpLlxyXG4gKi9cclxuZ29vZy5FTkFCTEVfREVCVUdfTE9BREVSID0gdHJ1ZTtcclxuXHJcblxyXG4vKipcclxuICogSW1wbGVtZW50cyBhIHN5c3RlbSBmb3IgdGhlIGR5bmFtaWMgcmVzb2x1dGlvbiBvZiBkZXBlbmRlbmNpZXNcclxuICogdGhhdCB3b3JrcyBpbiBwYXJhbGxlbCB3aXRoIHRoZSBCVUlMRCBzeXN0ZW0uIE5vdGUgdGhhdCBhbGwgY2FsbHNcclxuICogdG8gZ29vZy5yZXF1aXJlIHdpbGwgYmUgc3RyaXBwZWQgYnkgdGhlIEpTQ29tcGlsZXIgd2hlbiB0aGVcclxuICogLS1jbG9zdXJlX3Bhc3Mgb3B0aW9uIGlzIHVzZWQuXHJcbiAqIEBzZWUgZ29vZy5wcm92aWRlXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIE5hbWVzcGFjZSB0byBpbmNsdWRlIChhcyB3YXMgZ2l2ZW4gaW4gZ29vZy5wcm92aWRlKCkpXHJcbiAqICAgICBpbiB0aGUgZm9ybSBcImdvb2cucGFja2FnZS5wYXJ0XCIuXHJcbiAqL1xyXG5nb29nLnJlcXVpcmUgPSBmdW5jdGlvbihuYW1lKSB7XHJcblxyXG4gIC8vIGlmIHRoZSBvYmplY3QgYWxyZWFkeSBleGlzdHMgd2UgZG8gbm90IG5lZWQgZG8gZG8gYW55dGhpbmdcclxuICAvLyBUT0RPKGFydik6IElmIHdlIHN0YXJ0IHRvIHN1cHBvcnQgcmVxdWlyZSBiYXNlZCBvbiBmaWxlIG5hbWUgdGhpcyBoYXNcclxuICAvLyAgICAgICAgICAgIHRvIGNoYW5nZVxyXG4gIC8vIFRPRE8oYXJ2KTogSWYgd2UgYWxsb3cgZ29vZy5mb28uKiB0aGlzIGhhcyB0byBjaGFuZ2VcclxuICAvLyBUT0RPKGFydik6IElmIHdlIGltcGxlbWVudCBkeW5hbWljIGxvYWQgYWZ0ZXIgcGFnZSBsb2FkIHdlIHNob3VsZCBwcm9iYWJseVxyXG4gIC8vICAgICAgICAgICAgbm90IHJlbW92ZSB0aGlzIGNvZGUgZm9yIHRoZSBjb21waWxlZCBvdXRwdXRcclxuICBpZiAoIUNPTVBJTEVEKSB7XHJcbiAgICBpZiAoZ29vZy5pc1Byb3ZpZGVkXyhuYW1lKSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGdvb2cuRU5BQkxFX0RFQlVHX0xPQURFUikge1xyXG4gICAgICB2YXIgcGF0aCA9IGdvb2cuZ2V0UGF0aEZyb21EZXBzXyhuYW1lKTtcclxuICAgICAgaWYgKHBhdGgpIHtcclxuICAgICAgICBnb29nLmluY2x1ZGVkX1twYXRoXSA9IHRydWU7XHJcbiAgICAgICAgZ29vZy53cml0ZVNjcmlwdHNfKCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGVycm9yTWVzc2FnZSA9ICdnb29nLnJlcXVpcmUgY291bGQgbm90IGZpbmQ6ICcgKyBuYW1lO1xyXG4gICAgaWYgKGdvb2cuZ2xvYmFsLmNvbnNvbGUpIHtcclxuICAgICAgZ29vZy5nbG9iYWwuY29uc29sZVsnZXJyb3InXShlcnJvck1lc3NhZ2UpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAgIHRocm93IEVycm9yKGVycm9yTWVzc2FnZSk7XHJcblxyXG4gIH1cclxufTtcclxuXHJcblxyXG4vKipcclxuICogUGF0aCBmb3IgaW5jbHVkZWQgc2NyaXB0c1xyXG4gKiBAdHlwZSB7c3RyaW5nfVxyXG4gKi9cclxuZ29vZy5iYXNlUGF0aCA9ICcnO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBBIGhvb2sgZm9yIG92ZXJyaWRpbmcgdGhlIGJhc2UgcGF0aC5cclxuICogQHR5cGUge3N0cmluZ3x1bmRlZmluZWR9XHJcbiAqL1xyXG5nb29nLmdsb2JhbC5DTE9TVVJFX0JBU0VfUEFUSDtcclxuXHJcblxyXG4vKipcclxuICogV2hldGhlciB0byB3cml0ZSBvdXQgQ2xvc3VyZSdzIGRlcHMgZmlsZS4gQnkgZGVmYXVsdCxcclxuICogdGhlIGRlcHMgYXJlIHdyaXR0ZW4uXHJcbiAqIEB0eXBlIHtib29sZWFufHVuZGVmaW5lZH1cclxuICovXHJcbmdvb2cuZ2xvYmFsLkNMT1NVUkVfTk9fREVQUztcclxuXHJcblxyXG4vKipcclxuICogQSBmdW5jdGlvbiB0byBpbXBvcnQgYSBzaW5nbGUgc2NyaXB0LiBUaGlzIGlzIG1lYW50IHRvIGJlIG92ZXJyaWRkZW4gd2hlblxyXG4gKiBDbG9zdXJlIGlzIGJlaW5nIHJ1biBpbiBub24tSFRNTCBjb250ZXh0cywgc3VjaCBhcyB3ZWIgd29ya2Vycy4gSXQncyBkZWZpbmVkXHJcbiAqIGluIHRoZSBnbG9iYWwgc2NvcGUgc28gdGhhdCBpdCBjYW4gYmUgc2V0IGJlZm9yZSBiYXNlLmpzIGlzIGxvYWRlZCwgd2hpY2hcclxuICogYWxsb3dzIGRlcHMuanMgdG8gYmUgaW1wb3J0ZWQgcHJvcGVybHkuXHJcbiAqXHJcbiAqIFRoZSBmdW5jdGlvbiBpcyBwYXNzZWQgdGhlIHNjcmlwdCBzb3VyY2UsIHdoaWNoIGlzIGEgcmVsYXRpdmUgVVJJLiBJdCBzaG91bGRcclxuICogcmV0dXJuIHRydWUgaWYgdGhlIHNjcmlwdCB3YXMgaW1wb3J0ZWQsIGZhbHNlIG90aGVyd2lzZS5cclxuICovXHJcbmdvb2cuZ2xvYmFsLkNMT1NVUkVfSU1QT1JUX1NDUklQVDtcclxuXHJcblxyXG4vKipcclxuICogTnVsbCBmdW5jdGlvbiB1c2VkIGZvciBkZWZhdWx0IHZhbHVlcyBvZiBjYWxsYmFja3MsIGV0Yy5cclxuICogQHJldHVybiB7dm9pZH0gTm90aGluZy5cclxuICovXHJcbmdvb2cubnVsbEZ1bmN0aW9uID0gZnVuY3Rpb24oKSB7fTtcclxuXHJcblxyXG4vKipcclxuICogVGhlIGlkZW50aXR5IGZ1bmN0aW9uLiBSZXR1cm5zIGl0cyBmaXJzdCBhcmd1bWVudC5cclxuICpcclxuICogQHBhcmFtIHsqPX0gb3B0X3JldHVyblZhbHVlIFRoZSBzaW5nbGUgdmFsdWUgdGhhdCB3aWxsIGJlIHJldHVybmVkLlxyXG4gKiBAcGFyYW0gey4uLip9IHZhcl9hcmdzIE9wdGlvbmFsIHRyYWlsaW5nIGFyZ3VtZW50cy4gVGhlc2UgYXJlIGlnbm9yZWQuXHJcbiAqIEByZXR1cm4gez99IFRoZSBmaXJzdCBhcmd1bWVudC4gV2UgY2FuJ3Qga25vdyB0aGUgdHlwZSAtLSBqdXN0IHBhc3MgaXQgYWxvbmdcclxuICogICAgICB3aXRob3V0IHR5cGUuXHJcbiAqIEBkZXByZWNhdGVkIFVzZSBnb29nLmZ1bmN0aW9ucy5pZGVudGl0eSBpbnN0ZWFkLlxyXG4gKi9cclxuZ29vZy5pZGVudGl0eUZ1bmN0aW9uID0gZnVuY3Rpb24ob3B0X3JldHVyblZhbHVlLCB2YXJfYXJncykge1xyXG4gIHJldHVybiBvcHRfcmV0dXJuVmFsdWU7XHJcbn07XHJcblxyXG5cclxuLyoqXHJcbiAqIFdoZW4gZGVmaW5pbmcgYSBjbGFzcyBGb28gd2l0aCBhbiBhYnN0cmFjdCBtZXRob2QgYmFyKCksIHlvdSBjYW4gZG86XHJcbiAqXHJcbiAqIEZvby5wcm90b3R5cGUuYmFyID0gZ29vZy5hYnN0cmFjdE1ldGhvZFxyXG4gKlxyXG4gKiBOb3cgaWYgYSBzdWJjbGFzcyBvZiBGb28gZmFpbHMgdG8gb3ZlcnJpZGUgYmFyKCksIGFuIGVycm9yXHJcbiAqIHdpbGwgYmUgdGhyb3duIHdoZW4gYmFyKCkgaXMgaW52b2tlZC5cclxuICpcclxuICogTm90ZTogVGhpcyBkb2VzIG5vdCB0YWtlIHRoZSBuYW1lIG9mIHRoZSBmdW5jdGlvbiB0byBvdmVycmlkZSBhc1xyXG4gKiBhbiBhcmd1bWVudCBiZWNhdXNlIHRoYXQgd291bGQgbWFrZSBpdCBtb3JlIGRpZmZpY3VsdCB0byBvYmZ1c2NhdGVcclxuICogb3VyIEphdmFTY3JpcHQgY29kZS5cclxuICpcclxuICogQHR5cGUgeyFGdW5jdGlvbn1cclxuICogQHRocm93cyB7RXJyb3J9IHdoZW4gaW52b2tlZCB0byBpbmRpY2F0ZSB0aGUgbWV0aG9kIHNob3VsZCBiZVxyXG4gKiAgIG92ZXJyaWRkZW4uXHJcbiAqL1xyXG5nb29nLmFic3RyYWN0TWV0aG9kID0gZnVuY3Rpb24oKSB7XHJcbiAgdGhyb3cgRXJyb3IoJ3VuaW1wbGVtZW50ZWQgYWJzdHJhY3QgbWV0aG9kJyk7XHJcbn07XHJcblxyXG5cclxuLyoqXHJcbiAqIEFkZHMgYSB7QGNvZGUgZ2V0SW5zdGFuY2V9IHN0YXRpYyBtZXRob2QgdGhhdCBhbHdheXMgcmV0dXJuIHRoZSBzYW1lIGluc3RhbmNlXHJcbiAqIG9iamVjdC5cclxuICogQHBhcmFtIHshRnVuY3Rpb259IGN0b3IgVGhlIGNvbnN0cnVjdG9yIGZvciB0aGUgY2xhc3MgdG8gYWRkIHRoZSBzdGF0aWNcclxuICogICAgIG1ldGhvZCB0by5cclxuICovXHJcbmdvb2cuYWRkU2luZ2xldG9uR2V0dGVyID0gZnVuY3Rpb24oY3Rvcikge1xyXG4gIGN0b3IuZ2V0SW5zdGFuY2UgPSBmdW5jdGlvbigpIHtcclxuICAgIGlmIChjdG9yLmluc3RhbmNlXykge1xyXG4gICAgICByZXR1cm4gY3Rvci5pbnN0YW5jZV87XHJcbiAgICB9XHJcbiAgICBpZiAoZ29vZy5ERUJVRykge1xyXG4gICAgICAvLyBOT1RFOiBKU0NvbXBpbGVyIGNhbid0IG9wdGltaXplIGF3YXkgQXJyYXkjcHVzaC5cclxuICAgICAgZ29vZy5pbnN0YW50aWF0ZWRTaW5nbGV0b25zX1tnb29nLmluc3RhbnRpYXRlZFNpbmdsZXRvbnNfLmxlbmd0aF0gPSBjdG9yO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGN0b3IuaW5zdGFuY2VfID0gbmV3IGN0b3I7XHJcbiAgfTtcclxufTtcclxuXHJcblxyXG4vKipcclxuICogQWxsIHNpbmdsZXRvbiBjbGFzc2VzIHRoYXQgaGF2ZSBiZWVuIGluc3RhbnRpYXRlZCwgZm9yIHRlc3RpbmcuIERvbid0IHJlYWRcclxuICogaXQgZGlyZWN0bHksIHVzZSB0aGUge0Bjb2RlIGdvb2cudGVzdGluZy5zaW5nbGV0b259IG1vZHVsZS4gVGhlIGNvbXBpbGVyXHJcbiAqIHJlbW92ZXMgdGhpcyB2YXJpYWJsZSBpZiB1bnVzZWQuXHJcbiAqIEB0eXBlIHshQXJyYXkuPCFGdW5jdGlvbj59XHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5nb29nLmluc3RhbnRpYXRlZFNpbmdsZXRvbnNfID0gW107XHJcblxyXG5cclxuaWYgKCFDT01QSUxFRCAmJiBnb29nLkVOQUJMRV9ERUJVR19MT0FERVIpIHtcclxuICAvKipcclxuICAgKiBPYmplY3QgdXNlZCB0byBrZWVwIHRyYWNrIG9mIHVybHMgdGhhdCBoYXZlIGFscmVhZHkgYmVlbiBhZGRlZC4gVGhpc1xyXG4gICAqIHJlY29yZCBhbGxvd3MgdGhlIHByZXZlbnRpb24gb2YgY2lyY3VsYXIgZGVwZW5kZW5jaWVzLlxyXG4gICAqIEB0eXBlIHtPYmplY3R9XHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cclxuICBnb29nLmluY2x1ZGVkXyA9IHt9O1xyXG5cclxuXHJcbiAgLyoqXHJcbiAgICogVGhpcyBvYmplY3QgaXMgdXNlZCB0byBrZWVwIHRyYWNrIG9mIGRlcGVuZGVuY2llcyBhbmQgb3RoZXIgZGF0YSB0aGF0IGlzXHJcbiAgICogdXNlZCBmb3IgbG9hZGluZyBzY3JpcHRzXHJcbiAgICogQHByaXZhdGVcclxuICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAqL1xyXG4gIGdvb2cuZGVwZW5kZW5jaWVzXyA9IHtcclxuICAgIHBhdGhUb05hbWVzOiB7fSwgLy8gMSB0byBtYW55XHJcbiAgICBuYW1lVG9QYXRoOiB7fSwgLy8gMSB0byAxXHJcbiAgICByZXF1aXJlczoge30sIC8vIDEgdG8gbWFueVxyXG4gICAgLy8gdXNlZCB3aGVuIHJlc29sdmluZyBkZXBlbmRlbmNpZXMgdG8gcHJldmVudCB1cyBmcm9tXHJcbiAgICAvLyB2aXNpdGluZyB0aGUgZmlsZSB0d2ljZVxyXG4gICAgdmlzaXRlZDoge30sXHJcbiAgICB3cml0dGVuOiB7fSAvLyB1c2VkIHRvIGtlZXAgdHJhY2sgb2Ygc2NyaXB0IGZpbGVzIHdlIGhhdmUgd3JpdHRlblxyXG4gIH07XHJcblxyXG5cclxuICAvKipcclxuICAgKiBUcmllcyB0byBkZXRlY3Qgd2hldGhlciBpcyBpbiB0aGUgY29udGV4dCBvZiBhbiBIVE1MIGRvY3VtZW50LlxyXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgaXQgbG9va3MgbGlrZSBIVE1MIGRvY3VtZW50LlxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgZ29vZy5pbkh0bWxEb2N1bWVudF8gPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciBkb2MgPSBnb29nLmdsb2JhbC5kb2N1bWVudDtcclxuICAgIHJldHVybiB0eXBlb2YgZG9jICE9ICd1bmRlZmluZWQnICYmXHJcbiAgICAgICAgICAgJ3dyaXRlJyBpbiBkb2M7ICAvLyBYVUxEb2N1bWVudCBtaXNzZXMgd3JpdGUuXHJcbiAgfTtcclxuXHJcblxyXG4gIC8qKlxyXG4gICAqIFRyaWVzIHRvIGRldGVjdCB0aGUgYmFzZSBwYXRoIG9mIHRoZSBiYXNlLmpzIHNjcmlwdCB0aGF0IGJvb3RzdHJhcHMgQ2xvc3VyZVxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgZ29vZy5maW5kQmFzZVBhdGhfID0gZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAoZ29vZy5nbG9iYWwuQ0xPU1VSRV9CQVNFX1BBVEgpIHtcclxuICAgICAgZ29vZy5iYXNlUGF0aCA9IGdvb2cuZ2xvYmFsLkNMT1NVUkVfQkFTRV9QQVRIO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9IGVsc2UgaWYgKCFnb29nLmluSHRtbERvY3VtZW50XygpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHZhciBkb2MgPSBnb29nLmdsb2JhbC5kb2N1bWVudDtcclxuICAgIHZhciBzY3JpcHRzID0gZG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKTtcclxuICAgIC8vIFNlYXJjaCBiYWNrd2FyZHMgc2luY2UgdGhlIGN1cnJlbnQgc2NyaXB0IGlzIGluIGFsbW9zdCBhbGwgY2FzZXMgdGhlIG9uZVxyXG4gICAgLy8gdGhhdCBoYXMgYmFzZS5qcy5cclxuICAgIGZvciAodmFyIGkgPSBzY3JpcHRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XHJcbiAgICAgIHZhciBzcmMgPSBzY3JpcHRzW2ldLnNyYztcclxuICAgICAgdmFyIHFtYXJrID0gc3JjLmxhc3RJbmRleE9mKCc/Jyk7XHJcbiAgICAgIHZhciBsID0gcW1hcmsgPT0gLTEgPyBzcmMubGVuZ3RoIDogcW1hcms7XHJcbiAgICAgIGlmIChzcmMuc3Vic3RyKGwgLSA3LCA3KSA9PSAnYmFzZS5qcycpIHtcclxuICAgICAgICBnb29nLmJhc2VQYXRoID0gc3JjLnN1YnN0cigwLCBsIC0gNyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qKlxyXG4gICAqIEltcG9ydHMgYSBzY3JpcHQgaWYsIGFuZCBvbmx5IGlmLCB0aGF0IHNjcmlwdCBoYXNuJ3QgYWxyZWFkeSBiZWVuIGltcG9ydGVkLlxyXG4gICAqIChNdXN0IGJlIGNhbGxlZCBhdCBleGVjdXRpb24gdGltZSlcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3JjIFNjcmlwdCBzb3VyY2UuXHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cclxuICBnb29nLmltcG9ydFNjcmlwdF8gPSBmdW5jdGlvbihzcmMpIHtcclxuICAgIHZhciBpbXBvcnRTY3JpcHQgPSBnb29nLmdsb2JhbC5DTE9TVVJFX0lNUE9SVF9TQ1JJUFQgfHxcclxuICAgICAgICBnb29nLndyaXRlU2NyaXB0VGFnXztcclxuICAgIGlmICghZ29vZy5kZXBlbmRlbmNpZXNfLndyaXR0ZW5bc3JjXSAmJiBpbXBvcnRTY3JpcHQoc3JjKSkge1xyXG4gICAgICBnb29nLmRlcGVuZGVuY2llc18ud3JpdHRlbltzcmNdID0gdHJ1ZTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuXHJcbiAgLyoqXHJcbiAgICogVGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gb2YgdGhlIGltcG9ydCBmdW5jdGlvbi4gV3JpdGVzIGEgc2NyaXB0IHRhZyB0b1xyXG4gICAqIGltcG9ydCB0aGUgc2NyaXB0LlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNyYyBUaGUgc2NyaXB0IHNvdXJjZS5cclxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBzY3JpcHQgd2FzIGltcG9ydGVkLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cclxuICBnb29nLndyaXRlU2NyaXB0VGFnXyA9IGZ1bmN0aW9uKHNyYykge1xyXG4gICAgaWYgKGdvb2cuaW5IdG1sRG9jdW1lbnRfKCkpIHtcclxuICAgICAgdmFyIGRvYyA9IGdvb2cuZ2xvYmFsLmRvY3VtZW50O1xyXG4gICAgICBkb2Mud3JpdGUoXHJcbiAgICAgICAgICAnPHNjcmlwdCB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCIgc3JjPVwiJyArIHNyYyArICdcIj48LycgKyAnc2NyaXB0PicpO1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuXHJcbiAgLyoqXHJcbiAgICogUmVzb2x2ZXMgZGVwZW5kZW5jaWVzIGJhc2VkIG9uIHRoZSBkZXBlbmRlbmNpZXMgYWRkZWQgdXNpbmcgYWRkRGVwZW5kZW5jeVxyXG4gICAqIGFuZCBjYWxscyBpbXBvcnRTY3JpcHRfIGluIHRoZSBjb3JyZWN0IG9yZGVyLlxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgZ29vZy53cml0ZVNjcmlwdHNfID0gZnVuY3Rpb24oKSB7XHJcbiAgICAvLyB0aGUgc2NyaXB0cyB3ZSBuZWVkIHRvIHdyaXRlIHRoaXMgdGltZVxyXG4gICAgdmFyIHNjcmlwdHMgPSBbXTtcclxuICAgIHZhciBzZWVuU2NyaXB0ID0ge307XHJcbiAgICB2YXIgZGVwcyA9IGdvb2cuZGVwZW5kZW5jaWVzXztcclxuXHJcbiAgICBmdW5jdGlvbiB2aXNpdE5vZGUocGF0aCkge1xyXG4gICAgICBpZiAocGF0aCBpbiBkZXBzLndyaXR0ZW4pIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIHdlIGhhdmUgYWxyZWFkeSB2aXNpdGVkIHRoaXMgb25lLiBXZSBjYW4gZ2V0IGhlcmUgaWYgd2UgaGF2ZSBjeWNsaWNcclxuICAgICAgLy8gZGVwZW5kZW5jaWVzXHJcbiAgICAgIGlmIChwYXRoIGluIGRlcHMudmlzaXRlZCkge1xyXG4gICAgICAgIGlmICghKHBhdGggaW4gc2VlblNjcmlwdCkpIHtcclxuICAgICAgICAgIHNlZW5TY3JpcHRbcGF0aF0gPSB0cnVlO1xyXG4gICAgICAgICAgc2NyaXB0cy5wdXNoKHBhdGgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGRlcHMudmlzaXRlZFtwYXRoXSA9IHRydWU7XHJcblxyXG4gICAgICBpZiAocGF0aCBpbiBkZXBzLnJlcXVpcmVzKSB7XHJcbiAgICAgICAgZm9yICh2YXIgcmVxdWlyZU5hbWUgaW4gZGVwcy5yZXF1aXJlc1twYXRoXSkge1xyXG4gICAgICAgICAgLy8gSWYgdGhlIHJlcXVpcmVkIG5hbWUgaXMgZGVmaW5lZCwgd2UgYXNzdW1lIHRoYXQgaXQgd2FzIGFscmVhZHlcclxuICAgICAgICAgIC8vIGJvb3RzdHJhcHBlZCBieSBvdGhlciBtZWFucy5cclxuICAgICAgICAgIGlmICghZ29vZy5pc1Byb3ZpZGVkXyhyZXF1aXJlTmFtZSkpIHtcclxuICAgICAgICAgICAgaWYgKHJlcXVpcmVOYW1lIGluIGRlcHMubmFtZVRvUGF0aCkge1xyXG4gICAgICAgICAgICAgIHZpc2l0Tm9kZShkZXBzLm5hbWVUb1BhdGhbcmVxdWlyZU5hbWVdKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICB0aHJvdyBFcnJvcignVW5kZWZpbmVkIG5hbWVUb1BhdGggZm9yICcgKyByZXF1aXJlTmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghKHBhdGggaW4gc2VlblNjcmlwdCkpIHtcclxuICAgICAgICBzZWVuU2NyaXB0W3BhdGhdID0gdHJ1ZTtcclxuICAgICAgICBzY3JpcHRzLnB1c2gocGF0aCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmb3IgKHZhciBwYXRoIGluIGdvb2cuaW5jbHVkZWRfKSB7XHJcbiAgICAgIGlmICghZGVwcy53cml0dGVuW3BhdGhdKSB7XHJcbiAgICAgICAgdmlzaXROb2RlKHBhdGgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzY3JpcHRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGlmIChzY3JpcHRzW2ldKSB7XHJcbiAgICAgICAgZ29vZy5pbXBvcnRTY3JpcHRfKGdvb2cuYmFzZVBhdGggKyBzY3JpcHRzW2ldKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aHJvdyBFcnJvcignVW5kZWZpbmVkIHNjcmlwdCBpbnB1dCcpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qKlxyXG4gICAqIExvb2tzIGF0IHRoZSBkZXBlbmRlbmN5IHJ1bGVzIGFuZCB0cmllcyB0byBkZXRlcm1pbmUgdGhlIHNjcmlwdCBmaWxlIHRoYXRcclxuICAgKiBmdWxmaWxscyBhIHBhcnRpY3VsYXIgcnVsZS5cclxuICAgKiBAcGFyYW0ge3N0cmluZ30gcnVsZSBJbiB0aGUgZm9ybSBnb29nLm5hbWVzcGFjZS5DbGFzcyBvciBwcm9qZWN0LnNjcmlwdC5cclxuICAgKiBAcmV0dXJuIHs/c3RyaW5nfSBVcmwgY29ycmVzcG9uZGluZyB0byB0aGUgcnVsZSwgb3IgbnVsbC5cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIGdvb2cuZ2V0UGF0aEZyb21EZXBzXyA9IGZ1bmN0aW9uKHJ1bGUpIHtcclxuICAgIGlmIChydWxlIGluIGdvb2cuZGVwZW5kZW5jaWVzXy5uYW1lVG9QYXRoKSB7XHJcbiAgICAgIHJldHVybiBnb29nLmRlcGVuZGVuY2llc18ubmFtZVRvUGF0aFtydWxlXTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGdvb2cuZmluZEJhc2VQYXRoXygpO1xyXG5cclxuICAvLyBBbGxvdyBwcm9qZWN0cyB0byBtYW5hZ2UgdGhlIGRlcHMgZmlsZXMgdGhlbXNlbHZlcy5cclxuICBpZiAoIWdvb2cuZ2xvYmFsLkNMT1NVUkVfTk9fREVQUykge1xyXG4gICAgZ29vZy5pbXBvcnRTY3JpcHRfKGdvb2cuYmFzZVBhdGggKyAnZGVwcy5qcycpO1xyXG4gIH1cclxufVxyXG5cclxuXHJcblxyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBMYW5ndWFnZSBFbmhhbmNlbWVudHNcclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcblxyXG4vKipcclxuICogVGhpcyBpcyBhIFwiZml4ZWRcIiB2ZXJzaW9uIG9mIHRoZSB0eXBlb2Ygb3BlcmF0b3IuICBJdCBkaWZmZXJzIGZyb20gdGhlIHR5cGVvZlxyXG4gKiBvcGVyYXRvciBpbiBzdWNoIGEgd2F5IHRoYXQgbnVsbCByZXR1cm5zICdudWxsJyBhbmQgYXJyYXlzIHJldHVybiAnYXJyYXknLlxyXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBnZXQgdGhlIHR5cGUgb2YuXHJcbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIG5hbWUgb2YgdGhlIHR5cGUuXHJcbiAqL1xyXG5nb29nLnR5cGVPZiA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgdmFyIHMgPSB0eXBlb2YgdmFsdWU7XHJcbiAgaWYgKHMgPT0gJ29iamVjdCcpIHtcclxuICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAvLyBDaGVjayB0aGVzZSBmaXJzdCwgc28gd2UgY2FuIGF2b2lkIGNhbGxpbmcgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyBpZlxyXG4gICAgICAvLyBwb3NzaWJsZS5cclxuICAgICAgLy9cclxuICAgICAgLy8gSUUgaW1wcm9wZXJseSBtYXJzaGFscyB0eWVwb2YgYWNyb3NzIGV4ZWN1dGlvbiBjb250ZXh0cywgYnV0IGFcclxuICAgICAgLy8gY3Jvc3MtY29udGV4dCBvYmplY3Qgd2lsbCBzdGlsbCByZXR1cm4gZmFsc2UgZm9yIFwiaW5zdGFuY2VvZiBPYmplY3RcIi5cclxuICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgQXJyYXkpIHtcclxuICAgICAgICByZXR1cm4gJ2FycmF5JztcclxuICAgICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIE9iamVjdCkge1xyXG4gICAgICAgIHJldHVybiBzO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBIQUNLOiBJbiBvcmRlciB0byB1c2UgYW4gT2JqZWN0IHByb3RvdHlwZSBtZXRob2Qgb24gdGhlIGFyYml0cmFyeVxyXG4gICAgICAvLyAgIHZhbHVlLCB0aGUgY29tcGlsZXIgcmVxdWlyZXMgdGhlIHZhbHVlIGJlIGNhc3QgdG8gdHlwZSBPYmplY3QsXHJcbiAgICAgIC8vICAgZXZlbiB0aG91Z2ggdGhlIEVDTUEgc3BlYyBleHBsaWNpdGx5IGFsbG93cyBpdC5cclxuICAgICAgdmFyIGNsYXNzTmFtZSA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChcclxuICAgICAgICAgIC8qKiBAdHlwZSB7T2JqZWN0fSAqLyAodmFsdWUpKTtcclxuICAgICAgLy8gSW4gRmlyZWZveCAzLjYsIGF0dGVtcHRpbmcgdG8gYWNjZXNzIGlmcmFtZSB3aW5kb3cgb2JqZWN0cycgbGVuZ3RoXHJcbiAgICAgIC8vIHByb3BlcnR5IHRocm93cyBhbiBOU19FUlJPUl9GQUlMVVJFLCBzbyB3ZSBuZWVkIHRvIHNwZWNpYWwtY2FzZSBpdFxyXG4gICAgICAvLyBoZXJlLlxyXG4gICAgICBpZiAoY2xhc3NOYW1lID09ICdbb2JqZWN0IFdpbmRvd10nKSB7XHJcbiAgICAgICAgcmV0dXJuICdvYmplY3QnO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBXZSBjYW5ub3QgYWx3YXlzIHVzZSBjb25zdHJ1Y3RvciA9PSBBcnJheSBvciBpbnN0YW5jZW9mIEFycmF5IGJlY2F1c2VcclxuICAgICAgLy8gZGlmZmVyZW50IGZyYW1lcyBoYXZlIGRpZmZlcmVudCBBcnJheSBvYmplY3RzLiBJbiBJRTYsIGlmIHRoZSBpZnJhbWVcclxuICAgICAgLy8gd2hlcmUgdGhlIGFycmF5IHdhcyBjcmVhdGVkIGlzIGRlc3Ryb3llZCwgdGhlIGFycmF5IGxvc2VzIGl0c1xyXG4gICAgICAvLyBwcm90b3R5cGUuIFRoZW4gZGVyZWZlcmVuY2luZyB2YWwuc3BsaWNlIGhlcmUgdGhyb3dzIGFuIGV4Y2VwdGlvbiwgc29cclxuICAgICAgLy8gd2UgY2FuJ3QgdXNlIGdvb2cuaXNGdW5jdGlvbi4gQ2FsbGluZyB0eXBlb2YgZGlyZWN0bHkgcmV0dXJucyAndW5rbm93bidcclxuICAgICAgLy8gc28gdGhhdCB3aWxsIHdvcmsuIEluIHRoaXMgY2FzZSwgdGhpcyBmdW5jdGlvbiB3aWxsIHJldHVybiBmYWxzZSBhbmRcclxuICAgICAgLy8gbW9zdCBhcnJheSBmdW5jdGlvbnMgd2lsbCBzdGlsbCB3b3JrIGJlY2F1c2UgdGhlIGFycmF5IGlzIHN0aWxsXHJcbiAgICAgIC8vIGFycmF5LWxpa2UgKHN1cHBvcnRzIGxlbmd0aCBhbmQgW10pIGV2ZW4gdGhvdWdoIGl0IGhhcyBsb3N0IGl0c1xyXG4gICAgICAvLyBwcm90b3R5cGUuXHJcbiAgICAgIC8vIE1hcmsgTWlsbGVyIG5vdGljZWQgdGhhdCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nXHJcbiAgICAgIC8vIGFsbG93cyBhY2Nlc3MgdG8gdGhlIHVuZm9yZ2VhYmxlIFtbQ2xhc3NdXSBwcm9wZXJ0eS5cclxuICAgICAgLy8gIDE1LjIuNC4yIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcgKCApXHJcbiAgICAgIC8vICBXaGVuIHRoZSB0b1N0cmluZyBtZXRob2QgaXMgY2FsbGVkLCB0aGUgZm9sbG93aW5nIHN0ZXBzIGFyZSB0YWtlbjpcclxuICAgICAgLy8gICAgICAxLiBHZXQgdGhlIFtbQ2xhc3NdXSBwcm9wZXJ0eSBvZiB0aGlzIG9iamVjdC5cclxuICAgICAgLy8gICAgICAyLiBDb21wdXRlIGEgc3RyaW5nIHZhbHVlIGJ5IGNvbmNhdGVuYXRpbmcgdGhlIHRocmVlIHN0cmluZ3NcclxuICAgICAgLy8gICAgICAgICBcIltvYmplY3QgXCIsIFJlc3VsdCgxKSwgYW5kIFwiXVwiLlxyXG4gICAgICAvLyAgICAgIDMuIFJldHVybiBSZXN1bHQoMikuXHJcbiAgICAgIC8vIGFuZCB0aGlzIGJlaGF2aW9yIHN1cnZpdmVzIHRoZSBkZXN0cnVjdGlvbiBvZiB0aGUgZXhlY3V0aW9uIGNvbnRleHQuXHJcbiAgICAgIGlmICgoY2xhc3NOYW1lID09ICdbb2JqZWN0IEFycmF5XScgfHxcclxuICAgICAgICAgICAvLyBJbiBJRSBhbGwgbm9uIHZhbHVlIHR5cGVzIGFyZSB3cmFwcGVkIGFzIG9iamVjdHMgYWNyb3NzIHdpbmRvd1xyXG4gICAgICAgICAgIC8vIGJvdW5kYXJpZXMgKG5vdCBpZnJhbWUgdGhvdWdoKSBzbyB3ZSBoYXZlIHRvIGRvIG9iamVjdCBkZXRlY3Rpb25cclxuICAgICAgICAgICAvLyBmb3IgdGhpcyBlZGdlIGNhc2VcclxuICAgICAgICAgICB0eXBlb2YgdmFsdWUubGVuZ3RoID09ICdudW1iZXInICYmXHJcbiAgICAgICAgICAgdHlwZW9mIHZhbHVlLnNwbGljZSAhPSAndW5kZWZpbmVkJyAmJlxyXG4gICAgICAgICAgIHR5cGVvZiB2YWx1ZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSAhPSAndW5kZWZpbmVkJyAmJlxyXG4gICAgICAgICAgICF2YWx1ZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgnc3BsaWNlJylcclxuXHJcbiAgICAgICAgICApKSB7XHJcbiAgICAgICAgcmV0dXJuICdhcnJheSc7XHJcbiAgICAgIH1cclxuICAgICAgLy8gSEFDSzogVGhlcmUgaXMgc3RpbGwgYW4gYXJyYXkgY2FzZSB0aGF0IGZhaWxzLlxyXG4gICAgICAvLyAgICAgZnVuY3Rpb24gQXJyYXlJbXBvc3RvcigpIHt9XHJcbiAgICAgIC8vICAgICBBcnJheUltcG9zdG9yLnByb3RvdHlwZSA9IFtdO1xyXG4gICAgICAvLyAgICAgdmFyIGltcG9zdG9yID0gbmV3IEFycmF5SW1wb3N0b3I7XHJcbiAgICAgIC8vIHRoaXMgY2FuIGJlIGZpeGVkIGJ5IGdldHRpbmcgcmlkIG9mIHRoZSBmYXN0IHBhdGhcclxuICAgICAgLy8gKHZhbHVlIGluc3RhbmNlb2YgQXJyYXkpIGFuZCBzb2xlbHkgcmVseWluZyBvblxyXG4gICAgICAvLyAodmFsdWUgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy52YWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgQXJyYXldJylcclxuICAgICAgLy8gYnV0IHRoYXQgd291bGQgcmVxdWlyZSBtYW55IG1vcmUgZnVuY3Rpb24gY2FsbHMgYW5kIGlzIG5vdCB3YXJyYW50ZWRcclxuICAgICAgLy8gdW5sZXNzIGNsb3N1cmUgY29kZSBpcyByZWNlaXZpbmcgb2JqZWN0cyBmcm9tIHVudHJ1c3RlZCBzb3VyY2VzLlxyXG5cclxuICAgICAgLy8gSUUgaW4gY3Jvc3Mtd2luZG93IGNhbGxzIGRvZXMgbm90IGNvcnJlY3RseSBtYXJzaGFsIHRoZSBmdW5jdGlvbiB0eXBlXHJcbiAgICAgIC8vIChpdCBhcHBlYXJzIGp1c3QgYXMgYW4gb2JqZWN0KSBzbyB3ZSBjYW5ub3QgdXNlIGp1c3QgdHlwZW9mIHZhbCA9PVxyXG4gICAgICAvLyAnZnVuY3Rpb24nLiBIb3dldmVyLCBpZiB0aGUgb2JqZWN0IGhhcyBhIGNhbGwgcHJvcGVydHksIGl0IGlzIGFcclxuICAgICAgLy8gZnVuY3Rpb24uXHJcbiAgICAgIGlmICgoY2xhc3NOYW1lID09ICdbb2JqZWN0IEZ1bmN0aW9uXScgfHxcclxuICAgICAgICAgIHR5cGVvZiB2YWx1ZS5jYWxsICE9ICd1bmRlZmluZWQnICYmXHJcbiAgICAgICAgICB0eXBlb2YgdmFsdWUucHJvcGVydHlJc0VudW1lcmFibGUgIT0gJ3VuZGVmaW5lZCcgJiZcclxuICAgICAgICAgICF2YWx1ZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgnY2FsbCcpKSkge1xyXG4gICAgICAgIHJldHVybiAnZnVuY3Rpb24nO1xyXG4gICAgICB9XHJcblxyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiAnbnVsbCc7XHJcbiAgICB9XHJcblxyXG4gIH0gZWxzZSBpZiAocyA9PSAnZnVuY3Rpb24nICYmIHR5cGVvZiB2YWx1ZS5jYWxsID09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAvLyBJbiBTYWZhcmkgdHlwZW9mIG5vZGVMaXN0IHJldHVybnMgJ2Z1bmN0aW9uJywgYW5kIG9uIEZpcmVmb3hcclxuICAgIC8vIHR5cGVvZiBiZWhhdmVzIHNpbWlsYXJseSBmb3IgSFRNTHtBcHBsZXQsRW1iZWQsT2JqZWN0fUVsZW1lbnRzXHJcbiAgICAvLyBhbmQgUmVnRXhwcy4gIFdlIHdvdWxkIGxpa2UgdG8gcmV0dXJuIG9iamVjdCBmb3IgdGhvc2UgYW5kIHdlIGNhblxyXG4gICAgLy8gZGV0ZWN0IGFuIGludmFsaWQgZnVuY3Rpb24gYnkgbWFraW5nIHN1cmUgdGhhdCB0aGUgZnVuY3Rpb25cclxuICAgIC8vIG9iamVjdCBoYXMgYSBjYWxsIG1ldGhvZC5cclxuICAgIHJldHVybiAnb2JqZWN0JztcclxuICB9XHJcbiAgcmV0dXJuIHM7XHJcbn07XHJcblxyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgc3BlY2lmaWVkIHZhbHVlIGlzIG5vdCB8dW5kZWZpbmVkfC5cclxuICogV0FSTklORzogRG8gbm90IHVzZSB0aGlzIHRvIHRlc3QgaWYgYW4gb2JqZWN0IGhhcyBhIHByb3BlcnR5LiBVc2UgdGhlIGluXHJcbiAqIG9wZXJhdG9yIGluc3RlYWQuICBBZGRpdGlvbmFsbHksIHRoaXMgZnVuY3Rpb24gYXNzdW1lcyB0aGF0IHRoZSBnbG9iYWxcclxuICogdW5kZWZpbmVkIHZhcmlhYmxlIGhhcyBub3QgYmVlbiByZWRlZmluZWQuXHJcbiAqIEBwYXJhbSB7Kn0gdmFsIFZhcmlhYmxlIHRvIHRlc3QuXHJcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdmFyaWFibGUgaXMgZGVmaW5lZC5cclxuICovXHJcbmdvb2cuaXNEZWYgPSBmdW5jdGlvbih2YWwpIHtcclxuICByZXR1cm4gdmFsICE9PSB1bmRlZmluZWQ7XHJcbn07XHJcblxyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgc3BlY2lmaWVkIHZhbHVlIGlzIHxudWxsfFxyXG4gKiBAcGFyYW0geyp9IHZhbCBWYXJpYWJsZSB0byB0ZXN0LlxyXG4gKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHZhcmlhYmxlIGlzIG51bGwuXHJcbiAqL1xyXG5nb29nLmlzTnVsbCA9IGZ1bmN0aW9uKHZhbCkge1xyXG4gIHJldHVybiB2YWwgPT09IG51bGw7XHJcbn07XHJcblxyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgc3BlY2lmaWVkIHZhbHVlIGlzIGRlZmluZWQgYW5kIG5vdCBudWxsXHJcbiAqIEBwYXJhbSB7Kn0gdmFsIFZhcmlhYmxlIHRvIHRlc3QuXHJcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdmFyaWFibGUgaXMgZGVmaW5lZCBhbmQgbm90IG51bGwuXHJcbiAqL1xyXG5nb29nLmlzRGVmQW5kTm90TnVsbCA9IGZ1bmN0aW9uKHZhbCkge1xyXG4gIC8vIE5vdGUgdGhhdCB1bmRlZmluZWQgPT0gbnVsbC5cclxuICByZXR1cm4gdmFsICE9IG51bGw7XHJcbn07XHJcblxyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgc3BlY2lmaWVkIHZhbHVlIGlzIGFuIGFycmF5XHJcbiAqIEBwYXJhbSB7Kn0gdmFsIFZhcmlhYmxlIHRvIHRlc3QuXHJcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdmFyaWFibGUgaXMgYW4gYXJyYXkuXHJcbiAqL1xyXG5nb29nLmlzQXJyYXkgPSBmdW5jdGlvbih2YWwpIHtcclxuICByZXR1cm4gZ29vZy50eXBlT2YodmFsKSA9PSAnYXJyYXknO1xyXG59O1xyXG5cclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIG9iamVjdCBsb29rcyBsaWtlIGFuIGFycmF5LiBUbyBxdWFsaWZ5IGFzIGFycmF5IGxpa2VcclxuICogdGhlIHZhbHVlIG5lZWRzIHRvIGJlIGVpdGhlciBhIE5vZGVMaXN0IG9yIGFuIG9iamVjdCB3aXRoIGEgTnVtYmVyIGxlbmd0aFxyXG4gKiBwcm9wZXJ0eS5cclxuICogQHBhcmFtIHsqfSB2YWwgVmFyaWFibGUgdG8gdGVzdC5cclxuICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB2YXJpYWJsZSBpcyBhbiBhcnJheS5cclxuICovXHJcbmdvb2cuaXNBcnJheUxpa2UgPSBmdW5jdGlvbih2YWwpIHtcclxuICB2YXIgdHlwZSA9IGdvb2cudHlwZU9mKHZhbCk7XHJcbiAgcmV0dXJuIHR5cGUgPT0gJ2FycmF5JyB8fCB0eXBlID09ICdvYmplY3QnICYmIHR5cGVvZiB2YWwubGVuZ3RoID09ICdudW1iZXInO1xyXG59O1xyXG5cclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIG9iamVjdCBsb29rcyBsaWtlIGEgRGF0ZS4gVG8gcXVhbGlmeSBhcyBEYXRlLWxpa2VcclxuICogdGhlIHZhbHVlIG5lZWRzIHRvIGJlIGFuIG9iamVjdCBhbmQgaGF2ZSBhIGdldEZ1bGxZZWFyKCkgZnVuY3Rpb24uXHJcbiAqIEBwYXJhbSB7Kn0gdmFsIFZhcmlhYmxlIHRvIHRlc3QuXHJcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdmFyaWFibGUgaXMgYSBsaWtlIGEgRGF0ZS5cclxuICovXHJcbmdvb2cuaXNEYXRlTGlrZSA9IGZ1bmN0aW9uKHZhbCkge1xyXG4gIHJldHVybiBnb29nLmlzT2JqZWN0KHZhbCkgJiYgdHlwZW9mIHZhbC5nZXRGdWxsWWVhciA9PSAnZnVuY3Rpb24nO1xyXG59O1xyXG5cclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIHNwZWNpZmllZCB2YWx1ZSBpcyBhIHN0cmluZ1xyXG4gKiBAcGFyYW0geyp9IHZhbCBWYXJpYWJsZSB0byB0ZXN0LlxyXG4gKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHZhcmlhYmxlIGlzIGEgc3RyaW5nLlxyXG4gKi9cclxuZ29vZy5pc1N0cmluZyA9IGZ1bmN0aW9uKHZhbCkge1xyXG4gIHJldHVybiB0eXBlb2YgdmFsID09ICdzdHJpbmcnO1xyXG59O1xyXG5cclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIHNwZWNpZmllZCB2YWx1ZSBpcyBhIGJvb2xlYW5cclxuICogQHBhcmFtIHsqfSB2YWwgVmFyaWFibGUgdG8gdGVzdC5cclxuICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB2YXJpYWJsZSBpcyBib29sZWFuLlxyXG4gKi9cclxuZ29vZy5pc0Jvb2xlYW4gPSBmdW5jdGlvbih2YWwpIHtcclxuICByZXR1cm4gdHlwZW9mIHZhbCA9PSAnYm9vbGVhbic7XHJcbn07XHJcblxyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgc3BlY2lmaWVkIHZhbHVlIGlzIGEgbnVtYmVyXHJcbiAqIEBwYXJhbSB7Kn0gdmFsIFZhcmlhYmxlIHRvIHRlc3QuXHJcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdmFyaWFibGUgaXMgYSBudW1iZXIuXHJcbiAqL1xyXG5nb29nLmlzTnVtYmVyID0gZnVuY3Rpb24odmFsKSB7XHJcbiAgcmV0dXJuIHR5cGVvZiB2YWwgPT0gJ251bWJlcic7XHJcbn07XHJcblxyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgc3BlY2lmaWVkIHZhbHVlIGlzIGEgZnVuY3Rpb25cclxuICogQHBhcmFtIHsqfSB2YWwgVmFyaWFibGUgdG8gdGVzdC5cclxuICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB2YXJpYWJsZSBpcyBhIGZ1bmN0aW9uLlxyXG4gKi9cclxuZ29vZy5pc0Z1bmN0aW9uID0gZnVuY3Rpb24odmFsKSB7XHJcbiAgcmV0dXJuIGdvb2cudHlwZU9mKHZhbCkgPT0gJ2Z1bmN0aW9uJztcclxufTtcclxuXHJcblxyXG4vKipcclxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBzcGVjaWZpZWQgdmFsdWUgaXMgYW4gb2JqZWN0LiAgVGhpcyBpbmNsdWRlcyBhcnJheXNcclxuICogYW5kIGZ1bmN0aW9ucy5cclxuICogQHBhcmFtIHsqfSB2YWwgVmFyaWFibGUgdG8gdGVzdC5cclxuICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB2YXJpYWJsZSBpcyBhbiBvYmplY3QuXHJcbiAqL1xyXG5nb29nLmlzT2JqZWN0ID0gZnVuY3Rpb24odmFsKSB7XHJcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsO1xyXG4gIHJldHVybiB0eXBlID09ICdvYmplY3QnICYmIHZhbCAhPSBudWxsIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJztcclxuICAvLyByZXR1cm4gT2JqZWN0KHZhbCkgPT09IHZhbCBhbHNvIHdvcmtzLCBidXQgaXMgc2xvd2VyLCBlc3BlY2lhbGx5IGlmIHZhbCBpc1xyXG4gIC8vIG5vdCBhbiBvYmplY3QuXHJcbn07XHJcblxyXG5cclxuLyoqXHJcbiAqIEdldHMgYSB1bmlxdWUgSUQgZm9yIGFuIG9iamVjdC4gVGhpcyBtdXRhdGVzIHRoZSBvYmplY3Qgc28gdGhhdCBmdXJ0aGVyXHJcbiAqIGNhbGxzIHdpdGggdGhlIHNhbWUgb2JqZWN0IGFzIGEgcGFyYW1ldGVyIHJldHVybnMgdGhlIHNhbWUgdmFsdWUuIFRoZSB1bmlxdWVcclxuICogSUQgaXMgZ3VhcmFudGVlZCB0byBiZSB1bmlxdWUgYWNyb3NzIHRoZSBjdXJyZW50IHNlc3Npb24gYW1vbmdzdCBvYmplY3RzIHRoYXRcclxuICogYXJlIHBhc3NlZCBpbnRvIHtAY29kZSBnZXRVaWR9LiBUaGVyZSBpcyBubyBndWFyYW50ZWUgdGhhdCB0aGUgSUQgaXMgdW5pcXVlXHJcbiAqIG9yIGNvbnNpc3RlbnQgYWNyb3NzIHNlc3Npb25zLiBJdCBpcyB1bnNhZmUgdG8gZ2VuZXJhdGUgdW5pcXVlIElEIGZvclxyXG4gKiBmdW5jdGlvbiBwcm90b3R5cGVzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqIFRoZSBvYmplY3QgdG8gZ2V0IHRoZSB1bmlxdWUgSUQgZm9yLlxyXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSB1bmlxdWUgSUQgZm9yIHRoZSBvYmplY3QuXHJcbiAqL1xyXG5nb29nLmdldFVpZCA9IGZ1bmN0aW9uKG9iaikge1xyXG4gIC8vIFRPRE8oYXJ2KTogTWFrZSB0aGUgdHlwZSBzdHJpY3RlciwgZG8gbm90IGFjY2VwdCBudWxsLlxyXG5cclxuICAvLyBJbiBPcGVyYSB3aW5kb3cuaGFzT3duUHJvcGVydHkgZXhpc3RzIGJ1dCBhbHdheXMgcmV0dXJucyBmYWxzZSBzbyB3ZSBhdm9pZFxyXG4gIC8vIHVzaW5nIGl0LiBBcyBhIGNvbnNlcXVlbmNlIHRoZSB1bmlxdWUgSUQgZ2VuZXJhdGVkIGZvciBCYXNlQ2xhc3MucHJvdG90eXBlXHJcbiAgLy8gYW5kIFN1YkNsYXNzLnByb3RvdHlwZSB3aWxsIGJlIHRoZSBzYW1lLlxyXG4gIHJldHVybiBvYmpbZ29vZy5VSURfUFJPUEVSVFlfXSB8fFxyXG4gICAgICAob2JqW2dvb2cuVUlEX1BST1BFUlRZX10gPSArK2dvb2cudWlkQ291bnRlcl8pO1xyXG59O1xyXG5cclxuXHJcbi8qKlxyXG4gKiBSZW1vdmVzIHRoZSB1bmlxdWUgSUQgZnJvbSBhbiBvYmplY3QuIFRoaXMgaXMgdXNlZnVsIGlmIHRoZSBvYmplY3Qgd2FzXHJcbiAqIHByZXZpb3VzbHkgbXV0YXRlZCB1c2luZyB7QGNvZGUgZ29vZy5nZXRVaWR9IGluIHdoaWNoIGNhc2UgdGhlIG11dGF0aW9uIGlzXHJcbiAqIHVuZG9uZS5cclxuICogQHBhcmFtIHtPYmplY3R9IG9iaiBUaGUgb2JqZWN0IHRvIHJlbW92ZSB0aGUgdW5pcXVlIElEIGZpZWxkIGZyb20uXHJcbiAqL1xyXG5nb29nLnJlbW92ZVVpZCA9IGZ1bmN0aW9uKG9iaikge1xyXG4gIC8vIFRPRE8oYXJ2KTogTWFrZSB0aGUgdHlwZSBzdHJpY3RlciwgZG8gbm90IGFjY2VwdCBudWxsLlxyXG5cclxuICAvLyBET00gbm9kZXMgaW4gSUUgYXJlIG5vdCBpbnN0YW5jZSBvZiBPYmplY3QgYW5kIHRocm93cyBleGNlcHRpb25cclxuICAvLyBmb3IgZGVsZXRlLiBJbnN0ZWFkIHdlIHRyeSB0byB1c2UgcmVtb3ZlQXR0cmlidXRlXHJcbiAgaWYgKCdyZW1vdmVBdHRyaWJ1dGUnIGluIG9iaikge1xyXG4gICAgb2JqLnJlbW92ZUF0dHJpYnV0ZShnb29nLlVJRF9QUk9QRVJUWV8pO1xyXG4gIH1cclxuICAvKiogQHByZXNlcnZlVHJ5ICovXHJcbiAgdHJ5IHtcclxuICAgIGRlbGV0ZSBvYmpbZ29vZy5VSURfUFJPUEVSVFlfXTtcclxuICB9IGNhdGNoIChleCkge1xyXG4gIH1cclxufTtcclxuXHJcblxyXG4vKipcclxuICogTmFtZSBmb3IgdW5pcXVlIElEIHByb3BlcnR5LiBJbml0aWFsaXplZCBpbiBhIHdheSB0byBoZWxwIGF2b2lkIGNvbGxpc2lvbnNcclxuICogd2l0aCBvdGhlciBjbG9zdXJlIGphdmFzY3JpcHQgb24gdGhlIHNhbWUgcGFnZS5cclxuICogQHR5cGUge3N0cmluZ31cclxuICogQHByaXZhdGVcclxuICovXHJcbmdvb2cuVUlEX1BST1BFUlRZXyA9ICdjbG9zdXJlX3VpZF8nICtcclxuICAgIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDIxNDc0ODM2NDgpLnRvU3RyaW5nKDM2KTtcclxuXHJcblxyXG4vKipcclxuICogQ291bnRlciBmb3IgVUlELlxyXG4gKiBAdHlwZSB7bnVtYmVyfVxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZ29vZy51aWRDb3VudGVyXyA9IDA7XHJcblxyXG5cclxuLyoqXHJcbiAqIEFkZHMgYSBoYXNoIGNvZGUgZmllbGQgdG8gYW4gb2JqZWN0LiBUaGUgaGFzaCBjb2RlIGlzIHVuaXF1ZSBmb3IgdGhlXHJcbiAqIGdpdmVuIG9iamVjdC5cclxuICogQHBhcmFtIHtPYmplY3R9IG9iaiBUaGUgb2JqZWN0IHRvIGdldCB0aGUgaGFzaCBjb2RlIGZvci5cclxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgaGFzaCBjb2RlIGZvciB0aGUgb2JqZWN0LlxyXG4gKiBAZGVwcmVjYXRlZCBVc2UgZ29vZy5nZXRVaWQgaW5zdGVhZC5cclxuICovXHJcbmdvb2cuZ2V0SGFzaENvZGUgPSBnb29nLmdldFVpZDtcclxuXHJcblxyXG4vKipcclxuICogUmVtb3ZlcyB0aGUgaGFzaCBjb2RlIGZpZWxkIGZyb20gYW4gb2JqZWN0LlxyXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqIFRoZSBvYmplY3QgdG8gcmVtb3ZlIHRoZSBmaWVsZCBmcm9tLlxyXG4gKiBAZGVwcmVjYXRlZCBVc2UgZ29vZy5yZW1vdmVVaWQgaW5zdGVhZC5cclxuICovXHJcbmdvb2cucmVtb3ZlSGFzaENvZGUgPSBnb29nLnJlbW92ZVVpZDtcclxuXHJcblxyXG4vKipcclxuICogQ2xvbmVzIGEgdmFsdWUuIFRoZSBpbnB1dCBtYXkgYmUgYW4gT2JqZWN0LCBBcnJheSwgb3IgYmFzaWMgdHlwZS4gT2JqZWN0cyBhbmRcclxuICogYXJyYXlzIHdpbGwgYmUgY2xvbmVkIHJlY3Vyc2l2ZWx5LlxyXG4gKlxyXG4gKiBXQVJOSU5HUzpcclxuICogPGNvZGU+Z29vZy5jbG9uZU9iamVjdDwvY29kZT4gZG9lcyBub3QgZGV0ZWN0IHJlZmVyZW5jZSBsb29wcy4gT2JqZWN0cyB0aGF0XHJcbiAqIHJlZmVyIHRvIHRoZW1zZWx2ZXMgd2lsbCBjYXVzZSBpbmZpbml0ZSByZWN1cnNpb24uXHJcbiAqXHJcbiAqIDxjb2RlPmdvb2cuY2xvbmVPYmplY3Q8L2NvZGU+IGlzIHVuYXdhcmUgb2YgdW5pcXVlIGlkZW50aWZpZXJzLCBhbmQgY29waWVzXHJcbiAqIFVJRHMgY3JlYXRlZCBieSA8Y29kZT5nZXRVaWQ8L2NvZGU+IGludG8gY2xvbmVkIHJlc3VsdHMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7Kn0gb2JqIFRoZSB2YWx1ZSB0byBjbG9uZS5cclxuICogQHJldHVybiB7Kn0gQSBjbG9uZSBvZiB0aGUgaW5wdXQgdmFsdWUuXHJcbiAqIEBkZXByZWNhdGVkIGdvb2cuY2xvbmVPYmplY3QgaXMgdW5zYWZlLiBQcmVmZXIgdGhlIGdvb2cub2JqZWN0IG1ldGhvZHMuXHJcbiAqL1xyXG5nb29nLmNsb25lT2JqZWN0ID0gZnVuY3Rpb24ob2JqKSB7XHJcbiAgdmFyIHR5cGUgPSBnb29nLnR5cGVPZihvYmopO1xyXG4gIGlmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2FycmF5Jykge1xyXG4gICAgaWYgKG9iai5jbG9uZSkge1xyXG4gICAgICByZXR1cm4gb2JqLmNsb25lKCk7XHJcbiAgICB9XHJcbiAgICB2YXIgY2xvbmUgPSB0eXBlID09ICdhcnJheScgPyBbXSA6IHt9O1xyXG4gICAgZm9yICh2YXIga2V5IGluIG9iaikge1xyXG4gICAgICBjbG9uZVtrZXldID0gZ29vZy5jbG9uZU9iamVjdChvYmpba2V5XSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY2xvbmU7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gb2JqO1xyXG59O1xyXG5cclxuXHJcbi8qKlxyXG4gKiBGb3J3YXJkIGRlY2xhcmF0aW9uIGZvciB0aGUgY2xvbmUgbWV0aG9kLiBUaGlzIGlzIG5lY2Vzc2FyeSB1bnRpbCB0aGVcclxuICogY29tcGlsZXIgY2FuIGJldHRlciBzdXBwb3J0IGR1Y2stdHlwaW5nIGNvbnN0cnVjdHMgYXMgdXNlZCBpblxyXG4gKiBnb29nLmNsb25lT2JqZWN0LlxyXG4gKlxyXG4gKiBUT0RPKGJyZW5uZW1hbik6IFJlbW92ZSBvbmNlIHRoZSBKU0NvbXBpbGVyIGNhbiBpbmZlciB0aGF0IHRoZSBjaGVjayBmb3JcclxuICogcHJvdG8uY2xvbmUgaXMgc2FmZSBpbiBnb29nLmNsb25lT2JqZWN0LlxyXG4gKlxyXG4gKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAqL1xyXG5PYmplY3QucHJvdG90eXBlLmNsb25lO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBBIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbiBvZiBnb29nLmJpbmQuXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIEEgZnVuY3Rpb24gdG8gcGFydGlhbGx5IGFwcGx5LlxyXG4gKiBAcGFyYW0ge09iamVjdHx1bmRlZmluZWR9IHNlbGZPYmogU3BlY2lmaWVzIHRoZSBvYmplY3Qgd2hpY2ggfHRoaXN8IHNob3VsZFxyXG4gKiAgICAgcG9pbnQgdG8gd2hlbiB0aGUgZnVuY3Rpb24gaXMgcnVuLlxyXG4gKiBAcGFyYW0gey4uLip9IHZhcl9hcmdzIEFkZGl0aW9uYWwgYXJndW1lbnRzIHRoYXQgYXJlIHBhcnRpYWxseVxyXG4gKiAgICAgYXBwbGllZCB0byB0aGUgZnVuY3Rpb24uXHJcbiAqIEByZXR1cm4geyFGdW5jdGlvbn0gQSBwYXJ0aWFsbHktYXBwbGllZCBmb3JtIG9mIHRoZSBmdW5jdGlvbiBiaW5kKCkgd2FzXHJcbiAqICAgICBpbnZva2VkIGFzIGEgbWV0aG9kIG9mLlxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAc3VwcHJlc3Mge2RlcHJlY2F0ZWR9IFRoZSBjb21waWxlciB0aGlua3MgdGhhdCBGdW5jdGlvbi5wcm90b3R5cGUuYmluZFxyXG4gKiAgICAgaXMgZGVwcmVjYXRlZCBiZWNhdXNlIHNvbWUgcGVvcGxlIGhhdmUgZGVjbGFyZWQgYSBwdXJlLUpTIHZlcnNpb24uXHJcbiAqICAgICBPbmx5IHRoZSBwdXJlLUpTIHZlcnNpb24gaXMgdHJ1bHkgZGVwcmVjYXRlZC5cclxuICovXHJcbmdvb2cuYmluZE5hdGl2ZV8gPSBmdW5jdGlvbihmbiwgc2VsZk9iaiwgdmFyX2FyZ3MpIHtcclxuICByZXR1cm4gLyoqIEB0eXBlIHshRnVuY3Rpb259ICovIChmbi5jYWxsLmFwcGx5KGZuLmJpbmQsIGFyZ3VtZW50cykpO1xyXG59O1xyXG5cclxuXHJcbi8qKlxyXG4gKiBBIHB1cmUtSlMgaW1wbGVtZW50YXRpb24gb2YgZ29vZy5iaW5kLlxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBBIGZ1bmN0aW9uIHRvIHBhcnRpYWxseSBhcHBseS5cclxuICogQHBhcmFtIHtPYmplY3R8dW5kZWZpbmVkfSBzZWxmT2JqIFNwZWNpZmllcyB0aGUgb2JqZWN0IHdoaWNoIHx0aGlzfCBzaG91bGRcclxuICogICAgIHBvaW50IHRvIHdoZW4gdGhlIGZ1bmN0aW9uIGlzIHJ1bi5cclxuICogQHBhcmFtIHsuLi4qfSB2YXJfYXJncyBBZGRpdGlvbmFsIGFyZ3VtZW50cyB0aGF0IGFyZSBwYXJ0aWFsbHlcclxuICogICAgIGFwcGxpZWQgdG8gdGhlIGZ1bmN0aW9uLlxyXG4gKiBAcmV0dXJuIHshRnVuY3Rpb259IEEgcGFydGlhbGx5LWFwcGxpZWQgZm9ybSBvZiB0aGUgZnVuY3Rpb24gYmluZCgpIHdhc1xyXG4gKiAgICAgaW52b2tlZCBhcyBhIG1ldGhvZCBvZi5cclxuICogQHByaXZhdGVcclxuICovXHJcbmdvb2cuYmluZEpzXyA9IGZ1bmN0aW9uKGZuLCBzZWxmT2JqLCB2YXJfYXJncykge1xyXG4gIGlmICghZm4pIHtcclxuICAgIHRocm93IG5ldyBFcnJvcigpO1xyXG4gIH1cclxuXHJcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAyKSB7XHJcbiAgICB2YXIgYm91bmRBcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKTtcclxuICAgIHJldHVybiBmdW5jdGlvbigpIHtcclxuICAgICAgLy8gUHJlcGVuZCB0aGUgYm91bmQgYXJndW1lbnRzIHRvIHRoZSBjdXJyZW50IGFyZ3VtZW50cy5cclxuICAgICAgdmFyIG5ld0FyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xyXG4gICAgICBBcnJheS5wcm90b3R5cGUudW5zaGlmdC5hcHBseShuZXdBcmdzLCBib3VuZEFyZ3MpO1xyXG4gICAgICByZXR1cm4gZm4uYXBwbHkoc2VsZk9iaiwgbmV3QXJncyk7XHJcbiAgICB9O1xyXG5cclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xyXG4gICAgICByZXR1cm4gZm4uYXBwbHkoc2VsZk9iaiwgYXJndW1lbnRzKTtcclxuICAgIH07XHJcbiAgfVxyXG59O1xyXG5cclxuXHJcbi8qKlxyXG4gKiBQYXJ0aWFsbHkgYXBwbGllcyB0aGlzIGZ1bmN0aW9uIHRvIGEgcGFydGljdWxhciAndGhpcyBvYmplY3QnIGFuZCB6ZXJvIG9yXHJcbiAqIG1vcmUgYXJndW1lbnRzLiBUaGUgcmVzdWx0IGlzIGEgbmV3IGZ1bmN0aW9uIHdpdGggc29tZSBhcmd1bWVudHMgb2YgdGhlIGZpcnN0XHJcbiAqIGZ1bmN0aW9uIHByZS1maWxsZWQgYW5kIHRoZSB2YWx1ZSBvZiB8dGhpc3wgJ3ByZS1zcGVjaWZpZWQnLjxicj48YnI+XHJcbiAqXHJcbiAqIFJlbWFpbmluZyBhcmd1bWVudHMgc3BlY2lmaWVkIGF0IGNhbGwtdGltZSBhcmUgYXBwZW5kZWQgdG8gdGhlIHByZS1cclxuICogc3BlY2lmaWVkIG9uZXMuPGJyPjxicj5cclxuICpcclxuICogQWxzbyBzZWU6IHtAbGluayAjcGFydGlhbH0uPGJyPjxicj5cclxuICpcclxuICogVXNhZ2U6XHJcbiAqIDxwcmU+dmFyIGJhck1ldGhCb3VuZCA9IGJpbmQobXlGdW5jdGlvbiwgbXlPYmosICdhcmcxJywgJ2FyZzInKTtcclxuICogYmFyTWV0aEJvdW5kKCdhcmczJywgJ2FyZzQnKTs8L3ByZT5cclxuICpcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gQSBmdW5jdGlvbiB0byBwYXJ0aWFsbHkgYXBwbHkuXHJcbiAqIEBwYXJhbSB7T2JqZWN0fHVuZGVmaW5lZH0gc2VsZk9iaiBTcGVjaWZpZXMgdGhlIG9iamVjdCB3aGljaCB8dGhpc3wgc2hvdWxkXHJcbiAqICAgICBwb2ludCB0byB3aGVuIHRoZSBmdW5jdGlvbiBpcyBydW4uXHJcbiAqIEBwYXJhbSB7Li4uKn0gdmFyX2FyZ3MgQWRkaXRpb25hbCBhcmd1bWVudHMgdGhhdCBhcmUgcGFydGlhbGx5XHJcbiAqICAgICBhcHBsaWVkIHRvIHRoZSBmdW5jdGlvbi5cclxuICogQHJldHVybiB7IUZ1bmN0aW9ufSBBIHBhcnRpYWxseS1hcHBsaWVkIGZvcm0gb2YgdGhlIGZ1bmN0aW9uIGJpbmQoKSB3YXNcclxuICogICAgIGludm9rZWQgYXMgYSBtZXRob2Qgb2YuXHJcbiAqIEBzdXBwcmVzcyB7ZGVwcmVjYXRlZH0gU2VlIGFib3ZlLlxyXG4gKi9cclxuZ29vZy5iaW5kID0gZnVuY3Rpb24oZm4sIHNlbGZPYmosIHZhcl9hcmdzKSB7XHJcbiAgLy8gVE9ETyhuaWNrc2FudG9zKTogbmFycm93IHRoZSB0eXBlIHNpZ25hdHVyZS5cclxuICBpZiAoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgJiZcclxuICAgICAgLy8gTk9URShuaWNrc2FudG9zKTogU29tZWJvZHkgcHVsbGVkIGJhc2UuanMgaW50byB0aGUgZGVmYXVsdFxyXG4gICAgICAvLyBDaHJvbWUgZXh0ZW5zaW9uIGVudmlyb25tZW50LiBUaGlzIG1lYW5zIHRoYXQgZm9yIENocm9tZSBleHRlbnNpb25zLFxyXG4gICAgICAvLyB0aGV5IGdldCB0aGUgaW1wbGVtZW50YXRpb24gb2YgRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgdGhhdFxyXG4gICAgICAvLyBjYWxscyBnb29nLmJpbmQgaW5zdGVhZCBvZiB0aGUgbmF0aXZlIG9uZS4gRXZlbiB3b3JzZSwgd2UgZG9uJ3Qgd2FudFxyXG4gICAgICAvLyB0byBpbnRyb2R1Y2UgYSBjaXJjdWxhciBkZXBlbmRlbmN5IGJldHdlZW4gZ29vZy5iaW5kIGFuZFxyXG4gICAgICAvLyBGdW5jdGlvbi5wcm90b3R5cGUuYmluZCwgc28gd2UgaGF2ZSB0byBoYWNrIHRoaXMgdG8gbWFrZSBzdXJlIGl0XHJcbiAgICAgIC8vIHdvcmtzIGNvcnJlY3RseS5cclxuICAgICAgRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQudG9TdHJpbmcoKS5pbmRleE9mKCduYXRpdmUgY29kZScpICE9IC0xKSB7XHJcbiAgICBnb29nLmJpbmQgPSBnb29nLmJpbmROYXRpdmVfO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBnb29nLmJpbmQgPSBnb29nLmJpbmRKc187XHJcbiAgfVxyXG4gIHJldHVybiBnb29nLmJpbmQuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcclxufTtcclxuXHJcblxyXG4vKipcclxuICogTGlrZSBiaW5kKCksIGV4Y2VwdCB0aGF0IGEgJ3RoaXMgb2JqZWN0JyBpcyBub3QgcmVxdWlyZWQuIFVzZWZ1bCB3aGVuIHRoZVxyXG4gKiB0YXJnZXQgZnVuY3Rpb24gaXMgYWxyZWFkeSBib3VuZC5cclxuICpcclxuICogVXNhZ2U6XHJcbiAqIHZhciBnID0gcGFydGlhbChmLCBhcmcxLCBhcmcyKTtcclxuICogZyhhcmczLCBhcmc0KTtcclxuICpcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gQSBmdW5jdGlvbiB0byBwYXJ0aWFsbHkgYXBwbHkuXHJcbiAqIEBwYXJhbSB7Li4uKn0gdmFyX2FyZ3MgQWRkaXRpb25hbCBhcmd1bWVudHMgdGhhdCBhcmUgcGFydGlhbGx5XHJcbiAqICAgICBhcHBsaWVkIHRvIGZuLlxyXG4gKiBAcmV0dXJuIHshRnVuY3Rpb259IEEgcGFydGlhbGx5LWFwcGxpZWQgZm9ybSBvZiB0aGUgZnVuY3Rpb24gYmluZCgpIHdhc1xyXG4gKiAgICAgaW52b2tlZCBhcyBhIG1ldGhvZCBvZi5cclxuICovXHJcbmdvb2cucGFydGlhbCA9IGZ1bmN0aW9uKGZuLCB2YXJfYXJncykge1xyXG4gIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcclxuICByZXR1cm4gZnVuY3Rpb24oKSB7XHJcbiAgICAvLyBQcmVwZW5kIHRoZSBib3VuZCBhcmd1bWVudHMgdG8gdGhlIGN1cnJlbnQgYXJndW1lbnRzLlxyXG4gICAgdmFyIG5ld0FyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xyXG4gICAgbmV3QXJncy51bnNoaWZ0LmFwcGx5KG5ld0FyZ3MsIGFyZ3MpO1xyXG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIG5ld0FyZ3MpO1xyXG4gIH07XHJcbn07XHJcblxyXG5cclxuLyoqXHJcbiAqIENvcGllcyBhbGwgdGhlIG1lbWJlcnMgb2YgYSBzb3VyY2Ugb2JqZWN0IHRvIGEgdGFyZ2V0IG9iamVjdC4gVGhpcyBtZXRob2RcclxuICogZG9lcyBub3Qgd29yayBvbiBhbGwgYnJvd3NlcnMgZm9yIGFsbCBvYmplY3RzIHRoYXQgY29udGFpbiBrZXlzIHN1Y2ggYXNcclxuICogdG9TdHJpbmcgb3IgaGFzT3duUHJvcGVydHkuIFVzZSBnb29nLm9iamVjdC5leHRlbmQgZm9yIHRoaXMgcHVycG9zZS5cclxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldCBUYXJnZXQuXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgU291cmNlLlxyXG4gKi9cclxuZ29vZy5taXhpbiA9IGZ1bmN0aW9uKHRhcmdldCwgc291cmNlKSB7XHJcbiAgZm9yICh2YXIgeCBpbiBzb3VyY2UpIHtcclxuICAgIHRhcmdldFt4XSA9IHNvdXJjZVt4XTtcclxuICB9XHJcblxyXG4gIC8vIEZvciBJRTcgb3IgbG93ZXIsIHRoZSBmb3ItaW4tbG9vcCBkb2VzIG5vdCBjb250YWluIGFueSBwcm9wZXJ0aWVzIHRoYXQgYXJlXHJcbiAgLy8gbm90IGVudW1lcmFibGUgb24gdGhlIHByb3RvdHlwZSBvYmplY3QgKGZvciBleGFtcGxlLCBpc1Byb3RvdHlwZU9mIGZyb21cclxuICAvLyBPYmplY3QucHJvdG90eXBlKSBidXQgYWxzbyBpdCB3aWxsIG5vdCBpbmNsdWRlICdyZXBsYWNlJyBvbiBvYmplY3RzIHRoYXRcclxuICAvLyBleHRlbmQgU3RyaW5nIGFuZCBjaGFuZ2UgJ3JlcGxhY2UnIChub3QgdGhhdCBpdCBpcyBjb21tb24gZm9yIGFueW9uZSB0b1xyXG4gIC8vIGV4dGVuZCBhbnl0aGluZyBleGNlcHQgT2JqZWN0KS5cclxufTtcclxuXHJcblxyXG4vKipcclxuICogQHJldHVybiB7bnVtYmVyfSBBbiBpbnRlZ2VyIHZhbHVlIHJlcHJlc2VudGluZyB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kc1xyXG4gKiAgICAgYmV0d2VlbiBtaWRuaWdodCwgSmFudWFyeSAxLCAxOTcwIGFuZCB0aGUgY3VycmVudCB0aW1lLlxyXG4gKi9cclxuZ29vZy5ub3cgPSBEYXRlLm5vdyB8fCAoZnVuY3Rpb24oKSB7XHJcbiAgLy8gVW5hcnkgcGx1cyBvcGVyYXRvciBjb252ZXJ0cyBpdHMgb3BlcmFuZCB0byBhIG51bWJlciB3aGljaCBpbiB0aGUgY2FzZSBvZlxyXG4gIC8vIGEgZGF0ZSBpcyBkb25lIGJ5IGNhbGxpbmcgZ2V0VGltZSgpLlxyXG4gIHJldHVybiArbmV3IERhdGUoKTtcclxufSk7XHJcblxyXG5cclxuLyoqXHJcbiAqIEV2YWxzIGphdmFzY3JpcHQgaW4gdGhlIGdsb2JhbCBzY29wZS4gIEluIElFIHRoaXMgdXNlcyBleGVjU2NyaXB0LCBvdGhlclxyXG4gKiBicm93c2VycyB1c2UgZ29vZy5nbG9iYWwuZXZhbC4gSWYgZ29vZy5nbG9iYWwuZXZhbCBkb2VzIG5vdCBldmFsdWF0ZSBpbiB0aGVcclxuICogZ2xvYmFsIHNjb3BlIChmb3IgZXhhbXBsZSwgaW4gU2FmYXJpKSwgYXBwZW5kcyBhIHNjcmlwdCB0YWcgaW5zdGVhZC5cclxuICogVGhyb3dzIGFuIGV4Y2VwdGlvbiBpZiBuZWl0aGVyIGV4ZWNTY3JpcHQgb3IgZXZhbCBpcyBkZWZpbmVkLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gc2NyaXB0IEphdmFTY3JpcHQgc3RyaW5nLlxyXG4gKi9cclxuZ29vZy5nbG9iYWxFdmFsID0gZnVuY3Rpb24oc2NyaXB0KSB7XHJcbiAgaWYgKGdvb2cuZ2xvYmFsLmV4ZWNTY3JpcHQpIHtcclxuICAgIGdvb2cuZ2xvYmFsLmV4ZWNTY3JpcHQoc2NyaXB0LCAnSmF2YVNjcmlwdCcpO1xyXG4gIH0gZWxzZSBpZiAoZ29vZy5nbG9iYWwuZXZhbCkge1xyXG4gICAgLy8gVGVzdCB0byBzZWUgaWYgZXZhbCB3b3Jrc1xyXG4gICAgaWYgKGdvb2cuZXZhbFdvcmtzRm9yR2xvYmFsc18gPT0gbnVsbCkge1xyXG4gICAgICBnb29nLmdsb2JhbC5ldmFsKCd2YXIgX2V0XyA9IDE7Jyk7XHJcbiAgICAgIGlmICh0eXBlb2YgZ29vZy5nbG9iYWxbJ19ldF8nXSAhPSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIGRlbGV0ZSBnb29nLmdsb2JhbFsnX2V0XyddO1xyXG4gICAgICAgIGdvb2cuZXZhbFdvcmtzRm9yR2xvYmFsc18gPSB0cnVlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGdvb2cuZXZhbFdvcmtzRm9yR2xvYmFsc18gPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChnb29nLmV2YWxXb3Jrc0Zvckdsb2JhbHNfKSB7XHJcbiAgICAgIGdvb2cuZ2xvYmFsLmV2YWwoc2NyaXB0KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHZhciBkb2MgPSBnb29nLmdsb2JhbC5kb2N1bWVudDtcclxuICAgICAgdmFyIHNjcmlwdEVsdCA9IGRvYy5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcclxuICAgICAgc2NyaXB0RWx0LnR5cGUgPSAndGV4dC9qYXZhc2NyaXB0JztcclxuICAgICAgc2NyaXB0RWx0LmRlZmVyID0gZmFsc2U7XHJcbiAgICAgIC8vIE5vdGUodXNlcik6IGNhbid0IHVzZSAuaW5uZXJIVE1MIHNpbmNlIFwidCgnPHRlc3Q+JylcIiB3aWxsIGZhaWwgYW5kXHJcbiAgICAgIC8vIC50ZXh0IGRvZXNuJ3Qgd29yayBpbiBTYWZhcmkgMi4gIFRoZXJlZm9yZSB3ZSBhcHBlbmQgYSB0ZXh0IG5vZGUuXHJcbiAgICAgIHNjcmlwdEVsdC5hcHBlbmRDaGlsZChkb2MuY3JlYXRlVGV4dE5vZGUoc2NyaXB0KSk7XHJcbiAgICAgIGRvYy5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdEVsdCk7XHJcbiAgICAgIGRvYy5ib2R5LnJlbW92ZUNoaWxkKHNjcmlwdEVsdCk7XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIHRocm93IEVycm9yKCdnb29nLmdsb2JhbEV2YWwgbm90IGF2YWlsYWJsZScpO1xyXG4gIH1cclxufTtcclxuXHJcblxyXG4vKipcclxuICogSW5kaWNhdGVzIHdoZXRoZXIgb3Igbm90IHdlIGNhbiBjYWxsICdldmFsJyBkaXJlY3RseSB0byBldmFsIGNvZGUgaW4gdGhlXHJcbiAqIGdsb2JhbCBzY29wZS4gU2V0IHRvIGEgQm9vbGVhbiBieSB0aGUgZmlyc3QgY2FsbCB0byBnb29nLmdsb2JhbEV2YWwgKHdoaWNoXHJcbiAqIGVtcGlyaWNhbGx5IHRlc3RzIHdoZXRoZXIgZXZhbCB3b3JrcyBmb3IgZ2xvYmFscykuIEBzZWUgZ29vZy5nbG9iYWxFdmFsXHJcbiAqIEB0eXBlIHs/Ym9vbGVhbn1cclxuICogQHByaXZhdGVcclxuICovXHJcbmdvb2cuZXZhbFdvcmtzRm9yR2xvYmFsc18gPSBudWxsO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBPcHRpb25hbCBtYXAgb2YgQ1NTIGNsYXNzIG5hbWVzIHRvIG9iZnVzY2F0ZWQgbmFtZXMgdXNlZCB3aXRoXHJcbiAqIGdvb2cuZ2V0Q3NzTmFtZSgpLlxyXG4gKiBAdHlwZSB7T2JqZWN0fHVuZGVmaW5lZH1cclxuICogQHByaXZhdGVcclxuICogQHNlZSBnb29nLnNldENzc05hbWVNYXBwaW5nXHJcbiAqL1xyXG5nb29nLmNzc05hbWVNYXBwaW5nXztcclxuXHJcblxyXG4vKipcclxuICogT3B0aW9uYWwgb2JmdXNjYXRpb24gc3R5bGUgZm9yIENTUyBjbGFzcyBuYW1lcy4gU2hvdWxkIGJlIHNldCB0byBlaXRoZXJcclxuICogJ0JZX1dIT0xFJyBvciAnQllfUEFSVCcgaWYgZGVmaW5lZC5cclxuICogQHR5cGUge3N0cmluZ3x1bmRlZmluZWR9XHJcbiAqIEBwcml2YXRlXHJcbiAqIEBzZWUgZ29vZy5zZXRDc3NOYW1lTWFwcGluZ1xyXG4gKi9cclxuZ29vZy5jc3NOYW1lTWFwcGluZ1N0eWxlXztcclxuXHJcblxyXG4vKipcclxuICogSGFuZGxlcyBzdHJpbmdzIHRoYXQgYXJlIGludGVuZGVkIHRvIGJlIHVzZWQgYXMgQ1NTIGNsYXNzIG5hbWVzLlxyXG4gKlxyXG4gKiBUaGlzIGZ1bmN0aW9uIHdvcmtzIGluIHRhbmRlbSB3aXRoIEBzZWUgZ29vZy5zZXRDc3NOYW1lTWFwcGluZy5cclxuICpcclxuICogV2l0aG91dCBhbnkgbWFwcGluZyBzZXQsIHRoZSBhcmd1bWVudHMgYXJlIHNpbXBsZSBqb2luZWQgd2l0aCBhXHJcbiAqIGh5cGhlbiBhbmQgcGFzc2VkIHRocm91Z2ggdW5hbHRlcmVkLlxyXG4gKlxyXG4gKiBXaGVuIHRoZXJlIGlzIGEgbWFwcGluZywgdGhlcmUgYXJlIHR3byBwb3NzaWJsZSBzdHlsZXMgaW4gd2hpY2hcclxuICogdGhlc2UgbWFwcGluZ3MgYXJlIHVzZWQuIEluIHRoZSBCWV9QQVJUIHN0eWxlLCBlYWNoIHBhcnQgKGkuZS4gaW5cclxuICogYmV0d2VlbiBoeXBoZW5zKSBvZiB0aGUgcGFzc2VkIGluIGNzcyBuYW1lIGlzIHJld3JpdHRlbiBhY2NvcmRpbmdcclxuICogdG8gdGhlIG1hcC4gSW4gdGhlIEJZX1dIT0xFIHN0eWxlLCB0aGUgZnVsbCBjc3MgbmFtZSBpcyBsb29rZWQgdXAgaW5cclxuICogdGhlIG1hcCBkaXJlY3RseS4gSWYgYSByZXdyaXRlIGlzIG5vdCBzcGVjaWZpZWQgYnkgdGhlIG1hcCwgdGhlXHJcbiAqIGNvbXBpbGVyIHdpbGwgb3V0cHV0IGEgd2FybmluZy5cclxuICpcclxuICogV2hlbiB0aGUgbWFwcGluZyBpcyBwYXNzZWQgdG8gdGhlIGNvbXBpbGVyLCBpdCB3aWxsIHJlcGxhY2UgY2FsbHNcclxuICogdG8gZ29vZy5nZXRDc3NOYW1lIHdpdGggdGhlIHN0cmluZ3MgZnJvbSB0aGUgbWFwcGluZywgZS5nLlxyXG4gKiAgICAgdmFyIHggPSBnb29nLmdldENzc05hbWUoJ2ZvbycpO1xyXG4gKiAgICAgdmFyIHkgPSBnb29nLmdldENzc05hbWUodGhpcy5iYXNlQ2xhc3MsICdhY3RpdmUnKTtcclxuICogIGJlY29tZXM6XHJcbiAqICAgICB2YXIgeD0gJ2Zvbyc7XHJcbiAqICAgICB2YXIgeSA9IHRoaXMuYmFzZUNsYXNzICsgJy1hY3RpdmUnO1xyXG4gKlxyXG4gKiBJZiBvbmUgYXJndW1lbnQgaXMgcGFzc2VkIGl0IHdpbGwgYmUgcHJvY2Vzc2VkLCBpZiB0d28gYXJlIHBhc3NlZFxyXG4gKiBvbmx5IHRoZSBtb2RpZmllciB3aWxsIGJlIHByb2Nlc3NlZCwgYXMgaXQgaXMgYXNzdW1lZCB0aGUgZmlyc3RcclxuICogYXJndW1lbnQgd2FzIGdlbmVyYXRlZCBhcyBhIHJlc3VsdCBvZiBjYWxsaW5nIGdvb2cuZ2V0Q3NzTmFtZS5cclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzTmFtZSBUaGUgY2xhc3MgbmFtZS5cclxuICogQHBhcmFtIHtzdHJpbmc9fSBvcHRfbW9kaWZpZXIgQSBtb2RpZmllciB0byBiZSBhcHBlbmRlZCB0byB0aGUgY2xhc3MgbmFtZS5cclxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgY2xhc3MgbmFtZSBvciB0aGUgY29uY2F0ZW5hdGlvbiBvZiB0aGUgY2xhc3MgbmFtZSBhbmRcclxuICogICAgIHRoZSBtb2RpZmllci5cclxuICovXHJcbmdvb2cuZ2V0Q3NzTmFtZSA9IGZ1bmN0aW9uKGNsYXNzTmFtZSwgb3B0X21vZGlmaWVyKSB7XHJcbiAgdmFyIGdldE1hcHBpbmcgPSBmdW5jdGlvbihjc3NOYW1lKSB7XHJcbiAgICByZXR1cm4gZ29vZy5jc3NOYW1lTWFwcGluZ19bY3NzTmFtZV0gfHwgY3NzTmFtZTtcclxuICB9O1xyXG5cclxuICB2YXIgcmVuYW1lQnlQYXJ0cyA9IGZ1bmN0aW9uKGNzc05hbWUpIHtcclxuICAgIC8vIFJlbWFwIGFsbCB0aGUgcGFydHMgaW5kaXZpZHVhbGx5LlxyXG4gICAgdmFyIHBhcnRzID0gY3NzTmFtZS5zcGxpdCgnLScpO1xyXG4gICAgdmFyIG1hcHBlZCA9IFtdO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBtYXBwZWQucHVzaChnZXRNYXBwaW5nKHBhcnRzW2ldKSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbWFwcGVkLmpvaW4oJy0nKTtcclxuICB9O1xyXG5cclxuICB2YXIgcmVuYW1lO1xyXG4gIGlmIChnb29nLmNzc05hbWVNYXBwaW5nXykge1xyXG4gICAgcmVuYW1lID0gZ29vZy5jc3NOYW1lTWFwcGluZ1N0eWxlXyA9PSAnQllfV0hPTEUnID9cclxuICAgICAgICBnZXRNYXBwaW5nIDogcmVuYW1lQnlQYXJ0cztcclxuICB9IGVsc2Uge1xyXG4gICAgcmVuYW1lID0gZnVuY3Rpb24oYSkge1xyXG4gICAgICByZXR1cm4gYTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBpZiAob3B0X21vZGlmaWVyKSB7XHJcbiAgICByZXR1cm4gY2xhc3NOYW1lICsgJy0nICsgcmVuYW1lKG9wdF9tb2RpZmllcik7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiByZW5hbWUoY2xhc3NOYW1lKTtcclxuICB9XHJcbn07XHJcblxyXG5cclxuLyoqXHJcbiAqIFNldHMgdGhlIG1hcCB0byBjaGVjayB3aGVuIHJldHVybmluZyBhIHZhbHVlIGZyb20gZ29vZy5nZXRDc3NOYW1lKCkuIEV4YW1wbGU6XHJcbiAqIDxwcmU+XHJcbiAqIGdvb2cuc2V0Q3NzTmFtZU1hcHBpbmcoe1xyXG4gKiAgIFwiZ29vZ1wiOiBcImFcIixcclxuICogICBcImRpc2FibGVkXCI6IFwiYlwiLFxyXG4gKiB9KTtcclxuICpcclxuICogdmFyIHggPSBnb29nLmdldENzc05hbWUoJ2dvb2cnKTtcclxuICogLy8gVGhlIGZvbGxvd2luZyBldmFsdWF0ZXMgdG86IFwiYSBhLWJcIi5cclxuICogZ29vZy5nZXRDc3NOYW1lKCdnb29nJykgKyAnICcgKyBnb29nLmdldENzc05hbWUoeCwgJ2Rpc2FibGVkJylcclxuICogPC9wcmU+XHJcbiAqIFdoZW4gZGVjbGFyZWQgYXMgYSBtYXAgb2Ygc3RyaW5nIGxpdGVyYWxzIHRvIHN0cmluZyBsaXRlcmFscywgdGhlIEpTQ29tcGlsZXJcclxuICogd2lsbCByZXBsYWNlIGFsbCBjYWxscyB0byBnb29nLmdldENzc05hbWUoKSB1c2luZyB0aGUgc3VwcGxpZWQgbWFwIGlmIHRoZVxyXG4gKiAtLWNsb3N1cmVfcGFzcyBmbGFnIGlzIHNldC5cclxuICpcclxuICogQHBhcmFtIHshT2JqZWN0fSBtYXBwaW5nIEEgbWFwIG9mIHN0cmluZ3MgdG8gc3RyaW5ncyB3aGVyZSBrZXlzIGFyZSBwb3NzaWJsZVxyXG4gKiAgICAgYXJndW1lbnRzIHRvIGdvb2cuZ2V0Q3NzTmFtZSgpIGFuZCB2YWx1ZXMgYXJlIHRoZSBjb3JyZXNwb25kaW5nIHZhbHVlc1xyXG4gKiAgICAgdGhhdCBzaG91bGQgYmUgcmV0dXJuZWQuXHJcbiAqIEBwYXJhbSB7c3RyaW5nPX0gb3B0X3N0eWxlIFRoZSBzdHlsZSBvZiBjc3MgbmFtZSBtYXBwaW5nLiBUaGVyZSBhcmUgdHdvIHZhbGlkXHJcbiAqICAgICBvcHRpb25zOiAnQllfUEFSVCcsIGFuZCAnQllfV0hPTEUnLlxyXG4gKiBAc2VlIGdvb2cuZ2V0Q3NzTmFtZSBmb3IgYSBkZXNjcmlwdGlvbi5cclxuICovXHJcbmdvb2cuc2V0Q3NzTmFtZU1hcHBpbmcgPSBmdW5jdGlvbihtYXBwaW5nLCBvcHRfc3R5bGUpIHtcclxuICBnb29nLmNzc05hbWVNYXBwaW5nXyA9IG1hcHBpbmc7XHJcbiAgZ29vZy5jc3NOYW1lTWFwcGluZ1N0eWxlXyA9IG9wdF9zdHlsZTtcclxufTtcclxuXHJcblxyXG4vKipcclxuICogVG8gdXNlIENTUyByZW5hbWluZyBpbiBjb21waWxlZCBtb2RlLCBvbmUgb2YgdGhlIGlucHV0IGZpbGVzIHNob3VsZCBoYXZlIGFcclxuICogY2FsbCB0byBnb29nLnNldENzc05hbWVNYXBwaW5nKCkgd2l0aCBhbiBvYmplY3QgbGl0ZXJhbCB0aGF0IHRoZSBKU0NvbXBpbGVyXHJcbiAqIGNhbiBleHRyYWN0IGFuZCB1c2UgdG8gcmVwbGFjZSBhbGwgY2FsbHMgdG8gZ29vZy5nZXRDc3NOYW1lKCkuIEluIHVuY29tcGlsZWRcclxuICogbW9kZSwgSmF2YVNjcmlwdCBjb2RlIHNob3VsZCBiZSBsb2FkZWQgYmVmb3JlIHRoaXMgYmFzZS5qcyBmaWxlIHRoYXQgZGVjbGFyZXNcclxuICogYSBnbG9iYWwgdmFyaWFibGUsIENMT1NVUkVfQ1NTX05BTUVfTUFQUElORywgd2hpY2ggaXMgdXNlZCBiZWxvdy4gVGhpcyBpc1xyXG4gKiB0byBlbnN1cmUgdGhhdCB0aGUgbWFwcGluZyBpcyBsb2FkZWQgYmVmb3JlIGFueSBjYWxscyB0byBnb29nLmdldENzc05hbWUoKVxyXG4gKiBhcmUgbWFkZSBpbiB1bmNvbXBpbGVkIG1vZGUuXHJcbiAqXHJcbiAqIEEgaG9vayBmb3Igb3ZlcnJpZGluZyB0aGUgQ1NTIG5hbWUgbWFwcGluZy5cclxuICogQHR5cGUge09iamVjdHx1bmRlZmluZWR9XHJcbiAqL1xyXG5nb29nLmdsb2JhbC5DTE9TVVJFX0NTU19OQU1FX01BUFBJTkc7XHJcblxyXG5cclxuaWYgKCFDT01QSUxFRCAmJiBnb29nLmdsb2JhbC5DTE9TVVJFX0NTU19OQU1FX01BUFBJTkcpIHtcclxuICAvLyBUaGlzIGRvZXMgbm90IGNhbGwgZ29vZy5zZXRDc3NOYW1lTWFwcGluZygpIGJlY2F1c2UgdGhlIEpTQ29tcGlsZXJcclxuICAvLyByZXF1aXJlcyB0aGF0IGdvb2cuc2V0Q3NzTmFtZU1hcHBpbmcoKSBiZSBjYWxsZWQgd2l0aCBhbiBvYmplY3QgbGl0ZXJhbC5cclxuICBnb29nLmNzc05hbWVNYXBwaW5nXyA9IGdvb2cuZ2xvYmFsLkNMT1NVUkVfQ1NTX05BTUVfTUFQUElORztcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBBYnN0cmFjdCBpbXBsZW1lbnRhdGlvbiBvZiBnb29nLmdldE1zZyBmb3IgdXNlIHdpdGggbG9jYWxpemVkIG1lc3NhZ2VzLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyIFRyYW5zbGF0YWJsZSBzdHJpbmcsIHBsYWNlcyBob2xkZXJzIGluIHRoZSBmb3JtIHskZm9vfS5cclxuICogQHBhcmFtIHtPYmplY3Q9fSBvcHRfdmFsdWVzIE1hcCBvZiBwbGFjZSBob2xkZXIgbmFtZSB0byB2YWx1ZS5cclxuICogQHJldHVybiB7c3RyaW5nfSBtZXNzYWdlIHdpdGggcGxhY2Vob2xkZXJzIGZpbGxlZC5cclxuICovXHJcbmdvb2cuZ2V0TXNnID0gZnVuY3Rpb24oc3RyLCBvcHRfdmFsdWVzKSB7XHJcbiAgdmFyIHZhbHVlcyA9IG9wdF92YWx1ZXMgfHwge307XHJcbiAgZm9yICh2YXIga2V5IGluIHZhbHVlcykge1xyXG4gICAgdmFyIHZhbHVlID0gKCcnICsgdmFsdWVzW2tleV0pLnJlcGxhY2UoL1xcJC9nLCAnJCQkJCcpO1xyXG4gICAgc3RyID0gc3RyLnJlcGxhY2UobmV3IFJlZ0V4cCgnXFxcXHtcXFxcJCcgKyBrZXkgKyAnXFxcXH0nLCAnZ2knKSwgdmFsdWUpO1xyXG4gIH1cclxuICByZXR1cm4gc3RyO1xyXG59O1xyXG5cclxuXHJcbi8qKlxyXG4gKiBFeHBvc2VzIGFuIHVub2JmdXNjYXRlZCBnbG9iYWwgbmFtZXNwYWNlIHBhdGggZm9yIHRoZSBnaXZlbiBvYmplY3QuXHJcbiAqIE5vdGUgdGhhdCBmaWVsZHMgb2YgdGhlIGV4cG9ydGVkIG9iamVjdCAqd2lsbCogYmUgb2JmdXNjYXRlZCxcclxuICogdW5sZXNzIHRoZXkgYXJlIGV4cG9ydGVkIGluIHR1cm4gdmlhIHRoaXMgZnVuY3Rpb24gb3JcclxuICogZ29vZy5leHBvcnRQcm9wZXJ0eVxyXG4gKlxyXG4gKiA8cD5BbHNvIGhhbmR5IGZvciBtYWtpbmcgcHVibGljIGl0ZW1zIHRoYXQgYXJlIGRlZmluZWQgaW4gYW5vbnltb3VzXHJcbiAqIGNsb3N1cmVzLlxyXG4gKlxyXG4gKiBleC4gZ29vZy5leHBvcnRTeW1ib2woJ3B1YmxpYy5wYXRoLkZvbycsIEZvbyk7XHJcbiAqXHJcbiAqIGV4LiBnb29nLmV4cG9ydFN5bWJvbCgncHVibGljLnBhdGguRm9vLnN0YXRpY0Z1bmN0aW9uJyxcclxuICogICAgICAgICAgICAgICAgICAgICAgIEZvby5zdGF0aWNGdW5jdGlvbik7XHJcbiAqICAgICBwdWJsaWMucGF0aC5Gb28uc3RhdGljRnVuY3Rpb24oKTtcclxuICpcclxuICogZXguIGdvb2cuZXhwb3J0U3ltYm9sKCdwdWJsaWMucGF0aC5Gb28ucHJvdG90eXBlLm15TWV0aG9kJyxcclxuICogICAgICAgICAgICAgICAgICAgICAgIEZvby5wcm90b3R5cGUubXlNZXRob2QpO1xyXG4gKiAgICAgbmV3IHB1YmxpYy5wYXRoLkZvbygpLm15TWV0aG9kKCk7XHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBwdWJsaWNQYXRoIFVub2JmdXNjYXRlZCBuYW1lIHRvIGV4cG9ydC5cclxuICogQHBhcmFtIHsqfSBvYmplY3QgT2JqZWN0IHRoZSBuYW1lIHNob3VsZCBwb2ludCB0by5cclxuICogQHBhcmFtIHtPYmplY3Q9fSBvcHRfb2JqZWN0VG9FeHBvcnRUbyBUaGUgb2JqZWN0IHRvIGFkZCB0aGUgcGF0aCB0bzsgZGVmYXVsdFxyXG4gKiAgICAgaXMgfGdvb2cuZ2xvYmFsfC5cclxuICovXHJcbmdvb2cuZXhwb3J0U3ltYm9sID0gZnVuY3Rpb24ocHVibGljUGF0aCwgb2JqZWN0LCBvcHRfb2JqZWN0VG9FeHBvcnRUbykge1xyXG4gIGdvb2cuZXhwb3J0UGF0aF8ocHVibGljUGF0aCwgb2JqZWN0LCBvcHRfb2JqZWN0VG9FeHBvcnRUbyk7XHJcbn07XHJcblxyXG5cclxuLyoqXHJcbiAqIEV4cG9ydHMgYSBwcm9wZXJ0eSB1bm9iZnVzY2F0ZWQgaW50byB0aGUgb2JqZWN0J3MgbmFtZXNwYWNlLlxyXG4gKiBleC4gZ29vZy5leHBvcnRQcm9wZXJ0eShGb28sICdzdGF0aWNGdW5jdGlvbicsIEZvby5zdGF0aWNGdW5jdGlvbik7XHJcbiAqIGV4LiBnb29nLmV4cG9ydFByb3BlcnR5KEZvby5wcm90b3R5cGUsICdteU1ldGhvZCcsIEZvby5wcm90b3R5cGUubXlNZXRob2QpO1xyXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB3aG9zZSBzdGF0aWMgcHJvcGVydHkgaXMgYmVpbmcgZXhwb3J0ZWQuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBwdWJsaWNOYW1lIFVub2JmdXNjYXRlZCBuYW1lIHRvIGV4cG9ydC5cclxuICogQHBhcmFtIHsqfSBzeW1ib2wgT2JqZWN0IHRoZSBuYW1lIHNob3VsZCBwb2ludCB0by5cclxuICovXHJcbmdvb2cuZXhwb3J0UHJvcGVydHkgPSBmdW5jdGlvbihvYmplY3QsIHB1YmxpY05hbWUsIHN5bWJvbCkge1xyXG4gIG9iamVjdFtwdWJsaWNOYW1lXSA9IHN5bWJvbDtcclxufTtcclxuXHJcblxyXG4vKipcclxuICogSW5oZXJpdCB0aGUgcHJvdG90eXBlIG1ldGhvZHMgZnJvbSBvbmUgY29uc3RydWN0b3IgaW50byBhbm90aGVyLlxyXG4gKlxyXG4gKiBVc2FnZTpcclxuICogPHByZT5cclxuICogZnVuY3Rpb24gUGFyZW50Q2xhc3MoYSwgYikgeyB9XHJcbiAqIFBhcmVudENsYXNzLnByb3RvdHlwZS5mb28gPSBmdW5jdGlvbihhKSB7IH1cclxuICpcclxuICogZnVuY3Rpb24gQ2hpbGRDbGFzcyhhLCBiLCBjKSB7XHJcbiAqICAgZ29vZy5iYXNlKHRoaXMsIGEsIGIpO1xyXG4gKiB9XHJcbiAqIGdvb2cuaW5oZXJpdHMoQ2hpbGRDbGFzcywgUGFyZW50Q2xhc3MpO1xyXG4gKlxyXG4gKiB2YXIgY2hpbGQgPSBuZXcgQ2hpbGRDbGFzcygnYScsICdiJywgJ3NlZScpO1xyXG4gKiBjaGlsZC5mb28oKTsgLy8gd29ya3NcclxuICogPC9wcmU+XHJcbiAqXHJcbiAqIEluIGFkZGl0aW9uLCBhIHN1cGVyY2xhc3MnIGltcGxlbWVudGF0aW9uIG9mIGEgbWV0aG9kIGNhbiBiZSBpbnZva2VkXHJcbiAqIGFzIGZvbGxvd3M6XHJcbiAqXHJcbiAqIDxwcmU+XHJcbiAqIENoaWxkQ2xhc3MucHJvdG90eXBlLmZvbyA9IGZ1bmN0aW9uKGEpIHtcclxuICogICBDaGlsZENsYXNzLnN1cGVyQ2xhc3NfLmZvby5jYWxsKHRoaXMsIGEpO1xyXG4gKiAgIC8vIG90aGVyIGNvZGVcclxuICogfTtcclxuICogPC9wcmU+XHJcbiAqXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNoaWxkQ3RvciBDaGlsZCBjbGFzcy5cclxuICogQHBhcmFtIHtGdW5jdGlvbn0gcGFyZW50Q3RvciBQYXJlbnQgY2xhc3MuXHJcbiAqL1xyXG5nb29nLmluaGVyaXRzID0gZnVuY3Rpb24oY2hpbGRDdG9yLCBwYXJlbnRDdG9yKSB7XHJcbiAgLyoqIEBjb25zdHJ1Y3RvciAqL1xyXG4gIGZ1bmN0aW9uIHRlbXBDdG9yKCkge307XHJcbiAgdGVtcEN0b3IucHJvdG90eXBlID0gcGFyZW50Q3Rvci5wcm90b3R5cGU7XHJcbiAgY2hpbGRDdG9yLnN1cGVyQ2xhc3NfID0gcGFyZW50Q3Rvci5wcm90b3R5cGU7XHJcbiAgY2hpbGRDdG9yLnByb3RvdHlwZSA9IG5ldyB0ZW1wQ3RvcigpO1xyXG4gIGNoaWxkQ3Rvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBjaGlsZEN0b3I7XHJcbn07XHJcblxyXG5cclxuLyoqXHJcbiAqIENhbGwgdXAgdG8gdGhlIHN1cGVyY2xhc3MuXHJcbiAqXHJcbiAqIElmIHRoaXMgaXMgY2FsbGVkIGZyb20gYSBjb25zdHJ1Y3RvciwgdGhlbiB0aGlzIGNhbGxzIHRoZSBzdXBlcmNsYXNzXHJcbiAqIGNvbnRydWN0b3Igd2l0aCBhcmd1bWVudHMgMS1OLlxyXG4gKlxyXG4gKiBJZiB0aGlzIGlzIGNhbGxlZCBmcm9tIGEgcHJvdG90eXBlIG1ldGhvZCwgdGhlbiB5b3UgbXVzdCBwYXNzXHJcbiAqIHRoZSBuYW1lIG9mIHRoZSBtZXRob2QgYXMgdGhlIHNlY29uZCBhcmd1bWVudCB0byB0aGlzIGZ1bmN0aW9uLiBJZlxyXG4gKiB5b3UgZG8gbm90LCB5b3Ugd2lsbCBnZXQgYSBydW50aW1lIGVycm9yLiBUaGlzIGNhbGxzIHRoZSBzdXBlcmNsYXNzJ1xyXG4gKiBtZXRob2Qgd2l0aCBhcmd1bWVudHMgMi1OLlxyXG4gKlxyXG4gKiBUaGlzIGZ1bmN0aW9uIG9ubHkgd29ya3MgaWYgeW91IHVzZSBnb29nLmluaGVyaXRzIHRvIGV4cHJlc3NcclxuICogaW5oZXJpdGFuY2UgcmVsYXRpb25zaGlwcyBiZXR3ZWVuIHlvdXIgY2xhc3Nlcy5cclxuICpcclxuICogVGhpcyBmdW5jdGlvbiBpcyBhIGNvbXBpbGVyIHByaW1pdGl2ZS4gQXQgY29tcGlsZS10aW1lLCB0aGVcclxuICogY29tcGlsZXIgd2lsbCBkbyBtYWNybyBleHBhbnNpb24gdG8gcmVtb3ZlIGEgbG90IG9mXHJcbiAqIHRoZSBleHRyYSBvdmVyaGVhZCB0aGF0IHRoaXMgZnVuY3Rpb24gaW50cm9kdWNlcy4gVGhlIGNvbXBpbGVyXHJcbiAqIHdpbGwgYWxzbyBlbmZvcmNlIGEgbG90IG9mIHRoZSBhc3N1bXB0aW9ucyB0aGF0IHRoaXMgZnVuY3Rpb25cclxuICogbWFrZXMsIGFuZCB0cmVhdCBpdCBhcyBhIGNvbXBpbGVyIGVycm9yIGlmIHlvdSBicmVhayB0aGVtLlxyXG4gKlxyXG4gKiBAcGFyYW0geyFPYmplY3R9IG1lIFNob3VsZCBhbHdheXMgYmUgXCJ0aGlzXCIuXHJcbiAqIEBwYXJhbSB7Kj19IG9wdF9tZXRob2ROYW1lIFRoZSBtZXRob2QgbmFtZSBpZiBjYWxsaW5nIGEgc3VwZXIgbWV0aG9kLlxyXG4gKiBAcGFyYW0gey4uLip9IHZhcl9hcmdzIFRoZSByZXN0IG9mIHRoZSBhcmd1bWVudHMuXHJcbiAqIEByZXR1cm4geyp9IFRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIHN1cGVyY2xhc3MgbWV0aG9kLlxyXG4gKi9cclxuZ29vZy5iYXNlID0gZnVuY3Rpb24obWUsIG9wdF9tZXRob2ROYW1lLCB2YXJfYXJncykge1xyXG4gIHZhciBjYWxsZXIgPSBhcmd1bWVudHMuY2FsbGVlLmNhbGxlcjtcclxuICBpZiAoY2FsbGVyLnN1cGVyQ2xhc3NfKSB7XHJcbiAgICAvLyBUaGlzIGlzIGEgY29uc3RydWN0b3IuIENhbGwgdGhlIHN1cGVyY2xhc3MgY29uc3RydWN0b3IuXHJcbiAgICByZXR1cm4gY2FsbGVyLnN1cGVyQ2xhc3NfLmNvbnN0cnVjdG9yLmFwcGx5KFxyXG4gICAgICAgIG1lLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcclxuICB9XHJcblxyXG4gIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKTtcclxuICB2YXIgZm91bmRDYWxsZXIgPSBmYWxzZTtcclxuICBmb3IgKHZhciBjdG9yID0gbWUuY29uc3RydWN0b3I7XHJcbiAgICAgICBjdG9yOyBjdG9yID0gY3Rvci5zdXBlckNsYXNzXyAmJiBjdG9yLnN1cGVyQ2xhc3NfLmNvbnN0cnVjdG9yKSB7XHJcbiAgICBpZiAoY3Rvci5wcm90b3R5cGVbb3B0X21ldGhvZE5hbWVdID09PSBjYWxsZXIpIHtcclxuICAgICAgZm91bmRDYWxsZXIgPSB0cnVlO1xyXG4gICAgfSBlbHNlIGlmIChmb3VuZENhbGxlcikge1xyXG4gICAgICByZXR1cm4gY3Rvci5wcm90b3R5cGVbb3B0X21ldGhvZE5hbWVdLmFwcGx5KG1lLCBhcmdzKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIElmIHdlIGRpZCBub3QgZmluZCB0aGUgY2FsbGVyIGluIHRoZSBwcm90b3R5cGUgY2hhaW4sXHJcbiAgLy8gdGhlbiBvbmUgb2YgdHdvIHRoaW5ncyBoYXBwZW5lZDpcclxuICAvLyAxKSBUaGUgY2FsbGVyIGlzIGFuIGluc3RhbmNlIG1ldGhvZC5cclxuICAvLyAyKSBUaGlzIG1ldGhvZCB3YXMgbm90IGNhbGxlZCBieSB0aGUgcmlnaHQgY2FsbGVyLlxyXG4gIGlmIChtZVtvcHRfbWV0aG9kTmFtZV0gPT09IGNhbGxlcikge1xyXG4gICAgcmV0dXJuIG1lLmNvbnN0cnVjdG9yLnByb3RvdHlwZVtvcHRfbWV0aG9kTmFtZV0uYXBwbHkobWUsIGFyZ3MpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICB0aHJvdyBFcnJvcihcclxuICAgICAgICAnZ29vZy5iYXNlIGNhbGxlZCBmcm9tIGEgbWV0aG9kIG9mIG9uZSBuYW1lICcgK1xyXG4gICAgICAgICd0byBhIG1ldGhvZCBvZiBhIGRpZmZlcmVudCBuYW1lJyk7XHJcbiAgfVxyXG59O1xyXG5cclxuXHJcbi8qKlxyXG4gKiBBbGxvdyBmb3IgYWxpYXNpbmcgd2l0aGluIHNjb3BlIGZ1bmN0aW9ucy4gIFRoaXMgZnVuY3Rpb24gZXhpc3RzIGZvclxyXG4gKiB1bmNvbXBpbGVkIGNvZGUgLSBpbiBjb21waWxlZCBjb2RlIHRoZSBjYWxscyB3aWxsIGJlIGlubGluZWQgYW5kIHRoZVxyXG4gKiBhbGlhc2VzIGFwcGxpZWQuICBJbiB1bmNvbXBpbGVkIGNvZGUgdGhlIGZ1bmN0aW9uIGlzIHNpbXBseSBydW4gc2luY2UgdGhlXHJcbiAqIGFsaWFzZXMgYXMgd3JpdHRlbiBhcmUgdmFsaWQgSmF2YVNjcmlwdC5cclxuICogQHBhcmFtIHtmdW5jdGlvbigpfSBmbiBGdW5jdGlvbiB0byBjYWxsLiAgVGhpcyBmdW5jdGlvbiBjYW4gY29udGFpbiBhbGlhc2VzXHJcbiAqICAgICB0byBuYW1lc3BhY2VzIChlLmcuIFwidmFyIGRvbSA9IGdvb2cuZG9tXCIpIG9yIGNsYXNzZXNcclxuICogICAgKGUuZy4gXCJ2YXIgVGltZXIgPSBnb29nLlRpbWVyXCIpLlxyXG4gKi9cclxuZ29vZy5zY29wZSA9IGZ1bmN0aW9uKGZuKSB7XHJcbiAgZm4uY2FsbChnb29nLmdsb2JhbCk7XHJcbn07XHJcblxyXG5cclxuIiwiLyoqXHJcbiAqIGRlZmluZXNcclxuICovXHJcblxyXG5nb29nLnByb3ZpZGUoJ1VTRV9UWVBFREFSUkFZJyk7XHJcblxyXG4vLyBTYWZhcmkg44GMIHR5cGVvZiBVaW50OEFycmF5ID09PSAnb2JqZWN0JyDjgavjgarjgovjgZ/jgoHjgIFcclxuLy8g5pyq5a6a576p44GL5ZCm44GL44GnIFR5cGVkIEFycmF5IOOBruS9v+eUqOOCkuaxuuWumuOBmeOCi1xyXG5cclxuLyoqIEBjb25zdCB7Ym9vbGVhbn0gdXNlIHR5cGVkIGFycmF5IGZsYWcuICovXHJcbnZhciBVU0VfVFlQRURBUlJBWSA9XHJcbiAgKHR5cGVvZiBVaW50OEFycmF5ICE9PSAndW5kZWZpbmVkJykgJiZcclxuICAodHlwZW9mIFVpbnQxNkFycmF5ICE9PSAndW5kZWZpbmVkJykgJiZcclxuICAodHlwZW9mIFVpbnQzMkFycmF5ICE9PSAndW5kZWZpbmVkJykgJiZcclxuICAodHlwZW9mIERhdGFWaWV3ICE9PSAndW5kZWZpbmVkJyk7XHJcbiIsImdvb2cucHJvdmlkZSgnWmxpYi5IdWZmbWFuJyk7XHJcblxyXG5nb29nLnJlcXVpcmUoJ1VTRV9UWVBFREFSUkFZJyk7XHJcblxyXG5nb29nLnNjb3BlKGZ1bmN0aW9uKCkge1xyXG5cclxuLyoqXHJcbiAqIGJ1aWxkIGh1ZmZtYW4gdGFibGUgZnJvbSBsZW5ndGggbGlzdC5cclxuICogQHBhcmFtIHshKEFycmF5LjxudW1iZXI+fFVpbnQ4QXJyYXkpfSBsZW5ndGhzIGxlbmd0aCBsaXN0LlxyXG4gKiBAcmV0dXJuIHshQXJyYXl9IGh1ZmZtYW4gdGFibGUuXHJcbiAqL1xyXG5abGliLkh1ZmZtYW4uYnVpbGRIdWZmbWFuVGFibGUgPSBmdW5jdGlvbihsZW5ndGhzKSB7XHJcbiAgLyoqIEB0eXBlIHtudW1iZXJ9IGxlbmd0aCBsaXN0IHNpemUuICovXHJcbiAgdmFyIGxpc3RTaXplID0gbGVuZ3Rocy5sZW5ndGg7XHJcbiAgLyoqIEB0eXBlIHtudW1iZXJ9IG1heCBjb2RlIGxlbmd0aCBmb3IgdGFibGUgc2l6ZS4gKi9cclxuICB2YXIgbWF4Q29kZUxlbmd0aCA9IDA7XHJcbiAgLyoqIEB0eXBlIHtudW1iZXJ9IG1pbiBjb2RlIGxlbmd0aCBmb3IgdGFibGUgc2l6ZS4gKi9cclxuICB2YXIgbWluQ29kZUxlbmd0aCA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcclxuICAvKiogQHR5cGUge251bWJlcn0gdGFibGUgc2l6ZS4gKi9cclxuICB2YXIgc2l6ZTtcclxuICAvKiogQHR5cGUgeyEoQXJyYXl8VWludDhBcnJheSl9IGh1ZmZtYW4gY29kZSB0YWJsZS4gKi9cclxuICB2YXIgdGFibGU7XHJcbiAgLyoqIEB0eXBlIHtudW1iZXJ9IGJpdCBsZW5ndGguICovXHJcbiAgdmFyIGJpdExlbmd0aDtcclxuICAvKiogQHR5cGUge251bWJlcn0gaHVmZm1hbiBjb2RlLiAqL1xyXG4gIHZhciBjb2RlO1xyXG4gIC8qKlxyXG4gICAqIOOCteOCpOOCuuOBjCAyXm1heGxlbmd0aCDlgIvjga7jg4bjg7zjg5bjg6vjgpLln4vjgoHjgovjgZ/jgoHjga7jgrnjgq3jg4Pjg5fplbcuXHJcbiAgICogQHR5cGUge251bWJlcn0gc2tpcCBsZW5ndGggZm9yIHRhYmxlIGZpbGxpbmcuXHJcbiAgICovXHJcbiAgdmFyIHNraXA7XHJcbiAgLyoqIEB0eXBlIHtudW1iZXJ9IHJldmVyc2VkIGNvZGUuICovXHJcbiAgdmFyIHJldmVyc2VkO1xyXG4gIC8qKiBAdHlwZSB7bnVtYmVyfSByZXZlcnNlIHRlbXAuICovXHJcbiAgdmFyIHJ0ZW1wO1xyXG4gIC8qKiBAdHlwZSB7bnVtYmVyfSBsb29wIGNvdW50ZXIuICovXHJcbiAgdmFyIGk7XHJcbiAgLyoqIEB0eXBlIHtudW1iZXJ9IGxvb3AgbGltaXQuICovXHJcbiAgdmFyIGlsO1xyXG4gIC8qKiBAdHlwZSB7bnVtYmVyfSBsb29wIGNvdW50ZXIuICovXHJcbiAgdmFyIGo7XHJcbiAgLyoqIEB0eXBlIHtudW1iZXJ9IHRhYmxlIHZhbHVlLiAqL1xyXG4gIHZhciB2YWx1ZTtcclxuXHJcbiAgLy8gTWF0aC5tYXgg44Gv6YGF44GE44Gu44Gn5pyA6ZW344Gu5YCk44GvIGZvci1sb29wIOOBp+WPluW+l+OBmeOCi1xyXG4gIGZvciAoaSA9IDAsIGlsID0gbGlzdFNpemU7IGkgPCBpbDsgKytpKSB7XHJcbiAgICBpZiAobGVuZ3Roc1tpXSA+IG1heENvZGVMZW5ndGgpIHtcclxuICAgICAgbWF4Q29kZUxlbmd0aCA9IGxlbmd0aHNbaV07XHJcbiAgICB9XHJcbiAgICBpZiAobGVuZ3Roc1tpXSA8IG1pbkNvZGVMZW5ndGgpIHtcclxuICAgICAgbWluQ29kZUxlbmd0aCA9IGxlbmd0aHNbaV07XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzaXplID0gMSA8PCBtYXhDb2RlTGVuZ3RoO1xyXG4gIHRhYmxlID0gbmV3IChVU0VfVFlQRURBUlJBWSA/IFVpbnQzMkFycmF5IDogQXJyYXkpKHNpemUpO1xyXG5cclxuICAvLyDjg5Pjg4Pjg4jplbfjga7nn63jgYTpoIbjgYvjgonjg4/jg5Xjg57jg7PnrKblj7fjgpLlibLjgorlvZPjgabjgotcclxuICBmb3IgKGJpdExlbmd0aCA9IDEsIGNvZGUgPSAwLCBza2lwID0gMjsgYml0TGVuZ3RoIDw9IG1heENvZGVMZW5ndGg7KSB7XHJcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGlzdFNpemU7ICsraSkge1xyXG4gICAgICBpZiAobGVuZ3Roc1tpXSA9PT0gYml0TGVuZ3RoKSB7XHJcbiAgICAgICAgLy8g44OT44OD44OI44Kq44O844OA44O844GM6YCG44Gr44Gq44KL44Gf44KB44OT44OD44OI6ZW35YiG5Lim44Gz44KS5Y+N6Lui44GZ44KLXHJcbiAgICAgICAgZm9yIChyZXZlcnNlZCA9IDAsIHJ0ZW1wID0gY29kZSwgaiA9IDA7IGogPCBiaXRMZW5ndGg7ICsraikge1xyXG4gICAgICAgICAgcmV2ZXJzZWQgPSAocmV2ZXJzZWQgPDwgMSkgfCAocnRlbXAgJiAxKTtcclxuICAgICAgICAgIHJ0ZW1wID4+PSAxO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8g5pyA5aSn44OT44OD44OI6ZW344KS44KC44Go44Gr44OG44O844OW44Or44KS5L2c44KL44Gf44KB44CBXHJcbiAgICAgICAgLy8g5pyA5aSn44OT44OD44OI6ZW35Lul5aSW44Gn44GvIDAgLyAxIOOBqeOBoeOCieOBp+OCguiJr+OBhOeuh+aJgOOBjOOBp+OBjeOCi1xyXG4gICAgICAgIC8vIOOBneOBruOBqeOBoeOCieOBp+OCguiJr+OBhOWgtOaJgOOBr+WQjOOBmOWApOOBp+Wfi+OCgeOCi+OBk+OBqOOBp1xyXG4gICAgICAgIC8vIOacrOadpeOBruODk+ODg+ODiOmVt+S7peS4iuOBruODk+ODg+ODiOaVsOWPluW+l+OBl+OBpuOCguWVj+mhjOOBjOi1t+OBk+OCieOBquOBhOOCiOOBhuOBq+OBmeOCi1xyXG4gICAgICAgIHZhbHVlID0gKGJpdExlbmd0aCA8PCAxNikgfCBpO1xyXG4gICAgICAgIGZvciAoaiA9IHJldmVyc2VkOyBqIDwgc2l6ZTsgaiArPSBza2lwKSB7XHJcbiAgICAgICAgICB0YWJsZVtqXSA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgKytjb2RlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8g5qyh44Gu44OT44OD44OI6ZW344G4XHJcbiAgICArK2JpdExlbmd0aDtcclxuICAgIGNvZGUgPDw9IDE7XHJcbiAgICBza2lwIDw8PSAxO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIFt0YWJsZSwgbWF4Q29kZUxlbmd0aCwgbWluQ29kZUxlbmd0aF07XHJcbn07XHJcblxyXG5cclxuLy8gZW5kIG9mIHNjb3BlXHJcbn0pO1xyXG5cclxuLyogdmltOnNldCBleHBhbmR0YWIgdHM9MiBzdz0yIHR3PTgwOiAqL1xyXG4iLCJnb29nLnByb3ZpZGUoJ1psaWIuUmF3SW5mbGF0ZScpO1xyXG5cclxuZ29vZy5yZXF1aXJlKCdVU0VfVFlQRURBUlJBWScpO1xyXG5nb29nLnJlcXVpcmUoJ1psaWIuSHVmZm1hbicpO1xyXG5cclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuLyoqIEBkZWZpbmUge251bWJlcn0gYnVmZmVyIGJsb2NrIHNpemUuICovXHJcbnZhciBaTElCX1JBV19JTkZMQVRFX0JVRkZFUl9TSVpFID0gMHg4MDAwOyAvLyBbIDB4ODAwMCA+PSBaTElCX0JVRkZFUl9CTE9DS19TSVpFIF1cclxuXHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbmdvb2cuc2NvcGUoZnVuY3Rpb24oKSB7XHJcblxyXG52YXIgYnVpbGRIdWZmbWFuVGFibGUgPSBabGliLkh1ZmZtYW4uYnVpbGRIdWZmbWFuVGFibGU7XHJcblxyXG4vKipcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBwYXJhbSB7IShVaW50OEFycmF5fEFycmF5LjxudW1iZXI+KX0gaW5wdXQgaW5wdXQgYnVmZmVyLlxyXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0X3BhcmFtcyBvcHRpb24gcGFyYW1ldGVyLlxyXG4gKlxyXG4gKiBvcHRfcGFyYW1zIOOBr+S7peS4i+OBruODl+ODreODkeODhuOCo+OCkuaMh+WumuOBmeOCi+S6i+OBjOOBp+OBjeOBvuOBmeOAglxyXG4gKiAgIC0gaW5kZXg6IGlucHV0IGJ1ZmZlciDjga4gZGVmbGF0ZSDjgrPjg7Pjg4bjg4rjga7plovlp4vkvY3nva4uXHJcbiAqICAgLSBibG9ja1NpemU6IOODkOODg+ODleOCoeOBruODluODreODg+OCr+OCteOCpOOCui5cclxuICogICAtIGJ1ZmZlclR5cGU6IFpsaWIuUmF3SW5mbGF0ZS5CdWZmZXJUeXBlIOOBruWApOOBq+OCiOOBo+OBpuODkOODg+ODleOCoeOBrueuoeeQhuaWueazleOCkuaMh+WumuOBmeOCiy5cclxuICogICAtIHJlc2l6ZTog56K65L+d44GX44Gf44OQ44OD44OV44Kh44GM5a6f6Zqb44Gu5aSn44GN44GV44KI44KK5aSn44GN44GL44Gj44Gf5aC05ZCI44Gr5YiH44KK6Kmw44KB44KLLlxyXG4gKi9cclxuWmxpYi5SYXdJbmZsYXRlID0gZnVuY3Rpb24oaW5wdXQsIG9wdF9wYXJhbXMpIHtcclxuICAvKiogQHR5cGUgeyEoQXJyYXkuPG51bWJlcj58VWludDhBcnJheSl9IGluZmxhdGVkIGJ1ZmZlciAqL1xyXG4gIHRoaXMuYnVmZmVyO1xyXG4gIC8qKiBAdHlwZSB7IUFycmF5LjwoQXJyYXkuPG51bWJlcj58VWludDhBcnJheSk+fSAqL1xyXG4gIHRoaXMuYmxvY2tzID0gW107XHJcbiAgLyoqIEB0eXBlIHtudW1iZXJ9IGJsb2NrIHNpemUuICovXHJcbiAgdGhpcy5idWZmZXJTaXplID0gWkxJQl9SQVdfSU5GTEFURV9CVUZGRVJfU0laRTtcclxuICAvKiogQHR5cGUgeyFudW1iZXJ9IHRvdGFsIG91dHB1dCBidWZmZXIgcG9pbnRlci4gKi9cclxuICB0aGlzLnRvdGFscG9zID0gMDtcclxuICAvKiogQHR5cGUgeyFudW1iZXJ9IGlucHV0IGJ1ZmZlciBwb2ludGVyLiAqL1xyXG4gIHRoaXMuaXAgPSAwO1xyXG4gIC8qKiBAdHlwZSB7IW51bWJlcn0gYml0IHN0cmVhbSByZWFkZXIgYnVmZmVyLiAqL1xyXG4gIHRoaXMuYml0c2J1ZiA9IDA7XHJcbiAgLyoqIEB0eXBlIHshbnVtYmVyfSBiaXQgc3RyZWFtIHJlYWRlciBidWZmZXIgc2l6ZS4gKi9cclxuICB0aGlzLmJpdHNidWZsZW4gPSAwO1xyXG4gIC8qKiBAdHlwZSB7IShBcnJheS48bnVtYmVyPnxVaW50OEFycmF5KX0gaW5wdXQgYnVmZmVyLiAqL1xyXG4gIHRoaXMuaW5wdXQgPSBVU0VfVFlQRURBUlJBWSA/IG5ldyBVaW50OEFycmF5KGlucHV0KSA6IGlucHV0O1xyXG4gIC8qKiBAdHlwZSB7IShVaW50OEFycmF5fEFycmF5LjxudW1iZXI+KX0gb3V0cHV0IGJ1ZmZlci4gKi9cclxuICB0aGlzLm91dHB1dDtcclxuICAvKiogQHR5cGUgeyFudW1iZXJ9IG91dHB1dCBidWZmZXIgcG9pbnRlci4gKi9cclxuICB0aGlzLm9wO1xyXG4gIC8qKiBAdHlwZSB7Ym9vbGVhbn0gaXMgZmluYWwgYmxvY2sgZmxhZy4gKi9cclxuICB0aGlzLmJmaW5hbCA9IGZhbHNlO1xyXG4gIC8qKiBAdHlwZSB7WmxpYi5SYXdJbmZsYXRlLkJ1ZmZlclR5cGV9IGJ1ZmZlciBtYW5hZ2VtZW50LiAqL1xyXG4gIHRoaXMuYnVmZmVyVHlwZSA9IFpsaWIuUmF3SW5mbGF0ZS5CdWZmZXJUeXBlLkFEQVBUSVZFO1xyXG4gIC8qKiBAdHlwZSB7Ym9vbGVhbn0gcmVzaXplIGZsYWcgZm9yIG1lbW9yeSBzaXplIG9wdGltaXphdGlvbi4gKi9cclxuICB0aGlzLnJlc2l6ZSA9IGZhbHNlO1xyXG5cclxuICAvLyBvcHRpb24gcGFyYW1ldGVyc1xyXG4gIGlmIChvcHRfcGFyYW1zIHx8ICEob3B0X3BhcmFtcyA9IHt9KSkge1xyXG4gICAgaWYgKG9wdF9wYXJhbXNbJ2luZGV4J10pIHtcclxuICAgICAgdGhpcy5pcCA9IG9wdF9wYXJhbXNbJ2luZGV4J107XHJcbiAgICB9XHJcbiAgICBpZiAob3B0X3BhcmFtc1snYnVmZmVyU2l6ZSddKSB7XHJcbiAgICAgIHRoaXMuYnVmZmVyU2l6ZSA9IG9wdF9wYXJhbXNbJ2J1ZmZlclNpemUnXTtcclxuICAgIH1cclxuICAgIGlmIChvcHRfcGFyYW1zWydidWZmZXJUeXBlJ10pIHtcclxuICAgICAgdGhpcy5idWZmZXJUeXBlID0gb3B0X3BhcmFtc1snYnVmZmVyVHlwZSddO1xyXG4gICAgfVxyXG4gICAgaWYgKG9wdF9wYXJhbXNbJ3Jlc2l6ZSddKSB7XHJcbiAgICAgIHRoaXMucmVzaXplID0gb3B0X3BhcmFtc1sncmVzaXplJ107XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBpbml0aWFsaXplXHJcbiAgc3dpdGNoICh0aGlzLmJ1ZmZlclR5cGUpIHtcclxuICAgIGNhc2UgWmxpYi5SYXdJbmZsYXRlLkJ1ZmZlclR5cGUuQkxPQ0s6XHJcbiAgICAgIHRoaXMub3AgPSBabGliLlJhd0luZmxhdGUuTWF4QmFja3dhcmRMZW5ndGg7XHJcbiAgICAgIHRoaXMub3V0cHV0ID1cclxuICAgICAgICBuZXcgKFVTRV9UWVBFREFSUkFZID8gVWludDhBcnJheSA6IEFycmF5KShcclxuICAgICAgICAgIFpsaWIuUmF3SW5mbGF0ZS5NYXhCYWNrd2FyZExlbmd0aCArXHJcbiAgICAgICAgICB0aGlzLmJ1ZmZlclNpemUgK1xyXG4gICAgICAgICAgWmxpYi5SYXdJbmZsYXRlLk1heENvcHlMZW5ndGhcclxuICAgICAgICApO1xyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgWmxpYi5SYXdJbmZsYXRlLkJ1ZmZlclR5cGUuQURBUFRJVkU6XHJcbiAgICAgIHRoaXMub3AgPSAwO1xyXG4gICAgICB0aGlzLm91dHB1dCA9IG5ldyAoVVNFX1RZUEVEQVJSQVkgPyBVaW50OEFycmF5IDogQXJyYXkpKHRoaXMuYnVmZmVyU2l6ZSk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGluZmxhdGUgbW9kZScpO1xyXG4gIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiBAZW51bSB7bnVtYmVyfVxyXG4gKi9cclxuWmxpYi5SYXdJbmZsYXRlLkJ1ZmZlclR5cGUgPSB7XHJcbiAgQkxPQ0s6IDAsXHJcbiAgQURBUFRJVkU6IDFcclxufTtcclxuXHJcbi8qKlxyXG4gKiBkZWNvbXByZXNzLlxyXG4gKiBAcmV0dXJuIHshKFVpbnQ4QXJyYXl8QXJyYXkuPG51bWJlcj4pfSBpbmZsYXRlZCBidWZmZXIuXHJcbiAqL1xyXG5abGliLlJhd0luZmxhdGUucHJvdG90eXBlLmRlY29tcHJlc3MgPSBmdW5jdGlvbigpIHtcclxuICB3aGlsZSAoIXRoaXMuYmZpbmFsKSB7XHJcbiAgICB0aGlzLnBhcnNlQmxvY2soKTtcclxuICB9XHJcblxyXG4gIHN3aXRjaCAodGhpcy5idWZmZXJUeXBlKSB7XHJcbiAgICBjYXNlIFpsaWIuUmF3SW5mbGF0ZS5CdWZmZXJUeXBlLkJMT0NLOlxyXG4gICAgICByZXR1cm4gdGhpcy5jb25jYXRCdWZmZXJCbG9jaygpO1xyXG4gICAgY2FzZSBabGliLlJhd0luZmxhdGUuQnVmZmVyVHlwZS5BREFQVElWRTpcclxuICAgICAgcmV0dXJuIHRoaXMuY29uY2F0QnVmZmVyRHluYW1pYygpO1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGluZmxhdGUgbW9kZScpO1xyXG4gIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiBAY29uc3RcclxuICogQHR5cGUge251bWJlcn0gbWF4IGJhY2t3YXJkIGxlbmd0aCBmb3IgTFo3Ny5cclxuICovXHJcblpsaWIuUmF3SW5mbGF0ZS5NYXhCYWNrd2FyZExlbmd0aCA9IDMyNzY4O1xyXG5cclxuLyoqXHJcbiAqIEBjb25zdFxyXG4gKiBAdHlwZSB7bnVtYmVyfSBtYXggY29weSBsZW5ndGggZm9yIExaNzcuXHJcbiAqL1xyXG5abGliLlJhd0luZmxhdGUuTWF4Q29weUxlbmd0aCA9IDI1ODtcclxuXHJcbi8qKlxyXG4gKiBodWZmbWFuIG9yZGVyXHJcbiAqIEBjb25zdFxyXG4gKiBAdHlwZSB7IShBcnJheS48bnVtYmVyPnxVaW50OEFycmF5KX1cclxuICovXHJcblpsaWIuUmF3SW5mbGF0ZS5PcmRlciA9IChmdW5jdGlvbih0YWJsZSkge1xyXG4gIHJldHVybiBVU0VfVFlQRURBUlJBWSA/IG5ldyBVaW50MTZBcnJheSh0YWJsZSkgOiB0YWJsZTtcclxufSkoWzE2LCAxNywgMTgsIDAsIDgsIDcsIDksIDYsIDEwLCA1LCAxMSwgNCwgMTIsIDMsIDEzLCAyLCAxNCwgMSwgMTVdKTtcclxuXHJcbi8qKlxyXG4gKiBodWZmbWFuIGxlbmd0aCBjb2RlIHRhYmxlLlxyXG4gKiBAY29uc3RcclxuICogQHR5cGUgeyEoQXJyYXkuPG51bWJlcj58VWludDE2QXJyYXkpfVxyXG4gKi9cclxuWmxpYi5SYXdJbmZsYXRlLkxlbmd0aENvZGVUYWJsZSA9IChmdW5jdGlvbih0YWJsZSkge1xyXG4gIHJldHVybiBVU0VfVFlQRURBUlJBWSA/IG5ldyBVaW50MTZBcnJheSh0YWJsZSkgOiB0YWJsZTtcclxufSkoW1xyXG4gIDB4MDAwMywgMHgwMDA0LCAweDAwMDUsIDB4MDAwNiwgMHgwMDA3LCAweDAwMDgsIDB4MDAwOSwgMHgwMDBhLCAweDAwMGIsXHJcbiAgMHgwMDBkLCAweDAwMGYsIDB4MDAxMSwgMHgwMDEzLCAweDAwMTcsIDB4MDAxYiwgMHgwMDFmLCAweDAwMjMsIDB4MDAyYixcclxuICAweDAwMzMsIDB4MDAzYiwgMHgwMDQzLCAweDAwNTMsIDB4MDA2MywgMHgwMDczLCAweDAwODMsIDB4MDBhMywgMHgwMGMzLFxyXG4gIDB4MDBlMywgMHgwMTAyLCAweDAxMDIsIDB4MDEwMlxyXG5dKTtcclxuXHJcbi8qKlxyXG4gKiBodWZmbWFuIGxlbmd0aCBleHRyYS1iaXRzIHRhYmxlLlxyXG4gKiBAY29uc3RcclxuICogQHR5cGUgeyEoQXJyYXkuPG51bWJlcj58VWludDhBcnJheSl9XHJcbiAqL1xyXG5abGliLlJhd0luZmxhdGUuTGVuZ3RoRXh0cmFUYWJsZSA9IChmdW5jdGlvbih0YWJsZSkge1xyXG4gIHJldHVybiBVU0VfVFlQRURBUlJBWSA/IG5ldyBVaW50OEFycmF5KHRhYmxlKSA6IHRhYmxlO1xyXG59KShbXHJcbiAgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMSwgMSwgMSwgMSwgMiwgMiwgMiwgMiwgMywgMywgMywgMywgNCwgNCwgNCwgNCwgNSwgNSxcclxuICA1LCA1LCAwLCAwLCAwXHJcbl0pO1xyXG5cclxuLyoqXHJcbiAqIGh1ZmZtYW4gZGlzdCBjb2RlIHRhYmxlLlxyXG4gKiBAY29uc3RcclxuICogQHR5cGUgeyEoQXJyYXkuPG51bWJlcj58VWludDE2QXJyYXkpfVxyXG4gKi9cclxuWmxpYi5SYXdJbmZsYXRlLkRpc3RDb2RlVGFibGUgPSAoZnVuY3Rpb24odGFibGUpIHtcclxuICByZXR1cm4gVVNFX1RZUEVEQVJSQVkgPyBuZXcgVWludDE2QXJyYXkodGFibGUpIDogdGFibGU7XHJcbn0pKFtcclxuICAweDAwMDEsIDB4MDAwMiwgMHgwMDAzLCAweDAwMDQsIDB4MDAwNSwgMHgwMDA3LCAweDAwMDksIDB4MDAwZCwgMHgwMDExLFxyXG4gIDB4MDAxOSwgMHgwMDIxLCAweDAwMzEsIDB4MDA0MSwgMHgwMDYxLCAweDAwODEsIDB4MDBjMSwgMHgwMTAxLCAweDAxODEsXHJcbiAgMHgwMjAxLCAweDAzMDEsIDB4MDQwMSwgMHgwNjAxLCAweDA4MDEsIDB4MGMwMSwgMHgxMDAxLCAweDE4MDEsIDB4MjAwMSxcclxuICAweDMwMDEsIDB4NDAwMSwgMHg2MDAxXHJcbl0pO1xyXG5cclxuLyoqXHJcbiAqIGh1ZmZtYW4gZGlzdCBleHRyYS1iaXRzIHRhYmxlLlxyXG4gKiBAY29uc3RcclxuICogQHR5cGUgeyEoQXJyYXkuPG51bWJlcj58VWludDhBcnJheSl9XHJcbiAqL1xyXG5abGliLlJhd0luZmxhdGUuRGlzdEV4dHJhVGFibGUgPSAoZnVuY3Rpb24odGFibGUpIHtcclxuICByZXR1cm4gVVNFX1RZUEVEQVJSQVkgPyBuZXcgVWludDhBcnJheSh0YWJsZSkgOiB0YWJsZTtcclxufSkoW1xyXG4gIDAsIDAsIDAsIDAsIDEsIDEsIDIsIDIsIDMsIDMsIDQsIDQsIDUsIDUsIDYsIDYsIDcsIDcsIDgsIDgsIDksIDksIDEwLCAxMCwgMTEsXHJcbiAgMTEsIDEyLCAxMiwgMTMsIDEzXHJcbl0pO1xyXG5cclxuLyoqXHJcbiAqIGZpeGVkIGh1ZmZtYW4gbGVuZ3RoIGNvZGUgdGFibGVcclxuICogQGNvbnN0XHJcbiAqIEB0eXBlIHshQXJyYXl9XHJcbiAqL1xyXG5abGliLlJhd0luZmxhdGUuRml4ZWRMaXRlcmFsTGVuZ3RoVGFibGUgPSAoZnVuY3Rpb24odGFibGUpIHtcclxuICByZXR1cm4gdGFibGU7XHJcbn0pKChmdW5jdGlvbigpIHtcclxuICB2YXIgbGVuZ3RocyA9IG5ldyAoVVNFX1RZUEVEQVJSQVkgPyBVaW50OEFycmF5IDogQXJyYXkpKDI4OCk7XHJcbiAgdmFyIGksIGlsO1xyXG5cclxuICBmb3IgKGkgPSAwLCBpbCA9IGxlbmd0aHMubGVuZ3RoOyBpIDwgaWw7ICsraSkge1xyXG4gICAgbGVuZ3Roc1tpXSA9XHJcbiAgICAgIChpIDw9IDE0MykgPyA4IDpcclxuICAgICAgKGkgPD0gMjU1KSA/IDkgOlxyXG4gICAgICAoaSA8PSAyNzkpID8gNyA6XHJcbiAgICAgIDg7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gYnVpbGRIdWZmbWFuVGFibGUobGVuZ3Rocyk7XHJcbn0pKCkpO1xyXG5cclxuLyoqXHJcbiAqIGZpeGVkIGh1ZmZtYW4gZGlzdGFuY2UgY29kZSB0YWJsZVxyXG4gKiBAY29uc3RcclxuICogQHR5cGUgeyFBcnJheX1cclxuICovXHJcblpsaWIuUmF3SW5mbGF0ZS5GaXhlZERpc3RhbmNlVGFibGUgPSAoZnVuY3Rpb24odGFibGUpIHtcclxuICByZXR1cm4gdGFibGU7XHJcbn0pKChmdW5jdGlvbigpIHtcclxuICB2YXIgbGVuZ3RocyA9IG5ldyAoVVNFX1RZUEVEQVJSQVkgPyBVaW50OEFycmF5IDogQXJyYXkpKDMwKTtcclxuICB2YXIgaSwgaWw7XHJcblxyXG4gIGZvciAoaSA9IDAsIGlsID0gbGVuZ3Rocy5sZW5ndGg7IGkgPCBpbDsgKytpKSB7XHJcbiAgICBsZW5ndGhzW2ldID0gNTtcclxuICB9XHJcblxyXG4gIHJldHVybiBidWlsZEh1ZmZtYW5UYWJsZShsZW5ndGhzKTtcclxufSkoKSk7XHJcblxyXG4vKipcclxuICogcGFyc2UgZGVmbGF0ZWQgYmxvY2suXHJcbiAqL1xyXG5abGliLlJhd0luZmxhdGUucHJvdG90eXBlLnBhcnNlQmxvY2sgPSBmdW5jdGlvbigpIHtcclxuICAvKiogQHR5cGUge251bWJlcn0gaGVhZGVyICovXHJcbiAgdmFyIGhkciA9IHRoaXMucmVhZEJpdHMoMyk7XHJcblxyXG4gIC8vIEJGSU5BTFxyXG4gIGlmIChoZHIgJiAweDEpIHtcclxuICAgIHRoaXMuYmZpbmFsID0gdHJ1ZTtcclxuICB9XHJcblxyXG4gIC8vIEJUWVBFXHJcbiAgaGRyID4+Pj0gMTtcclxuICBzd2l0Y2ggKGhkcikge1xyXG4gICAgLy8gdW5jb21wcmVzc2VkXHJcbiAgICBjYXNlIDA6XHJcbiAgICAgIHRoaXMucGFyc2VVbmNvbXByZXNzZWRCbG9jaygpO1xyXG4gICAgICBicmVhaztcclxuICAgIC8vIGZpeGVkIGh1ZmZtYW5cclxuICAgIGNhc2UgMTpcclxuICAgICAgdGhpcy5wYXJzZUZpeGVkSHVmZm1hbkJsb2NrKCk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgLy8gZHluYW1pYyBodWZmbWFuXHJcbiAgICBjYXNlIDI6XHJcbiAgICAgIHRoaXMucGFyc2VEeW5hbWljSHVmZm1hbkJsb2NrKCk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgLy8gcmVzZXJ2ZWQgb3Igb3RoZXJcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcigndW5rbm93biBCVFlQRTogJyArIGhkcik7XHJcbiAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIHJlYWQgaW5mbGF0ZSBiaXRzXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBsZW5ndGggYml0cyBsZW5ndGguXHJcbiAqIEByZXR1cm4ge251bWJlcn0gcmVhZCBiaXRzLlxyXG4gKi9cclxuWmxpYi5SYXdJbmZsYXRlLnByb3RvdHlwZS5yZWFkQml0cyA9IGZ1bmN0aW9uKGxlbmd0aCkge1xyXG4gIHZhciBiaXRzYnVmID0gdGhpcy5iaXRzYnVmO1xyXG4gIHZhciBiaXRzYnVmbGVuID0gdGhpcy5iaXRzYnVmbGVuO1xyXG4gIHZhciBpbnB1dCA9IHRoaXMuaW5wdXQ7XHJcbiAgdmFyIGlwID0gdGhpcy5pcDtcclxuXHJcbiAgLyoqIEB0eXBlIHtudW1iZXJ9ICovXHJcbiAgdmFyIGlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xyXG4gIC8qKiBAdHlwZSB7bnVtYmVyfSBpbnB1dCBhbmQgb3V0cHV0IGJ5dGUuICovXHJcbiAgdmFyIG9jdGV0O1xyXG5cclxuICAvLyBpbnB1dCBieXRlXHJcbiAgaWYgKGlwICsgKChsZW5ndGggLSBiaXRzYnVmbGVuICsgNykgPj4gMykgPj0gaW5wdXRMZW5ndGgpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcignaW5wdXQgYnVmZmVyIGlzIGJyb2tlbicpO1xyXG4gIH1cclxuXHJcbiAgLy8gbm90IGVub3VnaCBidWZmZXJcclxuICB3aGlsZSAoYml0c2J1ZmxlbiA8IGxlbmd0aCkge1xyXG4gICAgYml0c2J1ZiB8PSBpbnB1dFtpcCsrXSA8PCBiaXRzYnVmbGVuO1xyXG4gICAgYml0c2J1ZmxlbiArPSA4O1xyXG4gIH1cclxuXHJcbiAgLy8gb3V0cHV0IGJ5dGVcclxuICBvY3RldCA9IGJpdHNidWYgJiAvKiBNQVNLICovICgoMSA8PCBsZW5ndGgpIC0gMSk7XHJcbiAgYml0c2J1ZiA+Pj49IGxlbmd0aDtcclxuICBiaXRzYnVmbGVuIC09IGxlbmd0aDtcclxuXHJcbiAgdGhpcy5iaXRzYnVmID0gYml0c2J1ZjtcclxuICB0aGlzLmJpdHNidWZsZW4gPSBiaXRzYnVmbGVuO1xyXG4gIHRoaXMuaXAgPSBpcDtcclxuXHJcbiAgcmV0dXJuIG9jdGV0O1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIHJlYWQgaHVmZm1hbiBjb2RlIHVzaW5nIHRhYmxlXHJcbiAqIEBwYXJhbSB7IShBcnJheS48bnVtYmVyPnxVaW50OEFycmF5fFVpbnQxNkFycmF5KX0gdGFibGUgaHVmZm1hbiBjb2RlIHRhYmxlLlxyXG4gKiBAcmV0dXJuIHtudW1iZXJ9IGh1ZmZtYW4gY29kZS5cclxuICovXHJcblpsaWIuUmF3SW5mbGF0ZS5wcm90b3R5cGUucmVhZENvZGVCeVRhYmxlID0gZnVuY3Rpb24odGFibGUpIHtcclxuICB2YXIgYml0c2J1ZiA9IHRoaXMuYml0c2J1ZjtcclxuICB2YXIgYml0c2J1ZmxlbiA9IHRoaXMuYml0c2J1ZmxlbjtcclxuICB2YXIgaW5wdXQgPSB0aGlzLmlucHV0O1xyXG4gIHZhciBpcCA9IHRoaXMuaXA7XHJcblxyXG4gIC8qKiBAdHlwZSB7bnVtYmVyfSAqL1xyXG4gIHZhciBpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aDtcclxuICAvKiogQHR5cGUgeyEoQXJyYXkuPG51bWJlcj58VWludDhBcnJheSl9IGh1ZmZtYW4gY29kZSB0YWJsZSAqL1xyXG4gIHZhciBjb2RlVGFibGUgPSB0YWJsZVswXTtcclxuICAvKiogQHR5cGUge251bWJlcn0gKi9cclxuICB2YXIgbWF4Q29kZUxlbmd0aCA9IHRhYmxlWzFdO1xyXG4gIC8qKiBAdHlwZSB7bnVtYmVyfSBjb2RlIGxlbmd0aCAmIGNvZGUgKDE2Yml0LCAxNmJpdCkgKi9cclxuICB2YXIgY29kZVdpdGhMZW5ndGg7XHJcbiAgLyoqIEB0eXBlIHtudW1iZXJ9IGNvZGUgYml0cyBsZW5ndGggKi9cclxuICB2YXIgY29kZUxlbmd0aDtcclxuXHJcbiAgLy8gbm90IGVub3VnaCBidWZmZXJcclxuICB3aGlsZSAoYml0c2J1ZmxlbiA8IG1heENvZGVMZW5ndGgpIHtcclxuICAgIGlmIChpcCA+PSBpbnB1dExlbmd0aCkge1xyXG4gICAgICBicmVhaztcclxuICAgIH1cclxuICAgIGJpdHNidWYgfD0gaW5wdXRbaXArK10gPDwgYml0c2J1ZmxlbjtcclxuICAgIGJpdHNidWZsZW4gKz0gODtcclxuICB9XHJcblxyXG4gIC8vIHJlYWQgbWF4IGxlbmd0aFxyXG4gIGNvZGVXaXRoTGVuZ3RoID0gY29kZVRhYmxlW2JpdHNidWYgJiAoKDEgPDwgbWF4Q29kZUxlbmd0aCkgLSAxKV07XHJcbiAgY29kZUxlbmd0aCA9IGNvZGVXaXRoTGVuZ3RoID4+PiAxNjtcclxuXHJcbiAgaWYgKGNvZGVMZW5ndGggPiBiaXRzYnVmbGVuKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgY29kZSBsZW5ndGg6ICcgKyBjb2RlTGVuZ3RoKTtcclxuICB9XHJcblxyXG4gIHRoaXMuYml0c2J1ZiA9IGJpdHNidWYgPj4gY29kZUxlbmd0aDtcclxuICB0aGlzLmJpdHNidWZsZW4gPSBiaXRzYnVmbGVuIC0gY29kZUxlbmd0aDtcclxuICB0aGlzLmlwID0gaXA7XHJcblxyXG4gIHJldHVybiBjb2RlV2l0aExlbmd0aCAmIDB4ZmZmZjtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBwYXJzZSB1bmNvbXByZXNzZWQgYmxvY2suXHJcbiAqL1xyXG5abGliLlJhd0luZmxhdGUucHJvdG90eXBlLnBhcnNlVW5jb21wcmVzc2VkQmxvY2sgPSBmdW5jdGlvbigpIHtcclxuICB2YXIgaW5wdXQgPSB0aGlzLmlucHV0O1xyXG4gIHZhciBpcCA9IHRoaXMuaXA7XHJcbiAgdmFyIG91dHB1dCA9IHRoaXMub3V0cHV0O1xyXG4gIHZhciBvcCA9IHRoaXMub3A7XHJcblxyXG4gIC8qKiBAdHlwZSB7bnVtYmVyfSAqL1xyXG4gIHZhciBpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aDtcclxuICAvKiogQHR5cGUge251bWJlcn0gYmxvY2sgbGVuZ3RoICovXHJcbiAgdmFyIGxlbjtcclxuICAvKiogQHR5cGUge251bWJlcn0gbnVtYmVyIGZvciBjaGVjayBibG9jayBsZW5ndGggKi9cclxuICB2YXIgbmxlbjtcclxuICAvKiogQHR5cGUge251bWJlcn0gb3V0cHV0IGJ1ZmZlciBsZW5ndGggKi9cclxuICB2YXIgb2xlbmd0aCA9IG91dHB1dC5sZW5ndGg7XHJcbiAgLyoqIEB0eXBlIHtudW1iZXJ9IGNvcHkgY291bnRlciAqL1xyXG4gIHZhciBwcmVDb3B5O1xyXG5cclxuICAvLyBza2lwIGJ1ZmZlcmVkIGhlYWRlciBiaXRzXHJcbiAgdGhpcy5iaXRzYnVmID0gMDtcclxuICB0aGlzLmJpdHNidWZsZW4gPSAwO1xyXG5cclxuICAvLyBsZW5cclxuICBpZiAoaXAgKyAxID49IGlucHV0TGVuZ3RoKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgdW5jb21wcmVzc2VkIGJsb2NrIGhlYWRlcjogTEVOJyk7XHJcbiAgfVxyXG4gIGxlbiA9IGlucHV0W2lwKytdIHwgKGlucHV0W2lwKytdIDw8IDgpO1xyXG5cclxuICAvLyBubGVuXHJcbiAgaWYgKGlwICsgMSA+PSBpbnB1dExlbmd0aCkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHVuY29tcHJlc3NlZCBibG9jayBoZWFkZXI6IE5MRU4nKTtcclxuICB9XHJcbiAgbmxlbiA9IGlucHV0W2lwKytdIHwgKGlucHV0W2lwKytdIDw8IDgpO1xyXG5cclxuICAvLyBjaGVjayBsZW4gJiBubGVuXHJcbiAgaWYgKGxlbiA9PT0gfm5sZW4pIHtcclxuICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCB1bmNvbXByZXNzZWQgYmxvY2sgaGVhZGVyOiBsZW5ndGggdmVyaWZ5Jyk7XHJcbiAgfVxyXG5cclxuICAvLyBjaGVjayBzaXplXHJcbiAgaWYgKGlwICsgbGVuID4gaW5wdXQubGVuZ3RoKSB7IHRocm93IG5ldyBFcnJvcignaW5wdXQgYnVmZmVyIGlzIGJyb2tlbicpOyB9XHJcblxyXG4gIC8vIGV4cGFuZCBidWZmZXJcclxuICBzd2l0Y2ggKHRoaXMuYnVmZmVyVHlwZSkge1xyXG4gICAgY2FzZSBabGliLlJhd0luZmxhdGUuQnVmZmVyVHlwZS5CTE9DSzpcclxuICAgICAgLy8gcHJlIGNvcHlcclxuICAgICAgd2hpbGUgKG9wICsgbGVuID4gb3V0cHV0Lmxlbmd0aCkge1xyXG4gICAgICAgIHByZUNvcHkgPSBvbGVuZ3RoIC0gb3A7XHJcbiAgICAgICAgbGVuIC09IHByZUNvcHk7XHJcbiAgICAgICAgaWYgKFVTRV9UWVBFREFSUkFZKSB7XHJcbiAgICAgICAgICBvdXRwdXQuc2V0KGlucHV0LnN1YmFycmF5KGlwLCBpcCArIHByZUNvcHkpLCBvcCk7XHJcbiAgICAgICAgICBvcCArPSBwcmVDb3B5O1xyXG4gICAgICAgICAgaXAgKz0gcHJlQ29weTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgd2hpbGUgKHByZUNvcHktLSkge1xyXG4gICAgICAgICAgICBvdXRwdXRbb3ArK10gPSBpbnB1dFtpcCsrXTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5vcCA9IG9wO1xyXG4gICAgICAgIG91dHB1dCA9IHRoaXMuZXhwYW5kQnVmZmVyQmxvY2soKTtcclxuICAgICAgICBvcCA9IHRoaXMub3A7XHJcbiAgICAgIH1cclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlIFpsaWIuUmF3SW5mbGF0ZS5CdWZmZXJUeXBlLkFEQVBUSVZFOlxyXG4gICAgICB3aGlsZSAob3AgKyBsZW4gPiBvdXRwdXQubGVuZ3RoKSB7XHJcbiAgICAgICAgb3V0cHV0ID0gdGhpcy5leHBhbmRCdWZmZXJBZGFwdGl2ZSh7Zml4UmF0aW86IDJ9KTtcclxuICAgICAgfVxyXG4gICAgICBicmVhaztcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBpbmZsYXRlIG1vZGUnKTtcclxuICB9XHJcblxyXG4gIC8vIGNvcHlcclxuICBpZiAoVVNFX1RZUEVEQVJSQVkpIHtcclxuICAgIG91dHB1dC5zZXQoaW5wdXQuc3ViYXJyYXkoaXAsIGlwICsgbGVuKSwgb3ApO1xyXG4gICAgb3AgKz0gbGVuO1xyXG4gICAgaXAgKz0gbGVuO1xyXG4gIH0gZWxzZSB7XHJcbiAgICB3aGlsZSAobGVuLS0pIHtcclxuICAgICAgb3V0cHV0W29wKytdID0gaW5wdXRbaXArK107XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB0aGlzLmlwID0gaXA7XHJcbiAgdGhpcy5vcCA9IG9wO1xyXG4gIHRoaXMub3V0cHV0ID0gb3V0cHV0O1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIHBhcnNlIGZpeGVkIGh1ZmZtYW4gYmxvY2suXHJcbiAqL1xyXG5abGliLlJhd0luZmxhdGUucHJvdG90eXBlLnBhcnNlRml4ZWRIdWZmbWFuQmxvY2sgPSBmdW5jdGlvbigpIHtcclxuICBzd2l0Y2ggKHRoaXMuYnVmZmVyVHlwZSkge1xyXG4gICAgY2FzZSBabGliLlJhd0luZmxhdGUuQnVmZmVyVHlwZS5BREFQVElWRTpcclxuICAgICAgdGhpcy5kZWNvZGVIdWZmbWFuQWRhcHRpdmUoXHJcbiAgICAgICAgWmxpYi5SYXdJbmZsYXRlLkZpeGVkTGl0ZXJhbExlbmd0aFRhYmxlLFxyXG4gICAgICAgIFpsaWIuUmF3SW5mbGF0ZS5GaXhlZERpc3RhbmNlVGFibGVcclxuICAgICAgKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlIFpsaWIuUmF3SW5mbGF0ZS5CdWZmZXJUeXBlLkJMT0NLOlxyXG4gICAgICB0aGlzLmRlY29kZUh1ZmZtYW5CbG9jayhcclxuICAgICAgICBabGliLlJhd0luZmxhdGUuRml4ZWRMaXRlcmFsTGVuZ3RoVGFibGUsXHJcbiAgICAgICAgWmxpYi5SYXdJbmZsYXRlLkZpeGVkRGlzdGFuY2VUYWJsZVxyXG4gICAgICApO1xyXG4gICAgICBicmVhaztcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBpbmZsYXRlIG1vZGUnKTtcclxuICB9XHJcbn07XHJcblxyXG4vKipcclxuICogcGFyc2UgZHluYW1pYyBodWZmbWFuIGJsb2NrLlxyXG4gKi9cclxuWmxpYi5SYXdJbmZsYXRlLnByb3RvdHlwZS5wYXJzZUR5bmFtaWNIdWZmbWFuQmxvY2sgPSBmdW5jdGlvbigpIHtcclxuICAvKiogQHR5cGUge251bWJlcn0gbnVtYmVyIG9mIGxpdGVyYWwgYW5kIGxlbmd0aCBjb2Rlcy4gKi9cclxuICB2YXIgaGxpdCA9IHRoaXMucmVhZEJpdHMoNSkgKyAyNTc7XHJcbiAgLyoqIEB0eXBlIHtudW1iZXJ9IG51bWJlciBvZiBkaXN0YW5jZSBjb2Rlcy4gKi9cclxuICB2YXIgaGRpc3QgPSB0aGlzLnJlYWRCaXRzKDUpICsgMTtcclxuICAvKiogQHR5cGUge251bWJlcn0gbnVtYmVyIG9mIGNvZGUgbGVuZ3Rocy4gKi9cclxuICB2YXIgaGNsZW4gPSB0aGlzLnJlYWRCaXRzKDQpICsgNDtcclxuICAvKiogQHR5cGUgeyEoVWludDhBcnJheXxBcnJheS48bnVtYmVyPil9IGNvZGUgbGVuZ3Rocy4gKi9cclxuICB2YXIgY29kZUxlbmd0aHMgPVxyXG4gICAgbmV3IChVU0VfVFlQRURBUlJBWSA/IFVpbnQ4QXJyYXkgOiBBcnJheSkoWmxpYi5SYXdJbmZsYXRlLk9yZGVyLmxlbmd0aCk7XHJcbiAgLyoqIEB0eXBlIHshQXJyYXl9IGNvZGUgbGVuZ3RocyB0YWJsZS4gKi9cclxuICB2YXIgY29kZUxlbmd0aHNUYWJsZTtcclxuICAvKiogQHR5cGUgeyEoVWludDhBcnJheXxBcnJheS48bnVtYmVyPil9IGxpdGVyYWwgYW5kIGxlbmd0aCBjb2RlIHRhYmxlLiAqL1xyXG4gIHZhciBsaXRsZW5UYWJsZTtcclxuICAvKiogQHR5cGUgeyEoVWludDhBcnJheXxBcnJheS48bnVtYmVyPil9IGRpc3RhbmNlIGNvZGUgdGFibGUuICovXHJcbiAgdmFyIGRpc3RUYWJsZTtcclxuICAvKiogQHR5cGUgeyEoVWludDhBcnJheXxBcnJheS48bnVtYmVyPil9IGNvZGUgbGVuZ3RoIHRhYmxlLiAqL1xyXG4gIHZhciBsZW5ndGhUYWJsZTtcclxuICAvKiogQHR5cGUge251bWJlcn0gKi9cclxuICB2YXIgY29kZTtcclxuICAvKiogQHR5cGUge251bWJlcn0gKi9cclxuICB2YXIgcHJldjtcclxuICAvKiogQHR5cGUge251bWJlcn0gKi9cclxuICB2YXIgcmVwZWF0O1xyXG4gIC8qKiBAdHlwZSB7bnVtYmVyfSBsb29wIGNvdW50ZXIuICovXHJcbiAgdmFyIGk7XHJcbiAgLyoqIEB0eXBlIHtudW1iZXJ9IGxvb3AgbGltaXQuICovXHJcbiAgdmFyIGlsO1xyXG5cclxuICAvLyBkZWNvZGUgY29kZSBsZW5ndGhzXHJcbiAgZm9yIChpID0gMDsgaSA8IGhjbGVuOyArK2kpIHtcclxuICAgIGNvZGVMZW5ndGhzW1psaWIuUmF3SW5mbGF0ZS5PcmRlcltpXV0gPSB0aGlzLnJlYWRCaXRzKDMpO1xyXG4gIH1cclxuICBpZiAoIVVTRV9UWVBFREFSUkFZKSB7XHJcbiAgICBmb3IgKGkgPSBoY2xlbiwgaGNsZW4gPSBjb2RlTGVuZ3Rocy5sZW5ndGg7IGkgPCBoY2xlbjsgKytpKSB7XHJcbiAgICAgIGNvZGVMZW5ndGhzW1psaWIuUmF3SW5mbGF0ZS5PcmRlcltpXV0gPSAwO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gZGVjb2RlIGxlbmd0aCB0YWJsZVxyXG4gIGNvZGVMZW5ndGhzVGFibGUgPSBidWlsZEh1ZmZtYW5UYWJsZShjb2RlTGVuZ3Rocyk7XHJcbiAgbGVuZ3RoVGFibGUgPSBuZXcgKFVTRV9UWVBFREFSUkFZID8gVWludDhBcnJheSA6IEFycmF5KShobGl0ICsgaGRpc3QpO1xyXG4gIGZvciAoaSA9IDAsIGlsID0gaGxpdCArIGhkaXN0OyBpIDwgaWw7KSB7XHJcbiAgICBjb2RlID0gdGhpcy5yZWFkQ29kZUJ5VGFibGUoY29kZUxlbmd0aHNUYWJsZSk7XHJcbiAgICBzd2l0Y2ggKGNvZGUpIHtcclxuICAgICAgY2FzZSAxNjpcclxuICAgICAgICByZXBlYXQgPSAzICsgdGhpcy5yZWFkQml0cygyKTtcclxuICAgICAgICB3aGlsZSAocmVwZWF0LS0pIHsgbGVuZ3RoVGFibGVbaSsrXSA9IHByZXY7IH1cclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAxNzpcclxuICAgICAgICByZXBlYXQgPSAzICsgdGhpcy5yZWFkQml0cygzKTtcclxuICAgICAgICB3aGlsZSAocmVwZWF0LS0pIHsgbGVuZ3RoVGFibGVbaSsrXSA9IDA7IH1cclxuICAgICAgICBwcmV2ID0gMDtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAxODpcclxuICAgICAgICByZXBlYXQgPSAxMSArIHRoaXMucmVhZEJpdHMoNyk7XHJcbiAgICAgICAgd2hpbGUgKHJlcGVhdC0tKSB7IGxlbmd0aFRhYmxlW2krK10gPSAwOyB9XHJcbiAgICAgICAgcHJldiA9IDA7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgbGVuZ3RoVGFibGVbaSsrXSA9IGNvZGU7XHJcbiAgICAgICAgcHJldiA9IGNvZGU7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBsaXRsZW5UYWJsZSA9IFVTRV9UWVBFREFSUkFZXHJcbiAgICA/IGJ1aWxkSHVmZm1hblRhYmxlKGxlbmd0aFRhYmxlLnN1YmFycmF5KDAsIGhsaXQpKVxyXG4gICAgOiBidWlsZEh1ZmZtYW5UYWJsZShsZW5ndGhUYWJsZS5zbGljZSgwLCBobGl0KSk7XHJcbiAgZGlzdFRhYmxlID0gVVNFX1RZUEVEQVJSQVlcclxuICAgID8gYnVpbGRIdWZmbWFuVGFibGUobGVuZ3RoVGFibGUuc3ViYXJyYXkoaGxpdCkpXHJcbiAgICA6IGJ1aWxkSHVmZm1hblRhYmxlKGxlbmd0aFRhYmxlLnNsaWNlKGhsaXQpKTtcclxuXHJcbiAgc3dpdGNoICh0aGlzLmJ1ZmZlclR5cGUpIHtcclxuICAgIGNhc2UgWmxpYi5SYXdJbmZsYXRlLkJ1ZmZlclR5cGUuQURBUFRJVkU6XHJcbiAgICAgIHRoaXMuZGVjb2RlSHVmZm1hbkFkYXB0aXZlKGxpdGxlblRhYmxlLCBkaXN0VGFibGUpO1xyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgWmxpYi5SYXdJbmZsYXRlLkJ1ZmZlclR5cGUuQkxPQ0s6XHJcbiAgICAgIHRoaXMuZGVjb2RlSHVmZm1hbkJsb2NrKGxpdGxlblRhYmxlLCBkaXN0VGFibGUpO1xyXG4gICAgICBicmVhaztcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBpbmZsYXRlIG1vZGUnKTtcclxuICB9XHJcbn07XHJcblxyXG4vKipcclxuICogZGVjb2RlIGh1ZmZtYW4gY29kZVxyXG4gKiBAcGFyYW0geyEoQXJyYXkuPG51bWJlcj58VWludDE2QXJyYXkpfSBsaXRsZW4gbGl0ZXJhbCBhbmQgbGVuZ3RoIGNvZGUgdGFibGUuXHJcbiAqIEBwYXJhbSB7IShBcnJheS48bnVtYmVyPnxVaW50OEFycmF5KX0gZGlzdCBkaXN0aW5hdGlvbiBjb2RlIHRhYmxlLlxyXG4gKi9cclxuWmxpYi5SYXdJbmZsYXRlLnByb3RvdHlwZS5kZWNvZGVIdWZmbWFuQmxvY2sgPSBmdW5jdGlvbihsaXRsZW4sIGRpc3QpIHtcclxuICB2YXIgb3V0cHV0ID0gdGhpcy5vdXRwdXQ7XHJcbiAgdmFyIG9wID0gdGhpcy5vcDtcclxuXHJcbiAgdGhpcy5jdXJyZW50TGl0bGVuVGFibGUgPSBsaXRsZW47XHJcblxyXG4gIC8qKiBAdHlwZSB7bnVtYmVyfSBvdXRwdXQgcG9zaXRpb24gbGltaXQuICovXHJcbiAgdmFyIG9sZW5ndGggPSBvdXRwdXQubGVuZ3RoIC0gWmxpYi5SYXdJbmZsYXRlLk1heENvcHlMZW5ndGg7XHJcbiAgLyoqIEB0eXBlIHtudW1iZXJ9IGh1ZmZtYW4gY29kZS4gKi9cclxuICB2YXIgY29kZTtcclxuICAvKiogQHR5cGUge251bWJlcn0gdGFibGUgaW5kZXguICovXHJcbiAgdmFyIHRpO1xyXG4gIC8qKiBAdHlwZSB7bnVtYmVyfSBodWZmbWFuIGNvZGUgZGlzdGluYXRpb24uICovXHJcbiAgdmFyIGNvZGVEaXN0O1xyXG4gIC8qKiBAdHlwZSB7bnVtYmVyfSBodWZmbWFuIGNvZGUgbGVuZ3RoLiAqL1xyXG4gIHZhciBjb2RlTGVuZ3RoO1xyXG5cclxuICB2YXIgbGVuZ3RoQ29kZVRhYmxlID0gWmxpYi5SYXdJbmZsYXRlLkxlbmd0aENvZGVUYWJsZTtcclxuICB2YXIgbGVuZ3RoRXh0cmFUYWJsZSA9IFpsaWIuUmF3SW5mbGF0ZS5MZW5ndGhFeHRyYVRhYmxlO1xyXG4gIHZhciBkaXN0Q29kZVRhYmxlID0gWmxpYi5SYXdJbmZsYXRlLkRpc3RDb2RlVGFibGU7XHJcbiAgdmFyIGRpc3RFeHRyYVRhYmxlID0gWmxpYi5SYXdJbmZsYXRlLkRpc3RFeHRyYVRhYmxlO1xyXG5cclxuICB3aGlsZSAoKGNvZGUgPSB0aGlzLnJlYWRDb2RlQnlUYWJsZShsaXRsZW4pKSAhPT0gMjU2KSB7XHJcbiAgICAvLyBsaXRlcmFsXHJcbiAgICBpZiAoY29kZSA8IDI1Nikge1xyXG4gICAgICBpZiAob3AgPj0gb2xlbmd0aCkge1xyXG4gICAgICAgIHRoaXMub3AgPSBvcDtcclxuICAgICAgICBvdXRwdXQgPSB0aGlzLmV4cGFuZEJ1ZmZlckJsb2NrKCk7XHJcbiAgICAgICAgb3AgPSB0aGlzLm9wO1xyXG4gICAgICB9XHJcbiAgICAgIG91dHB1dFtvcCsrXSA9IGNvZGU7XHJcblxyXG4gICAgICBjb250aW51ZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBsZW5ndGggY29kZVxyXG4gICAgdGkgPSBjb2RlIC0gMjU3O1xyXG4gICAgY29kZUxlbmd0aCA9IGxlbmd0aENvZGVUYWJsZVt0aV07XHJcbiAgICBpZiAobGVuZ3RoRXh0cmFUYWJsZVt0aV0gPiAwKSB7XHJcbiAgICAgIGNvZGVMZW5ndGggKz0gdGhpcy5yZWFkQml0cyhsZW5ndGhFeHRyYVRhYmxlW3RpXSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gZGlzdCBjb2RlXHJcbiAgICBjb2RlID0gdGhpcy5yZWFkQ29kZUJ5VGFibGUoZGlzdCk7XHJcbiAgICBjb2RlRGlzdCA9IGRpc3RDb2RlVGFibGVbY29kZV07XHJcbiAgICBpZiAoZGlzdEV4dHJhVGFibGVbY29kZV0gPiAwKSB7XHJcbiAgICAgIGNvZGVEaXN0ICs9IHRoaXMucmVhZEJpdHMoZGlzdEV4dHJhVGFibGVbY29kZV0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGx6NzcgZGVjb2RlXHJcbiAgICBpZiAob3AgPj0gb2xlbmd0aCkge1xyXG4gICAgICB0aGlzLm9wID0gb3A7XHJcbiAgICAgIG91dHB1dCA9IHRoaXMuZXhwYW5kQnVmZmVyQmxvY2soKTtcclxuICAgICAgb3AgPSB0aGlzLm9wO1xyXG4gICAgfVxyXG4gICAgd2hpbGUgKGNvZGVMZW5ndGgtLSkge1xyXG4gICAgICBvdXRwdXRbb3BdID0gb3V0cHV0WyhvcCsrKSAtIGNvZGVEaXN0XTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHdoaWxlICh0aGlzLmJpdHNidWZsZW4gPj0gOCkge1xyXG4gICAgdGhpcy5iaXRzYnVmbGVuIC09IDg7XHJcbiAgICB0aGlzLmlwLS07XHJcbiAgfVxyXG4gIHRoaXMub3AgPSBvcDtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBkZWNvZGUgaHVmZm1hbiBjb2RlIChhZGFwdGl2ZSlcclxuICogQHBhcmFtIHshKEFycmF5LjxudW1iZXI+fFVpbnQxNkFycmF5KX0gbGl0bGVuIGxpdGVyYWwgYW5kIGxlbmd0aCBjb2RlIHRhYmxlLlxyXG4gKiBAcGFyYW0geyEoQXJyYXkuPG51bWJlcj58VWludDhBcnJheSl9IGRpc3QgZGlzdGluYXRpb24gY29kZSB0YWJsZS5cclxuICovXHJcblpsaWIuUmF3SW5mbGF0ZS5wcm90b3R5cGUuZGVjb2RlSHVmZm1hbkFkYXB0aXZlID0gZnVuY3Rpb24obGl0bGVuLCBkaXN0KSB7XHJcbiAgdmFyIG91dHB1dCA9IHRoaXMub3V0cHV0O1xyXG4gIHZhciBvcCA9IHRoaXMub3A7XHJcblxyXG4gIHRoaXMuY3VycmVudExpdGxlblRhYmxlID0gbGl0bGVuO1xyXG5cclxuICAvKiogQHR5cGUge251bWJlcn0gb3V0cHV0IHBvc2l0aW9uIGxpbWl0LiAqL1xyXG4gIHZhciBvbGVuZ3RoID0gb3V0cHV0Lmxlbmd0aDtcclxuICAvKiogQHR5cGUge251bWJlcn0gaHVmZm1hbiBjb2RlLiAqL1xyXG4gIHZhciBjb2RlO1xyXG4gIC8qKiBAdHlwZSB7bnVtYmVyfSB0YWJsZSBpbmRleC4gKi9cclxuICB2YXIgdGk7XHJcbiAgLyoqIEB0eXBlIHtudW1iZXJ9IGh1ZmZtYW4gY29kZSBkaXN0aW5hdGlvbi4gKi9cclxuICB2YXIgY29kZURpc3Q7XHJcbiAgLyoqIEB0eXBlIHtudW1iZXJ9IGh1ZmZtYW4gY29kZSBsZW5ndGguICovXHJcbiAgdmFyIGNvZGVMZW5ndGg7XHJcblxyXG4gIHZhciBsZW5ndGhDb2RlVGFibGUgPSBabGliLlJhd0luZmxhdGUuTGVuZ3RoQ29kZVRhYmxlO1xyXG4gIHZhciBsZW5ndGhFeHRyYVRhYmxlID0gWmxpYi5SYXdJbmZsYXRlLkxlbmd0aEV4dHJhVGFibGU7XHJcbiAgdmFyIGRpc3RDb2RlVGFibGUgPSBabGliLlJhd0luZmxhdGUuRGlzdENvZGVUYWJsZTtcclxuICB2YXIgZGlzdEV4dHJhVGFibGUgPSBabGliLlJhd0luZmxhdGUuRGlzdEV4dHJhVGFibGU7XHJcblxyXG4gIHdoaWxlICgoY29kZSA9IHRoaXMucmVhZENvZGVCeVRhYmxlKGxpdGxlbikpICE9PSAyNTYpIHtcclxuICAgIC8vIGxpdGVyYWxcclxuICAgIGlmIChjb2RlIDwgMjU2KSB7XHJcbiAgICAgIGlmIChvcCA+PSBvbGVuZ3RoKSB7XHJcbiAgICAgICAgb3V0cHV0ID0gdGhpcy5leHBhbmRCdWZmZXJBZGFwdGl2ZSgpO1xyXG4gICAgICAgIG9sZW5ndGggPSBvdXRwdXQubGVuZ3RoO1xyXG4gICAgICB9XHJcbiAgICAgIG91dHB1dFtvcCsrXSA9IGNvZGU7XHJcblxyXG4gICAgICBjb250aW51ZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBsZW5ndGggY29kZVxyXG4gICAgdGkgPSBjb2RlIC0gMjU3O1xyXG4gICAgY29kZUxlbmd0aCA9IGxlbmd0aENvZGVUYWJsZVt0aV07XHJcbiAgICBpZiAobGVuZ3RoRXh0cmFUYWJsZVt0aV0gPiAwKSB7XHJcbiAgICAgIGNvZGVMZW5ndGggKz0gdGhpcy5yZWFkQml0cyhsZW5ndGhFeHRyYVRhYmxlW3RpXSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gZGlzdCBjb2RlXHJcbiAgICBjb2RlID0gdGhpcy5yZWFkQ29kZUJ5VGFibGUoZGlzdCk7XHJcbiAgICBjb2RlRGlzdCA9IGRpc3RDb2RlVGFibGVbY29kZV07XHJcbiAgICBpZiAoZGlzdEV4dHJhVGFibGVbY29kZV0gPiAwKSB7XHJcbiAgICAgIGNvZGVEaXN0ICs9IHRoaXMucmVhZEJpdHMoZGlzdEV4dHJhVGFibGVbY29kZV0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGx6NzcgZGVjb2RlXHJcbiAgICBpZiAob3AgKyBjb2RlTGVuZ3RoID4gb2xlbmd0aCkge1xyXG4gICAgICBvdXRwdXQgPSB0aGlzLmV4cGFuZEJ1ZmZlckFkYXB0aXZlKCk7XHJcbiAgICAgIG9sZW5ndGggPSBvdXRwdXQubGVuZ3RoO1xyXG4gICAgfVxyXG4gICAgd2hpbGUgKGNvZGVMZW5ndGgtLSkge1xyXG4gICAgICBvdXRwdXRbb3BdID0gb3V0cHV0WyhvcCsrKSAtIGNvZGVEaXN0XTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHdoaWxlICh0aGlzLmJpdHNidWZsZW4gPj0gOCkge1xyXG4gICAgdGhpcy5iaXRzYnVmbGVuIC09IDg7XHJcbiAgICB0aGlzLmlwLS07XHJcbiAgfVxyXG4gIHRoaXMub3AgPSBvcDtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBleHBhbmQgb3V0cHV0IGJ1ZmZlci5cclxuICogQHBhcmFtIHtPYmplY3Q9fSBvcHRfcGFyYW0gb3B0aW9uIHBhcmFtZXRlcnMuXHJcbiAqIEByZXR1cm4geyEoQXJyYXkuPG51bWJlcj58VWludDhBcnJheSl9IG91dHB1dCBidWZmZXIuXHJcbiAqL1xyXG5abGliLlJhd0luZmxhdGUucHJvdG90eXBlLmV4cGFuZEJ1ZmZlckJsb2NrID0gZnVuY3Rpb24ob3B0X3BhcmFtKSB7XHJcbiAgLyoqIEB0eXBlIHshKEFycmF5LjxudW1iZXI+fFVpbnQ4QXJyYXkpfSBzdG9yZSBidWZmZXIuICovXHJcbiAgdmFyIGJ1ZmZlciA9XHJcbiAgICBuZXcgKFVTRV9UWVBFREFSUkFZID8gVWludDhBcnJheSA6IEFycmF5KShcclxuICAgICAgICB0aGlzLm9wIC0gWmxpYi5SYXdJbmZsYXRlLk1heEJhY2t3YXJkTGVuZ3RoXHJcbiAgICApO1xyXG4gIC8qKiBAdHlwZSB7bnVtYmVyfSBiYWNrd2FyZCBiYXNlIHBvaW50ICovXHJcbiAgdmFyIGJhY2t3YXJkID0gdGhpcy5vcCAtIFpsaWIuUmF3SW5mbGF0ZS5NYXhCYWNrd2FyZExlbmd0aDtcclxuICAvKiogQHR5cGUge251bWJlcn0gY29weSBpbmRleC4gKi9cclxuICB2YXIgaTtcclxuICAvKiogQHR5cGUge251bWJlcn0gY29weSBsaW1pdCAqL1xyXG4gIHZhciBpbDtcclxuXHJcbiAgdmFyIG91dHB1dCA9IHRoaXMub3V0cHV0O1xyXG5cclxuICAvLyBjb3B5IHRvIG91dHB1dCBidWZmZXJcclxuICBpZiAoVVNFX1RZUEVEQVJSQVkpIHtcclxuICAgIGJ1ZmZlci5zZXQob3V0cHV0LnN1YmFycmF5KFpsaWIuUmF3SW5mbGF0ZS5NYXhCYWNrd2FyZExlbmd0aCwgYnVmZmVyLmxlbmd0aCkpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBmb3IgKGkgPSAwLCBpbCA9IGJ1ZmZlci5sZW5ndGg7IGkgPCBpbDsgKytpKSB7XHJcbiAgICAgIGJ1ZmZlcltpXSA9IG91dHB1dFtpICsgWmxpYi5SYXdJbmZsYXRlLk1heEJhY2t3YXJkTGVuZ3RoXTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHRoaXMuYmxvY2tzLnB1c2goYnVmZmVyKTtcclxuICB0aGlzLnRvdGFscG9zICs9IGJ1ZmZlci5sZW5ndGg7XHJcblxyXG4gIC8vIGNvcHkgdG8gYmFja3dhcmQgYnVmZmVyXHJcbiAgaWYgKFVTRV9UWVBFREFSUkFZKSB7XHJcbiAgICBvdXRwdXQuc2V0KFxyXG4gICAgICBvdXRwdXQuc3ViYXJyYXkoYmFja3dhcmQsIGJhY2t3YXJkICsgWmxpYi5SYXdJbmZsYXRlLk1heEJhY2t3YXJkTGVuZ3RoKVxyXG4gICAgKTtcclxuICB9IGVsc2Uge1xyXG4gICAgZm9yIChpID0gMDsgaSA8IFpsaWIuUmF3SW5mbGF0ZS5NYXhCYWNrd2FyZExlbmd0aDsgKytpKSB7XHJcbiAgICAgIG91dHB1dFtpXSA9IG91dHB1dFtiYWNrd2FyZCArIGldO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdGhpcy5vcCA9IFpsaWIuUmF3SW5mbGF0ZS5NYXhCYWNrd2FyZExlbmd0aDtcclxuXHJcbiAgcmV0dXJuIG91dHB1dDtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBleHBhbmQgb3V0cHV0IGJ1ZmZlci4gKGFkYXB0aXZlKVxyXG4gKiBAcGFyYW0ge09iamVjdD19IG9wdF9wYXJhbSBvcHRpb24gcGFyYW1ldGVycy5cclxuICogQHJldHVybiB7IShBcnJheS48bnVtYmVyPnxVaW50OEFycmF5KX0gb3V0cHV0IGJ1ZmZlciBwb2ludGVyLlxyXG4gKi9cclxuWmxpYi5SYXdJbmZsYXRlLnByb3RvdHlwZS5leHBhbmRCdWZmZXJBZGFwdGl2ZSA9IGZ1bmN0aW9uKG9wdF9wYXJhbSkge1xyXG4gIC8qKiBAdHlwZSB7IShBcnJheS48bnVtYmVyPnxVaW50OEFycmF5KX0gc3RvcmUgYnVmZmVyLiAqL1xyXG4gIHZhciBidWZmZXI7XHJcbiAgLyoqIEB0eXBlIHtudW1iZXJ9IGV4cGFudGlvbiByYXRpby4gKi9cclxuICB2YXIgcmF0aW8gPSAodGhpcy5pbnB1dC5sZW5ndGggLyB0aGlzLmlwICsgMSkgfCAwO1xyXG4gIC8qKiBAdHlwZSB7bnVtYmVyfSBtYXhpbXVtIG51bWJlciBvZiBodWZmbWFuIGNvZGUuICovXHJcbiAgdmFyIG1heEh1ZmZDb2RlO1xyXG4gIC8qKiBAdHlwZSB7bnVtYmVyfSBuZXcgb3V0cHV0IGJ1ZmZlciBzaXplLiAqL1xyXG4gIHZhciBuZXdTaXplO1xyXG4gIC8qKiBAdHlwZSB7bnVtYmVyfSBtYXggaW5mbGF0ZSBzaXplLiAqL1xyXG4gIHZhciBtYXhJbmZsYXRlU2l6ZTtcclxuXHJcbiAgdmFyIGlucHV0ID0gdGhpcy5pbnB1dDtcclxuICB2YXIgb3V0cHV0ID0gdGhpcy5vdXRwdXQ7XHJcblxyXG4gIGlmIChvcHRfcGFyYW0pIHtcclxuICAgIGlmICh0eXBlb2Ygb3B0X3BhcmFtLmZpeFJhdGlvID09PSAnbnVtYmVyJykge1xyXG4gICAgICByYXRpbyA9IG9wdF9wYXJhbS5maXhSYXRpbztcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2Ygb3B0X3BhcmFtLmFkZFJhdGlvID09PSAnbnVtYmVyJykge1xyXG4gICAgICByYXRpbyArPSBvcHRfcGFyYW0uYWRkUmF0aW87XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBjYWxjdWxhdGUgbmV3IGJ1ZmZlciBzaXplXHJcbiAgaWYgKHJhdGlvIDwgMikge1xyXG4gICAgbWF4SHVmZkNvZGUgPVxyXG4gICAgICAoaW5wdXQubGVuZ3RoIC0gdGhpcy5pcCkgLyB0aGlzLmN1cnJlbnRMaXRsZW5UYWJsZVsyXTtcclxuICAgIG1heEluZmxhdGVTaXplID0gKG1heEh1ZmZDb2RlIC8gMiAqIDI1OCkgfCAwO1xyXG4gICAgbmV3U2l6ZSA9IG1heEluZmxhdGVTaXplIDwgb3V0cHV0Lmxlbmd0aCA/XHJcbiAgICAgIG91dHB1dC5sZW5ndGggKyBtYXhJbmZsYXRlU2l6ZSA6XHJcbiAgICAgIG91dHB1dC5sZW5ndGggPDwgMTtcclxuICB9IGVsc2Uge1xyXG4gICAgbmV3U2l6ZSA9IG91dHB1dC5sZW5ndGggKiByYXRpbztcclxuICB9XHJcblxyXG4gIC8vIGJ1ZmZlciBleHBhbnRpb25cclxuICBpZiAoVVNFX1RZUEVEQVJSQVkpIHtcclxuICAgIGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KG5ld1NpemUpO1xyXG4gICAgYnVmZmVyLnNldChvdXRwdXQpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBidWZmZXIgPSBvdXRwdXQ7XHJcbiAgfVxyXG5cclxuICB0aGlzLm91dHB1dCA9IGJ1ZmZlcjtcclxuXHJcbiAgcmV0dXJuIHRoaXMub3V0cHV0O1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIGNvbmNhdCBvdXRwdXQgYnVmZmVyLlxyXG4gKiBAcmV0dXJuIHshKEFycmF5LjxudW1iZXI+fFVpbnQ4QXJyYXkpfSBvdXRwdXQgYnVmZmVyLlxyXG4gKi9cclxuWmxpYi5SYXdJbmZsYXRlLnByb3RvdHlwZS5jb25jYXRCdWZmZXJCbG9jayA9IGZ1bmN0aW9uKCkge1xyXG4gIC8qKiBAdHlwZSB7bnVtYmVyfSBidWZmZXIgcG9pbnRlci4gKi9cclxuICB2YXIgcG9zID0gMDtcclxuICAvKiogQHR5cGUge251bWJlcn0gYnVmZmVyIHBvaW50ZXIuICovXHJcbiAgdmFyIGxpbWl0ID0gdGhpcy50b3RhbHBvcyArICh0aGlzLm9wIC0gWmxpYi5SYXdJbmZsYXRlLk1heEJhY2t3YXJkTGVuZ3RoKTtcclxuICAvKiogQHR5cGUgeyEoQXJyYXkuPG51bWJlcj58VWludDhBcnJheSl9IG91dHB1dCBibG9jayBhcnJheS4gKi9cclxuICB2YXIgb3V0cHV0ID0gdGhpcy5vdXRwdXQ7XHJcbiAgLyoqIEB0eXBlIHshQXJyYXl9IGJsb2NrcyBhcnJheS4gKi9cclxuICB2YXIgYmxvY2tzID0gdGhpcy5ibG9ja3M7XHJcbiAgLyoqIEB0eXBlIHshKEFycmF5LjxudW1iZXI+fFVpbnQ4QXJyYXkpfSBvdXRwdXQgYmxvY2sgYXJyYXkuICovXHJcbiAgdmFyIGJsb2NrO1xyXG4gIC8qKiBAdHlwZSB7IShBcnJheS48bnVtYmVyPnxVaW50OEFycmF5KX0gb3V0cHV0IGJ1ZmZlci4gKi9cclxuICB2YXIgYnVmZmVyID0gbmV3IChVU0VfVFlQRURBUlJBWSA/IFVpbnQ4QXJyYXkgOiBBcnJheSkobGltaXQpO1xyXG4gIC8qKiBAdHlwZSB7bnVtYmVyfSBsb29wIGNvdW50ZXIuICovXHJcbiAgdmFyIGk7XHJcbiAgLyoqIEB0eXBlIHtudW1iZXJ9IGxvb3AgbGltaXRlci4gKi9cclxuICB2YXIgaWw7XHJcbiAgLyoqIEB0eXBlIHtudW1iZXJ9IGxvb3AgY291bnRlci4gKi9cclxuICB2YXIgajtcclxuICAvKiogQHR5cGUge251bWJlcn0gbG9vcCBsaW1pdGVyLiAqL1xyXG4gIHZhciBqbDtcclxuXHJcbiAgLy8gc2luZ2xlIGJ1ZmZlclxyXG4gIGlmIChibG9ja3MubGVuZ3RoID09PSAwKSB7XHJcbiAgICByZXR1cm4gVVNFX1RZUEVEQVJSQVkgP1xyXG4gICAgICB0aGlzLm91dHB1dC5zdWJhcnJheShabGliLlJhd0luZmxhdGUuTWF4QmFja3dhcmRMZW5ndGgsIHRoaXMub3ApIDpcclxuICAgICAgdGhpcy5vdXRwdXQuc2xpY2UoWmxpYi5SYXdJbmZsYXRlLk1heEJhY2t3YXJkTGVuZ3RoLCB0aGlzLm9wKTtcclxuICB9XHJcblxyXG4gIC8vIGNvcHkgdG8gYnVmZmVyXHJcbiAgZm9yIChpID0gMCwgaWwgPSBibG9ja3MubGVuZ3RoOyBpIDwgaWw7ICsraSkge1xyXG4gICAgYmxvY2sgPSBibG9ja3NbaV07XHJcbiAgICBmb3IgKGogPSAwLCBqbCA9IGJsb2NrLmxlbmd0aDsgaiA8IGpsOyArK2opIHtcclxuICAgICAgYnVmZmVyW3BvcysrXSA9IGJsb2NrW2pdO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gY3VycmVudCBidWZmZXJcclxuICBmb3IgKGkgPSBabGliLlJhd0luZmxhdGUuTWF4QmFja3dhcmRMZW5ndGgsIGlsID0gdGhpcy5vcDsgaSA8IGlsOyArK2kpIHtcclxuICAgIGJ1ZmZlcltwb3MrK10gPSBvdXRwdXRbaV07XHJcbiAgfVxyXG5cclxuICB0aGlzLmJsb2NrcyA9IFtdO1xyXG4gIHRoaXMuYnVmZmVyID0gYnVmZmVyO1xyXG5cclxuICByZXR1cm4gdGhpcy5idWZmZXI7XHJcbn07XHJcblxyXG4vKipcclxuICogY29uY2F0IG91dHB1dCBidWZmZXIuIChkeW5hbWljKVxyXG4gKiBAcmV0dXJuIHshKEFycmF5LjxudW1iZXI+fFVpbnQ4QXJyYXkpfSBvdXRwdXQgYnVmZmVyLlxyXG4gKi9cclxuWmxpYi5SYXdJbmZsYXRlLnByb3RvdHlwZS5jb25jYXRCdWZmZXJEeW5hbWljID0gZnVuY3Rpb24oKSB7XHJcbiAgLyoqIEB0eXBlIHtBcnJheS48bnVtYmVyPnxVaW50OEFycmF5fSBvdXRwdXQgYnVmZmVyLiAqL1xyXG4gIHZhciBidWZmZXI7XHJcbiAgdmFyIG9wID0gdGhpcy5vcDtcclxuXHJcbiAgaWYgKFVTRV9UWVBFREFSUkFZKSB7XHJcbiAgICBpZiAodGhpcy5yZXNpemUpIHtcclxuICAgICAgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkob3ApO1xyXG4gICAgICBidWZmZXIuc2V0KHRoaXMub3V0cHV0LnN1YmFycmF5KDAsIG9wKSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBidWZmZXIgPSB0aGlzLm91dHB1dC5zdWJhcnJheSgwLCBvcCk7XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIGlmICh0aGlzLm91dHB1dC5sZW5ndGggPiBvcCkge1xyXG4gICAgICB0aGlzLm91dHB1dC5sZW5ndGggPSBvcDtcclxuICAgIH1cclxuICAgIGJ1ZmZlciA9IHRoaXMub3V0cHV0O1xyXG4gIH1cclxuXHJcbiAgdGhpcy5idWZmZXIgPSBidWZmZXI7XHJcblxyXG4gIHJldHVybiB0aGlzLmJ1ZmZlcjtcclxufTtcclxuXHJcbi8vIGVuZCBvZiBzY29wZVxyXG59KTtcclxuXHJcbi8qIHZpbTpzZXQgZXhwYW5kdGFiIHRzPTIgc3c9MiB0dz04MDogKi9cclxuIiwiZ29vZy5wcm92aWRlKCdabGliLkluZmxhdGUnKTtcclxuXHJcbmdvb2cucmVxdWlyZSgnVVNFX1RZUEVEQVJSQVknKTtcclxuZ29vZy5yZXF1aXJlKCdabGliLkFkbGVyMzInKTtcclxuZ29vZy5yZXF1aXJlKCdabGliLlJhd0luZmxhdGUnKTtcclxuXHJcbmdvb2cuc2NvcGUoZnVuY3Rpb24oKSB7XHJcblxyXG4vKipcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBwYXJhbSB7IShVaW50OEFycmF5fEFycmF5KX0gaW5wdXQgZGVmbGF0ZWQgYnVmZmVyLlxyXG4gKiBAcGFyYW0ge09iamVjdD19IG9wdF9wYXJhbXMgb3B0aW9uIHBhcmFtZXRlcnMuXHJcbiAqXHJcbiAqIG9wdF9wYXJhbXMg44Gv5Lul5LiL44Gu44OX44Ot44OR44OG44Kj44KS5oyH5a6a44GZ44KL5LqL44GM44Gn44GN44G+44GZ44CCXHJcbiAqICAgLSBpbmRleDogaW5wdXQgYnVmZmVyIOOBriBkZWZsYXRlIOOCs+ODs+ODhuODiuOBrumWi+Wni+S9jee9ri5cclxuICogICAtIGJsb2NrU2l6ZTog44OQ44OD44OV44Kh44Gu44OW44Ot44OD44Kv44K144Kk44K6LlxyXG4gKiAgIC0gdmVyaWZ5OiDkvLjlvLXjgYzntYLjgo/jgaPjgZ/lvowgYWRsZXItMzIgY2hlY2tzdW0g44Gu5qSc6Ki844KS6KGM44GG44GLLlxyXG4gKiAgIC0gYnVmZmVyVHlwZTogWmxpYi5JbmZsYXRlLkJ1ZmZlclR5cGUg44Gu5YCk44Gr44KI44Gj44Gm44OQ44OD44OV44Kh44Gu566h55CG5pa55rOV44KS5oyH5a6a44GZ44KLLlxyXG4gKiAgICAgICBabGliLkluZmxhdGUuQnVmZmVyVHlwZSDjga8gWmxpYi5SYXdJbmZsYXRlLkJ1ZmZlclR5cGUg44Gu44Ko44Kk44Oq44Ki44K5LlxyXG4gKi9cclxuWmxpYi5JbmZsYXRlID0gZnVuY3Rpb24oaW5wdXQsIG9wdF9wYXJhbXMpIHtcclxuICAvKiogQHR5cGUge251bWJlcn0gKi9cclxuICB2YXIgYnVmZmVyU2l6ZTtcclxuICAvKiogQHR5cGUge1psaWIuSW5mbGF0ZS5CdWZmZXJUeXBlfSAqL1xyXG4gIHZhciBidWZmZXJUeXBlO1xyXG4gIC8qKiBAdHlwZSB7bnVtYmVyfSAqL1xyXG4gIHZhciBjbWY7XHJcbiAgLyoqIEB0eXBlIHtudW1iZXJ9ICovXHJcbiAgdmFyIGZsZztcclxuXHJcbiAgLyoqIEB0eXBlIHshKFVpbnQ4QXJyYXl8QXJyYXkpfSAqL1xyXG4gIHRoaXMuaW5wdXQgPSBpbnB1dDtcclxuICAvKiogQHR5cGUge251bWJlcn0gKi9cclxuICB0aGlzLmlwID0gMDtcclxuICAvKiogQHR5cGUge1psaWIuUmF3SW5mbGF0ZX0gKi9cclxuICB0aGlzLnJhd2luZmxhdGU7XHJcbiAgLyoqIEB0eXBlIHsoYm9vbGVhbnx1bmRlZmluZWQpfSB2ZXJpZnkgZmxhZy4gKi9cclxuICB0aGlzLnZlcmlmeTtcclxuXHJcbiAgLy8gb3B0aW9uIHBhcmFtZXRlcnNcclxuICBpZiAob3B0X3BhcmFtcyB8fCAhKG9wdF9wYXJhbXMgPSB7fSkpIHtcclxuICAgIGlmIChvcHRfcGFyYW1zWydpbmRleCddKSB7XHJcbiAgICAgIHRoaXMuaXAgPSBvcHRfcGFyYW1zWydpbmRleCddO1xyXG4gICAgfVxyXG4gICAgaWYgKG9wdF9wYXJhbXNbJ3ZlcmlmeSddKSB7XHJcbiAgICAgIHRoaXMudmVyaWZ5ID0gb3B0X3BhcmFtc1sndmVyaWZ5J107XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBDb21wcmVzc2lvbiBNZXRob2QgYW5kIEZsYWdzXHJcbiAgY21mID0gaW5wdXRbdGhpcy5pcCsrXTtcclxuICBmbGcgPSBpbnB1dFt0aGlzLmlwKytdO1xyXG5cclxuICAvLyBjb21wcmVzc2lvbiBtZXRob2RcclxuICBzd2l0Y2ggKGNtZiAmIDB4MGYpIHtcclxuICAgIGNhc2UgWmxpYi5Db21wcmVzc2lvbk1ldGhvZC5ERUZMQVRFOlxyXG4gICAgICB0aGlzLm1ldGhvZCA9IFpsaWIuQ29tcHJlc3Npb25NZXRob2QuREVGTEFURTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Vuc3VwcG9ydGVkIGNvbXByZXNzaW9uIG1ldGhvZCcpO1xyXG4gIH1cclxuXHJcbiAgLy8gZmNoZWNrXHJcbiAgaWYgKCgoY21mIDw8IDgpICsgZmxnKSAlIDMxICE9PSAwKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgZmNoZWNrIGZsYWc6JyArICgoY21mIDw8IDgpICsgZmxnKSAlIDMxKTtcclxuICB9XHJcblxyXG4gIC8vIGZkaWN0IChub3Qgc3VwcG9ydGVkKVxyXG4gIGlmIChmbGcgJiAweDIwKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2ZkaWN0IGZsYWcgaXMgbm90IHN1cHBvcnRlZCcpO1xyXG4gIH1cclxuXHJcbiAgLy8gUmF3SW5mbGF0ZVxyXG4gIHRoaXMucmF3aW5mbGF0ZSA9IG5ldyBabGliLlJhd0luZmxhdGUoaW5wdXQsIHtcclxuICAgICdpbmRleCc6IHRoaXMuaXAsXHJcbiAgICAnYnVmZmVyU2l6ZSc6IG9wdF9wYXJhbXNbJ2J1ZmZlclNpemUnXSxcclxuICAgICdidWZmZXJUeXBlJzogb3B0X3BhcmFtc1snYnVmZmVyVHlwZSddLFxyXG4gICAgJ3Jlc2l6ZSc6IG9wdF9wYXJhbXNbJ3Jlc2l6ZSddXHJcbiAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZW51bSB7bnVtYmVyfVxyXG4gKi9cclxuWmxpYi5JbmZsYXRlLkJ1ZmZlclR5cGUgPSBabGliLlJhd0luZmxhdGUuQnVmZmVyVHlwZTtcclxuXHJcbi8qKlxyXG4gKiBkZWNvbXByZXNzLlxyXG4gKiBAcmV0dXJuIHshKFVpbnQ4QXJyYXl8QXJyYXkpfSBpbmZsYXRlZCBidWZmZXIuXHJcbiAqL1xyXG5abGliLkluZmxhdGUucHJvdG90eXBlLmRlY29tcHJlc3MgPSBmdW5jdGlvbigpIHtcclxuICAvKiogQHR5cGUgeyEoQXJyYXl8VWludDhBcnJheSl9IGlucHV0IGJ1ZmZlci4gKi9cclxuICB2YXIgaW5wdXQgPSB0aGlzLmlucHV0O1xyXG4gIC8qKiBAdHlwZSB7IShVaW50OEFycmF5fEFycmF5KX0gaW5mbGF0ZWQgYnVmZmVyLiAqL1xyXG4gIHZhciBidWZmZXI7XHJcbiAgLyoqIEB0eXBlIHtudW1iZXJ9IGFkbGVyLTMyIGNoZWNrc3VtICovXHJcbiAgdmFyIGFkbGVyMzI7XHJcblxyXG4gIGJ1ZmZlciA9IHRoaXMucmF3aW5mbGF0ZS5kZWNvbXByZXNzKCk7XHJcbiAgdGhpcy5pcCA9IHRoaXMucmF3aW5mbGF0ZS5pcDtcclxuXHJcbiAgLy8gdmVyaWZ5IGFkbGVyLTMyXHJcbiAgaWYgKHRoaXMudmVyaWZ5KSB7XHJcbiAgICBhZGxlcjMyID0gKFxyXG4gICAgICBpbnB1dFt0aGlzLmlwKytdIDw8IDI0IHwgaW5wdXRbdGhpcy5pcCsrXSA8PCAxNiB8XHJcbiAgICAgIGlucHV0W3RoaXMuaXArK10gPDwgOCB8IGlucHV0W3RoaXMuaXArK11cclxuICAgICkgPj4+IDA7XHJcblxyXG4gICAgaWYgKGFkbGVyMzIgIT09IFpsaWIuQWRsZXIzMihidWZmZXIpKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBhZGxlci0zMiBjaGVja3N1bScpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGJ1ZmZlcjtcclxufTtcclxuXHJcbi8vIGVuZCBvZiBzY29wZVxyXG59KTtcclxuXHJcbi8qIHZpbTpzZXQgZXhwYW5kdGFiIHRzPTIgc3c9MiB0dz04MDogKi9cclxuIiwiLyoqXHJcbiAqIEBmaWxlb3ZlcnZpZXcgQWRsZXIzMiBjaGVja3N1bSDlrp/oo4UuXHJcbiAqL1xyXG5nb29nLnByb3ZpZGUoJ1psaWIuQWRsZXIzMicpO1xyXG5cclxuZ29vZy5yZXF1aXJlKCdVU0VfVFlQRURBUlJBWScpO1xyXG5nb29nLnJlcXVpcmUoJ1psaWIuVXRpbCcpO1xyXG5cclxuZ29vZy5zY29wZShmdW5jdGlvbigpIHtcclxuXHJcbi8qKlxyXG4gKiBBZGxlcjMyIOODj+ODg+OCt+ODpeWApOOBruS9nOaIkFxyXG4gKiBAcGFyYW0geyEoQXJyYXl8VWludDhBcnJheXxzdHJpbmcpfSBhcnJheSDnrpflh7rjgavkvb/nlKjjgZnjgosgYnl0ZSBhcnJheS5cclxuICogQHJldHVybiB7bnVtYmVyfSBBZGxlcjMyIOODj+ODg+OCt+ODpeWApC5cclxuICovXHJcblpsaWIuQWRsZXIzMiA9IGZ1bmN0aW9uKGFycmF5KSB7XHJcbiAgaWYgKHR5cGVvZihhcnJheSkgPT09ICdzdHJpbmcnKSB7XHJcbiAgICBhcnJheSA9IFpsaWIuVXRpbC5zdHJpbmdUb0J5dGVBcnJheShhcnJheSk7XHJcbiAgfVxyXG4gIHJldHVybiBabGliLkFkbGVyMzIudXBkYXRlKDEsIGFycmF5KTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBBZGxlcjMyIOODj+ODg+OCt+ODpeWApOOBruabtOaWsFxyXG4gKiBAcGFyYW0ge251bWJlcn0gYWRsZXIg54++5Zyo44Gu44OP44OD44K344Ol5YCkLlxyXG4gKiBAcGFyYW0geyEoQXJyYXl8VWludDhBcnJheSl9IGFycmF5IOabtOaWsOOBq+S9v+eUqOOBmeOCiyBieXRlIGFycmF5LlxyXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEFkbGVyMzIg44OP44OD44K344Ol5YCkLlxyXG4gKi9cclxuWmxpYi5BZGxlcjMyLnVwZGF0ZSA9IGZ1bmN0aW9uKGFkbGVyLCBhcnJheSkge1xyXG4gIC8qKiBAdHlwZSB7bnVtYmVyfSAqL1xyXG4gIHZhciBzMSA9IGFkbGVyICYgMHhmZmZmO1xyXG4gIC8qKiBAdHlwZSB7bnVtYmVyfSAqL1xyXG4gIHZhciBzMiA9IChhZGxlciA+Pj4gMTYpICYgMHhmZmZmO1xyXG4gIC8qKiBAdHlwZSB7bnVtYmVyfSBhcnJheSBsZW5ndGggKi9cclxuICB2YXIgbGVuID0gYXJyYXkubGVuZ3RoO1xyXG4gIC8qKiBAdHlwZSB7bnVtYmVyfSBsb29wIGxlbmd0aCAoZG9uJ3Qgb3ZlcmZsb3cpICovXHJcbiAgdmFyIHRsZW47XHJcbiAgLyoqIEB0eXBlIHtudW1iZXJ9IGFycmF5IGluZGV4ICovXHJcbiAgdmFyIGkgPSAwO1xyXG5cclxuICB3aGlsZSAobGVuID4gMCkge1xyXG4gICAgdGxlbiA9IGxlbiA+IFpsaWIuQWRsZXIzMi5PcHRpbWl6YXRpb25QYXJhbWV0ZXIgP1xyXG4gICAgICBabGliLkFkbGVyMzIuT3B0aW1pemF0aW9uUGFyYW1ldGVyIDogbGVuO1xyXG4gICAgbGVuIC09IHRsZW47XHJcbiAgICBkbyB7XHJcbiAgICAgIHMxICs9IGFycmF5W2krK107XHJcbiAgICAgIHMyICs9IHMxO1xyXG4gICAgfSB3aGlsZSAoLS10bGVuKTtcclxuXHJcbiAgICBzMSAlPSA2NTUyMTtcclxuICAgIHMyICU9IDY1NTIxO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuICgoczIgPDwgMTYpIHwgczEpID4+PiAwO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEFkbGVyMzIg5pyA6YGp5YyW44OR44Op44Oh44O844K/XHJcbiAqIOePvueKtuOBp+OBryAxMDI0IOeoi+W6puOBjOacgOmBqS5cclxuICogQHNlZSBodHRwOi8vanNwZXJmLmNvbS9hZGxlci0zMi1zaW1wbGUtdnMtb3B0aW1pemVkLzNcclxuICogQGRlZmluZSB7bnVtYmVyfVxyXG4gKi9cclxuWmxpYi5BZGxlcjMyLk9wdGltaXphdGlvblBhcmFtZXRlciA9IDEwMjQ7XHJcblxyXG4vLyBlbmQgb2Ygc2NvcGVcclxufSk7XHJcblxyXG4vKiB2aW06c2V0IGV4cGFuZHRhYiB0cz0yIHN3PTIgdHc9ODA6ICovXHJcbiIsIi8qKlxyXG4gKiBAZmlsZW92ZXJ2aWV3IOmbkeWkmuOBqumWouaVsOe+pOOCkuOBvuOBqOOCgeOBn+ODouOCuOODpeODvOODq+Wun+ijhS5cclxuICovXHJcbmdvb2cucHJvdmlkZSgnWmxpYi5VdGlsJyk7XHJcblxyXG5nb29nLnNjb3BlKGZ1bmN0aW9uKCkge1xyXG5cclxuLyoqXHJcbiAqIEJ5dGUgU3RyaW5nIOOBi+OCiSBCeXRlIEFycmF5IOOBq+WkieaPmy5cclxuICogQHBhcmFtIHshc3RyaW5nfSBzdHIgYnl0ZSBzdHJpbmcuXHJcbiAqIEByZXR1cm4geyFBcnJheS48bnVtYmVyPn0gYnl0ZSBhcnJheS5cclxuICovXHJcblpsaWIuVXRpbC5zdHJpbmdUb0J5dGVBcnJheSA9IGZ1bmN0aW9uKHN0cikge1xyXG4gIC8qKiBAdHlwZSB7IUFycmF5Ljwoc3RyaW5nfG51bWJlcik+fSAqL1xyXG4gIHZhciB0bXAgPSBzdHIuc3BsaXQoJycpO1xyXG4gIC8qKiBAdHlwZSB7bnVtYmVyfSAqL1xyXG4gIHZhciBpO1xyXG4gIC8qKiBAdHlwZSB7bnVtYmVyfSAqL1xyXG4gIHZhciBpbDtcclxuXHJcbiAgZm9yIChpID0gMCwgaWwgPSB0bXAubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xyXG4gICAgdG1wW2ldID0gKHRtcFtpXS5jaGFyQ29kZUF0KDApICYgMHhmZikgPj4+IDA7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gdG1wO1xyXG59O1xyXG5cclxuLy8gZW5kIG9mIHNjb3BlXHJcbn0pO1xyXG5cclxuLyogdmltOnNldCBleHBhbmR0YWIgdHM9MiBzdz0yIHR3PTgwOiAqL1xyXG4iLCIvKipcclxuICogQGZpbGVvdmVydmlldyBabGliIG5hbWVzcGFjZS4gWmxpYiDjga7ku5Xmp5jjgavmupbmi6DjgZfjgZ/lnKfnuK7jga8gWmxpYi5EZWZsYXRlIOOBp+Wun+ijhVxyXG4gKiDjgZXjgozjgabjgYTjgosuIOOBk+OCjOOBryBJbmZsYXRlIOOBqOOBruWFseWtmOOCkuiAg+aFruOBl+OBpuOBhOOCi+eCui5cclxuICovXHJcblxyXG5nb29nLnByb3ZpZGUoJ1psaWInKTtcclxuXHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbmdvb2cuc2NvcGUoZnVuY3Rpb24oKSB7XHJcblxyXG4vKipcclxuICogQ29tcHJlc3Npb24gTWV0aG9kXHJcbiAqIEBlbnVtIHtudW1iZXJ9XHJcbiAqL1xyXG5abGliLkNvbXByZXNzaW9uTWV0aG9kID0ge1xyXG4gIERFRkxBVEU6IDgsXHJcbiAgUkVTRVJWRUQ6IDE1XHJcbn07XHJcblxyXG4vLyBlbmQgb2Ygc2NvcGVcclxufSk7XHJcblxyXG4vKiB2aW06c2V0IGV4cGFuZHRhYiB0cz0yIHN3PTIgdHc9ODA6ICovXHJcbiIsImdvb2cucmVxdWlyZSgnWmxpYi5JbmZsYXRlJyk7XHJcbmdvb2cucmVxdWlyZSgnWmxpYi5leHBvcnRPYmplY3QnKTtcclxuXHJcbmdvb2cuZXhwb3J0U3ltYm9sKCdabGliLkluZmxhdGUnLCBabGliLkluZmxhdGUpO1xyXG5nb29nLmV4cG9ydFN5bWJvbChcclxuICAnWmxpYi5JbmZsYXRlLnByb3RvdHlwZS5kZWNvbXByZXNzJyxcclxuICBabGliLkluZmxhdGUucHJvdG90eXBlLmRlY29tcHJlc3NcclxuKTtcclxuWmxpYi5leHBvcnRPYmplY3QoJ1psaWIuSW5mbGF0ZS5CdWZmZXJUeXBlJywge1xyXG4gICdBREFQVElWRSc6IFpsaWIuSW5mbGF0ZS5CdWZmZXJUeXBlLkFEQVBUSVZFLFxyXG4gICdCTE9DSyc6IFpsaWIuSW5mbGF0ZS5CdWZmZXJUeXBlLkJMT0NLXHJcbn0pO1xyXG4iLCJnb29nLnByb3ZpZGUoJ1psaWIuZXhwb3J0T2JqZWN0Jyk7XHJcblxyXG5nb29nLnJlcXVpcmUoJ1psaWInKTtcclxuXHJcbmdvb2cuc2NvcGUoZnVuY3Rpb24oKSB7XHJcblxyXG5abGliLmV4cG9ydE9iamVjdCA9IGZ1bmN0aW9uKGVudW1TdHJpbmcsIGV4cG9ydEtleVZhbHVlKSB7XHJcbiAgLyoqIEB0eXBlIHtBcnJheS48c3RyaW5nPn0gKi9cclxuICB2YXIga2V5cztcclxuICAvKiogQHR5cGUge3N0cmluZ30gKi9cclxuICB2YXIga2V5O1xyXG4gIC8qKiBAdHlwZSB7bnVtYmVyfSAqL1xyXG4gIHZhciBpO1xyXG4gIC8qKiBAdHlwZSB7bnVtYmVyfSAqL1xyXG4gIHZhciBpbDtcclxuXHJcbiAgaWYgKE9iamVjdC5rZXlzKSB7XHJcbiAgICBrZXlzID0gT2JqZWN0LmtleXMoZXhwb3J0S2V5VmFsdWUpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBrZXlzID0gW107XHJcbiAgICBpID0gMDtcclxuICAgIGZvciAoa2V5IGluIGV4cG9ydEtleVZhbHVlKSB7XHJcbiAgICAgIGtleXNbaSsrXSA9IGtleTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZvciAoaSA9IDAsIGlsID0ga2V5cy5sZW5ndGg7IGkgPCBpbDsgKytpKSB7XHJcbiAgICBrZXkgPSBrZXlzW2ldO1xyXG4gICAgZ29vZy5leHBvcnRTeW1ib2woZW51bVN0cmluZyArICcuJyArIGtleSwgZXhwb3J0S2V5VmFsdWVba2V5XSlcclxuICB9XHJcbn07XHJcblxyXG59KTsiXX0=